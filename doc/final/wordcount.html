<html>
<head>
<meta http-equiv='content-type' content='text/html; charset=utf8'>
<style>
<!--
body {width:auto;padding:5;margin:5;}
.error {font-weight:bold;color:#f00;font-style:italic; border: solid 1px red;}
.word,.hword,.oword,.altwd {border-left: 1px solid #CDF; border-bottom: 1px solid #CDF;}
.word {color: #009}
.hword {color: #009; font-weight: 700;}
.oword {color: #009; font-style: italic;}
.altwd {color: #00c; font-style: oblique;}
.cmd {color: #c00;}
.exclcmd {color: #f99;}
.option {color: #cc0;}
.optparm {color: #c90;}
.envir, .document {color: #900; font-weight:bold;}
.math {color: #6c0;}
.mathgroup {color: #090;}
.exclmath {color: #9f6;}
.mathcmd {color: #6c0;}
.ignore {color: #999;}
.exclenv {color:#c66;}
.special {color:#c66; font-weight: bold;}
.specarg {color:#c66; font-weight: bold; font-style: italic;}
.tc {color: #999; font-weight:bold;}
.comment {color: #999; font-style: italic;}
.state {color: #990; font-size: 70%;}
.cumsum {color: #999; font-size: 80%;}
.fileinc {color: #696; font-weight:bold;}
.warning {color: #c00; font-weight: 700;}
.note {color: #c90; font-weight: bold;}

div.filegroup, div.parse, div.stylehelp, div.count, div.sumcount, div.error {
   border: solid 1px #999; margin: 4pt 0pt; padding: 4pt;
}
div.stylehelp {font-size: 80%; background: #fffff0; margin-bottom: 16pt;}
div.filegroup {background: #dfd; margin-bottom: 16pt;}
div.count {background: #ffe;}
div.sumcount {background: #cec;}
div.error {background: #fcc;}
.parse {font-size: 80%; background: #f8fff8; border-bottom:none;}

ul.count {list-style-type: none; margin: 4pt 0pt; padding: 0pt;}
.count li.header {font-weight: bold; font-style: italic;}
.subcount li.header {font-weight: normal; font-style: italic;}
.subcount li {margin-left: 16pt; font-size: 80%;}
.fielddesc {font-style: italic;}
.nb {color: #900;}

table.stat {border:2px solid #339; margin:0 0 8pt 0; background:#666; border-collapse:collapse;}
table.stat tr {border:1px solid #CCC;}
table.stat th, table.stat td {padding:1pt 4pt;}
table.stat col {padding:4pt;}
table.stat thead {background: #CCF;}
table.stat tbody {border:1px solid #333;}
table.stat tbody.sumstat {background:#FFC;}
table.stat tbody.langstat {background:#FEE;}
table.stat tbody.wordstat {background:#EEF;}
table.stat tbody.macrostat {background:#EFE;}
table.stat .sum {font-weight:bold; font-style:italic;}
-->
</style>
</head>

<body>

<h1>LaTeX word count</h1>
<div class="stylehelp"><p><h2>Format/colour codes of verbose output:</h2>

<span class='error'>ERROR</span>&nbsp;&nbsp;....&nbsp;&nbsp;TeXcount error message<br>
<span class='word'>Text which is counted</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as text words<br>
<span class='hword'>Header and title text</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as header words<br>
<span class='oword'>Caption text and footnotes</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as caption words<br>
<span class='altwd'>Words in user specified counters</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted in separate counters<br>
<span class='ignore'>Ignored text or code</span>&nbsp;&nbsp;....&nbsp;&nbsp;excluded or ignored<br>
<span class='document'>\documentclass</span>&nbsp;&nbsp;....&nbsp;&nbsp;document start, beginning of preamble<br>
<span class='special'>Special macros, eg require special handling or have side-effects</span>&nbsp;&nbsp;....&nbsp;&nbsp;<br>
<span class='cmd'>\macro</span>&nbsp;&nbsp;....&nbsp;&nbsp;macro not counted, but parameters may be<br>
<span class='exclcmd'>\macro</span>&nbsp;&nbsp;....&nbsp;&nbsp;macro in excluded region<br>
<span class='option'>[Macro options]</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted<br>
<span class='optparm'>[Optional parameter]</span>&nbsp;&nbsp;....&nbsp;&nbsp;content parsed and styled as counted<br>
<span class='envir'>\begin{name}&nbsp; \end{name}</span>&nbsp;&nbsp;....&nbsp;&nbsp;environment<br>
<span class='exclenv'>\begin{name}&nbsp; \end{name}</span>&nbsp;&nbsp;....&nbsp;&nbsp;environment in excluded region<br>
<span class='specarg'>Special argument, eg with side-effects</span>&nbsp;&nbsp;....&nbsp;&nbsp;<br>
<span class='mathgroup'>$&nbsp; $</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as one equation<br>
<span class='exclmath'>$&nbsp; $</span>&nbsp;&nbsp;....&nbsp;&nbsp;equation in excluded region<br>
<span class='math'>2+2=4</span>&nbsp;&nbsp;....&nbsp;&nbsp;maths (inside $...$ etc.)<br>
<span class='mathcmd'>$\macro$</span>&nbsp;&nbsp;....&nbsp;&nbsp;macros inside maths<br>
<span class='comment'>% Comments</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted<br>
<span class='tc'>%TC:TeXcount instructions</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted<br>
<span class='fileinc'>File to include</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted but file may be counted later<br>
</p></div>


<div class='filegroup'>
<h2>File: Ben_Lancaster_10424877.tex</h2>
<div class='parse'><p>
<span class='document'>\documentclass</span><span class='option'>[11pt,a4paper]</span><span class='document'>{report}</span><br>
<br>
<span class='comment'>% font</span><br>
<span class='comment'>%\usepackage{fontspec}</span><br>
<span class='comment'>%\setmainfont{Times New Roman}</span><br>
<span class='comment'>%\usepackage{tgschola}</span><br>
<br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>helvet</span><span class='document'>}</span><br>
<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\familydefault</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>\sfdefault</span><span class='ignore'>}</span><br>
<br>
<span class='document'>\usepackage</span><span class='optparm'>[</span><span class='ignore'>margin</span><span class='ignore'>=</span><span class='ignore'>0.8in</span><span class='optparm'>]</span><span class='ignore'>{</span><span class='specarg'>geometry</span><span class='document'>}</span><br>
<span class='document'>\usepackage</span><span class='optparm'>[</span><span class='ignore'>utf8</span><span class='optparm'>]</span><span class='ignore'>{</span><span class='specarg'>inputenc</span><span class='document'>}</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>amsmath</span><span class='document'>}</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>amsfonts</span><span class='document'>}</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>amssymb</span><span class='document'>}</span><br>
<br>
<br>
<span class='comment'>%https://tex.stackexchange.com/questions/3001/list-sections-of-chapter-at-beginning-of-that-chapter</span><br>
<span class='comment'>% !!! NEEDS TO BE ABOVE HYPEREF !!!</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>titletoc</span><span class='document'>}</span><br>
<br>
<span class='comment'>% https://www.sharelatex.com/learn/Hyperlinks</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>hyperref</span><span class='document'>}</span><br>
<span class='exclcmd'>\hypersetup</span><span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>colorlinks</span><span class='ignore'>,</span><br>
&nbsp; &nbsp; <span class='ignore'>citecolor</span><span class='ignore'>=</span><span class='ignore'>gray</span><span class='ignore'>,</span><br>
&nbsp; &nbsp; <span class='ignore'>filecolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>,</span><br>
&nbsp; &nbsp; <span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>blue</span><span class='ignore'>,</span><br>
&nbsp; &nbsp; <span class='ignore'>urlcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>,</span><br>
&nbsp; &nbsp; <span class='ignore'>linktoc</span><span class='ignore'>=</span><span class='ignore'>all</span><br>
<span class='ignore'>}</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>float</span><span class='document'>}</span><br>
<br>
<span class='comment'>% https://tex.stackexchange.com/questions/94224/how-to-create-a-list-with-a-fixed-prefix-and-incremental-numbers</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>enumitem</span><span class='document'>}</span><br>
<br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>lipsum</span><span class='document'>}</span><span class='comment'>% http://ctan.org/pkg/lipsum</span><br>
<br>
<span class='comment'>%% Bibliography/references packages</span><br>
<span class='document'>\usepackage</span><span class='optparm'>[</span><span class='ignore'>comma</span><span class='optparm'>]</span><span class='ignore'>{</span><span class='specarg'>natbib</span><span class='document'>}</span><br>
<span class='comment'>%\bibliographystyle{agsm}</span><br>
<span class='exclcmd'>\bibliographystyle</span><span class='ignore'>{</span><span class='ignore'>dcu</span><span class='ignore'>}</span><br>
<br>
<span class='comment'>% CODE</span><br>
<span class='comment'>%\usepackage{listings}</span><br>
<span class='comment'>%\usepackage{xparse}</span><br>
<span class='comment'>%\usepackage{verbatim}</span><br>
<span class='comment'>%\NewDocumentCommand{\codeword}{v}{%</span><br>
<span class='comment'>%\texttt{\textcolor{blue}{#1}}%</span><br>
<span class='comment'>%}</span><br>
<span class='comment'>%s\lstset{language=C,keywordstyle={\bfseries \color{blue}}}</span><br>
<span class='document'>\usepackage</span><span class='optparm'>[</span><span class='ignore'>outputdir</span><span class='ignore'>=</span><span class='ignore'>build</span><span class='optparm'>]</span><span class='ignore'>{</span><span class='specarg'>minted</span><span class='document'>}</span><br>
<span class='comment'>%https://www.sharelatex.com/learn/Code_Highlighting_with_minted#Reference_guide</span><br>
<span class='comment'>%\usemintedstyle{vs} % HAS ERROR BOXES!</span><br>
<span class='exclcmd'>\usemintedstyle</span><span class='ignore'>{</span><span class='ignore'>pastie</span><span class='ignore'>}</span><br>
<span class='comment'>%\usemintedstyle{manni}</span><br>
<br>
<span class='comment'>%% https://en.wikibooks.org/wiki/LaTeX/List_Structures</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>scrextend</span><span class='document'>}</span><br>
<br>
<span class='comment'>% tables, row colour</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>tabularx</span><span class='specarg'>,</span><span class='specarg'>colortbl</span><span class='document'>}</span><br>
<span class='comment'>% For vertical centering text in X column</span><br>
<span class='cmd'>\renewcommand</span><span class='ignore'>\tabularxcolumn</span><span class='option'>[1]</span><span class='ignore'>{</span><span class='ignore'>m</span><span class='ignore'>{</span><span class='ignore'>#</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<br>
<span class='comment'>% https://tex.stackexchange.com/questions/22751/how-to-force-table-caption-on-top</span><br>
<span class='comment'>%\usepackage[tableposition=top]{caption}</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>float</span><span class='document'>}</span><br>
<span class='exclcmd'>\floatstyle</span><span class='ignore'>{</span><span class='ignore'>plaintop</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\restylefloat</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>}</span><br>
<br>
<span class='comment'>% https://en.wikibooks.org/wiki/LaTeX/List_Structures</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>enumitem</span><span class='document'>}</span><br>
<br>
<span class='comment'>% https://jansoehlke.com/2010/06/strikethrough-in-latex/</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>ulem</span><span class='document'>}</span><br>
<br>
<span class='comment'>%% Report variables</span><br>
<span class='cmd'>\newcommand</span><span class='ignore'>{</span><span class='ignore'>\scname</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>PRCO304</span><span class='ignore'>}</span><br>
<span class='cmd'>\newcommand</span><span class='ignore'>{</span><span class='ignore'>\dlatestv</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>2.60</span><span class='ignore'>}</span><br>
<br>
<span class='exclcmd'>\definecolor</span><span class='ignore'>{</span><span class='ignore'>babyblueeyes</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>rgb</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.63</span><span class='ignore'>,</span> <span class='ignore'>0.79</span><span class='ignore'>,</span> <span class='ignore'>0.95</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\definecolor</span><span class='ignore'>{</span><span class='ignore'>ballblue</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>rgb</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.13</span><span class='ignore'>,</span> <span class='ignore'>0.67</span><span class='ignore'>,</span> <span class='ignore'>0.8</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\definecolor</span><span class='ignore'>{</span><span class='ignore'>beaublue</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>rgb</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.74</span><span class='ignore'>,</span> <span class='ignore'>0.83</span><span class='ignore'>,</span> <span class='ignore'>0.9</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\definecolor</span><span class='ignore'>{</span><span class='ignore'>blue8</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>rgb</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.09</span><span class='ignore'>,</span> <span class='ignore'>0.39</span><span class='ignore'>,</span> <span class='ignore'>0.67</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\definecolor</span><span class='ignore'>{</span><span class='ignore'>blue9</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>rgb</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.00</span><span class='ignore'>,</span> <span class='ignore'>0.30</span><span class='ignore'>,</span> <span class='ignore'>0.51</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\definecolor</span><span class='ignore'>{</span><span class='ignore'>blue9d</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>rgb</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.00</span><span class='ignore'>,</span> <span class='ignore'>0.21</span><span class='ignore'>,</span> <span class='ignore'>0.36</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='comment'>%\usepackage{etoolbox}</span><br>
<span class='comment'>%\patchcmd{\chapter}{\thispagestyle{plain}}{\thispagestyle{fancy}}{}{}</span><br>
<br>
<span class='comment'>%https://tex.stackexchange.com/questions/75667/change-colour-on-chapter-section-headings-lyx</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>sectsty</span><span class='document'>}</span><br>
<span class='exclcmd'>\chapterfont</span><span class='ignore'>{</span><span class='exclcmd'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9d</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\sectionfont</span><span class='ignore'>{</span><span class='exclcmd'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9d</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\subsectionfont</span><span class='ignore'>{</span><span class='exclcmd'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9d</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\subsubsectionfont</span><span class='ignore'>{</span><span class='exclcmd'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9d</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='comment'>%\allchapterfont{\itshape}</span><br>
<br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>titlesec</span><span class='document'>}</span><br>
<br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>array</span><span class='specarg'>,</span><span class='specarg'>booktabs</span><span class='specarg'>,</span><span class='specarg'>arydshln</span><span class='specarg'>,</span><span class='specarg'>xcolor</span><span class='document'>}</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>xcolor</span><span class='document'>}</span><span class='comment'>% http://ctan.org/pkg/xcolor</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>fancyhdr</span><span class='document'>}</span><span class='comment'>% http://ctan.org/pkg/fancyhdr</span><br>
<span class='exclcmd'>\fancypagestyle</span><span class='ignore'>{</span><span class='ignore'>plain</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='comment'>%</span><br>
	<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\headrulewidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>3pt</span><span class='ignore'>}</span><br>
	<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\headrule</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>\hbox</span> <span class='ignore'>to</span><span class='ignore'>\headwidth</span><span class='ignore'>{</span><span class='comment'>%</span><br>
&nbsp; <span class='ignore'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9</span><span class='ignore'>}</span><span class='ignore'>\leaders</span><span class='ignore'>\hrule</span> <span class='ignore'>height</span> <span class='ignore'>\headrulewidth</span><span class='ignore'>\hfill</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
	<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\footrulewidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>3pt</span><span class='ignore'>}</span><br>
	<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\footrule</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>\hbox</span> <span class='ignore'>to</span><span class='ignore'>\headwidth</span><span class='ignore'>{</span><span class='comment'>%</span><br>
&nbsp; <span class='ignore'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9</span><span class='ignore'>}</span><span class='ignore'>\leaders</span><span class='ignore'>\hrule</span> <span class='ignore'>height</span> <span class='ignore'>\headrulewidth</span><span class='ignore'>\hfill</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
	<br>
	<span class='comment'>%\fancyhf{}</span><br>
	<span class='comment'>%\fancyhead[LE]{\textbf{\leftmark}}</span><br>
	<span class='comment'>%\fancyhead[RE]{\textbf{\scname{}}}</span><br>
	<span class='comment'>%\fancyhead[LO]{\textbf{\scname{}}}</span><br>
	<span class='comment'>%\fancyhead[RO]{\textbf{\rightmark}}</span><br>
<br>
	<span class='comment'>%\fancyfoot[LE]{\textbf{\thepage}}</span><br>
	<span class='comment'>%\fancyfoot[RE]{\textbf{\scname{} Configuration Guide}}</span><br>
	<span class='comment'>%\fancyfoot[LO]{\textbf{\scname{} Configuration Guide}}</span><br>
	<span class='comment'>%\fancyfoot[RO]{\textbf{\thepage}}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='comment'>%s comments</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>verbatim</span><span class='document'>}</span><br>
<br>
<span class='comment'>%inline graphs</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>wrapfig</span><span class='document'>}</span><br>
<span class='comment'>% multiple figures on line</span><br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>subfig</span><span class='document'>}</span><br>
<br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>graphicx</span><span class='document'>}</span><br>
<span class='exclcmd'>\graphicspath</span><span class='ignore'>{</span><span class='ignore'>{</span><span class='ignore'>img</span><span class='ignore'>/</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<br>
<span class='comment'>% Caption font size</span><br>
<span class='comment'>% https://tex.stackexchange.com/questions/86120/font-size-of-figure-caption-header</span><br>
<span class='document'>\usepackage</span><span class='optparm'>[</span><span class='ignore'>font</span><span class='ignore'>=</span><span class='ignore'>scriptsize</span><span class='ignore'>,</span><span class='ignore'>labelfont</span><span class='ignore'>=</span><span class='ignore'>bf</span><span class='optparm'>]</span><span class='ignore'>{</span><span class='specarg'>caption</span><span class='document'>}</span><br>
<br>
<span class='comment'>%\setlength{\belowcaptionskip}{-10pt}</span><br>
<span class='comment'>%\setlength{\abovecaptionskip}{-5pt} % Chosen fairly arbitrarily</span><br>
<br>
<br>
<span class='document'>\usepackage</span><span class='ignore'>{</span><span class='specarg'>fancyhdr</span><span class='document'>}</span><br>
<span class='exclcmd'>\pagestyle</span><span class='ignore'>{</span><span class='ignore'>fancy</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\lhead</span><span class='ignore'>{</span><span class='exclcmd'>\rightmark</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\chead</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='comment'>%\rhead{FPGA-based RISC Microprocessor and Compiler (Rev. \dlatestv{})}</span><br>
<span class='exclcmd'>\rhead</span><span class='ignore'>{</span><span class='ignore'>PRCO304</span> <span class='ignore'>(</span><span class='ignore'>Rev</span><span class='ignore'>.</span> <span class='exclcmd'>\dlatestv</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\lfoot</span><span class='ignore'>{</span><span class='ignore'>Ben</span> <span class='ignore'>Lancaster</span> <span class='ignore'>10424877</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\cfoot</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\rfoot</span><span class='ignore'>{</span><span class='ignore'>Page</span> <span class='exclcmd'>\thepage</span><span class='ignore'>}</span><br>
<br>
<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\subsectionmark</span><span class='ignore'>}</span><span class='option'>[1]</span><span class='ignore'>{</span><span class='ignore'>\markright</span><span class='ignore'>{</span><span class='ignore'>\thesubsection</span><span class='ignore'>\ </span><span class='ignore'>#</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='comment'>%% Make bibliography show in table of contents</span><br>
<span class='comment'>%% https://tex.stackexchange.com/questions/8458/making-the-bibliography-appear-in-the-table-of-contents</span><br>
<span class='document'>\usepackage</span><span class='optparm'>[</span><span class='ignore'>nottoc</span><span class='ignore'>,</span><span class='ignore'>numbib</span><span class='optparm'>]</span><span class='ignore'>{</span><span class='specarg'>tocbibind</span><span class='document'>}</span><br>
<span class='comment'>%% ^^^ overwrites \bibname, so set it back</span><br>
<span class='cmd'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\bibname</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>References</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='envir'>\begin</span><span class='envir'>{document}</span><br>
<span class='cmd'>\arrayrulecolor</span><span class='ignore'>{</span><span class='word'>blue9</span><span class='ignore'>}</span><br>
<br>
<span class='cmd'>\makeatletter</span><br>
<span class='cmd'>\DeclareRobustCommand</span><span class='ignore'>*</span><span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='comment'>%</span><br>
<span class='cmd'>\color</span><span class='ignore'>{</span><span class='ignore'>blue</span><span class='ignore'>}</span><span class='comment'>%</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='cmd'>\@ifstar</span><span class='cmd'>\T@nameref</span><span class='cmd'>\T@nameref</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='ignore'>}</span><span class='comment'>%</span><br>
<span class='cmd'>\makeatother</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{titlepage}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<br>
<span class='exclcmd'>\vspace</span><span class='option'>*</span><span class='ignore'>{</span><span class='ignore'>5cm</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\Large</span><br>
<br>
<span class='ignore'>{</span><span class='exclcmd'>\color</span><span class='ignore'>{</span><span class='ignore'>blue9d</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\textbf</span><span class='ignore'>{</span><br>
<span class='comment'>%%PRCO304 - Project Initiation Document</span><br>
<span class='comment'>%Highlight Reports</span><br>
<span class='ignore'>FPGA-based</span> <span class='ignore'>RISC</span> <span class='ignore'>Microprocessor</span> <span class='ignore'>and</span> <span class='ignore'>Compiler</span> <span class='ignore'>(</span><span class='ignore'>Rev</span><span class='ignore'>.</span> <span class='exclcmd'>\dlatestv</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>)</span><br>
<span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='exclcmd'>\vspace</span><span class='ignore'>{</span><span class='ignore'>0.4cm</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\large</span><br>
<span class='comment'>%%Space optimised FPGA-based side-microprocessor.</span><br>
<span class='ignore'>PRCO304</span> <span class='ignore'>-</span> <span class='ignore'>Final</span> <span class='ignore'>Stage</span> <span class='ignore'>Computing</span> <span class='ignore'>Project</span><br>
<span class='comment'>%%EMBEDDED CPU - FPGA-based RISC microprocessor</span><br>
<br>
<span class='exclcmd'>\vspace</span><span class='ignore'>{</span><span class='ignore'>4cm</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Ben</span> <span class='ignore'>Lancaster</span> <span class='ignore'>10424877</span><span class='ignore'>}</span><span class='exclcmd'>\\</span><br>
<span class='exclcmd'>\today</span> <br>
<br>
<br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<br>
<span class='envir'>\end</span><span class='envir'>{titlepage}</span><br>
<br>
<span class='cmd'>\pagestyle</span><span class='ignore'>{</span><span class='ignore'>plain</span><span class='ignore'>}</span><br>
<br>
<span class='cmd'>\section</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Revision</span> <span class='hword'>History</span><span class='ignore'>}</span><br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[h]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><span class='comment'>%&nbsp; 1 is the default, change whatever you need</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>l</span><span class='ignore'>|</span><span class='ignore'>l</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>Date</span> <span class='ignore'>&amp;</span> <span class='ignore'>Version</span> <span class='ignore'>&amp;</span> <span class='ignore'>Changes</span> <span class='exclcmd'>\\</span><br>
&nbsp;&nbsp;<span class='exclcmd'>\arrayrulecolor</span><span class='ignore'>{</span><span class='ignore'>blue9</span><span class='ignore'>}</span><br>
	<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
	<span class='ignore'>30</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.60</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>word</span> <span class='ignore'>count</span> <span class='ignore'>below</span> <span class='ignore'>TOC</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>29</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.50</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>chapter</span> <span class='ignore'>table</span> <span class='ignore'>of</span> <span class='ignore'>contents</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>29</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.40</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>section</span> <span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>test</span><span class='ignore'>}</span> <span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>test</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>28</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.30</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>section</span> <span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span> <span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>24</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.20</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>section</span> <span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>}</span> <span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>22</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.10</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>section</span> <span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>}</span> <span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>15</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.00</span> <span class='ignore'>&amp;</span> <span class='ignore'>Add</span> <span class='ignore'>section</span> <span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>}</span> <span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>11</span><span class='ignore'>/</span><span class='ignore'>03</span><span class='ignore'>/</span><span class='ignore'>2018</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.00</span> <span class='ignore'>&amp;</span> <span class='ignore'>Initial</span> <span class='ignore'>section</span> <span class='ignore'>outline</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
&nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Document</span> <span class='oword'>revisions</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<span class='cmd'>\newpage</span><br>
<br>
<br>
<span class='cmd'>\chapter</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Abstract</span><span class='ignore'>}</span><br>
<span class='cmd'>\startcontents</span><span class='option'>[chapters]</span><br>
<span class='cmd'>\printcontents</span><span class='option'>[chapters]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='word'>ben</span><br>
<br>
<span class='cmd'>\newpage</span><br>
<span class='cmd'>\renewcommand</span><span class='option'>*</span><span class='ignore'>\contentsname</span><span class='ignore'>{</span><span class='ignore'>Table</span> <span class='ignore'>of</span> <span class='ignore'>Contents</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>{</span><span class='cmd'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='cmd'>\tableofcontents</span><br>
<span class='cmd'>\listoffigures</span><br>
<span class='cmd'>\listoftables</span><span class='ignore'>}</span><br>
<span class='cmd'>\newpage</span><br>
 <br>
<span class='cmd'>\subsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Word</span> <span class='hword'>Count</span><span class='ignore'>}</span><br>
<span class='envir'>\begin</span><span class='envir'>{minted}</span><span class='ignore'>{</span><span class='word'>text</span><span class='ignore'>}</span><br>
<span class='word'>Words</span> <span class='word'>in</span> <span class='word'>text</span><span class='ignore'>:</span> <span class='word'>4519</span><br>
<span class='word'>Words</span> <span class='word'>in</span> <span class='word'>headers</span><span class='ignore'>:</span> <span class='word'>116</span><br>
<span class='word'>Words</span> <span class='word'>outside</span> <span class='word'>text</span> <span class='ignore'>(</span><span class='word'>captions</span><span class='ignore'>,</span> <span class='word'>etc</span><span class='ignore'>.</span><span class='ignore'>)</span><span class='ignore'>:</span> <span class='word'>213</span><br>
<span class='word'>Number</span> <span class='word'>of</span> <span class='word'>headers</span><span class='ignore'>:</span> <span class='word'>60</span><br>
<span class='word'>Number</span> <span class='word'>of</span> <span class='word'>floats</span><span class='ignore'>/</span><span class='word'>tables</span><span class='ignore'>/</span><span class='word'>figures</span><span class='ignore'>:</span> <span class='word'>19</span><br>
<span class='word'>Number</span> <span class='word'>of</span> <span class='word'>math</span> <span class='word'>inlines</span><span class='ignore'>:</span> <span class='word'>0</span><br>
<span class='word'>Number</span> <span class='word'>of</span> <span class='word'>math</span> <span class='word'>displayed</span><span class='ignore'>:</span> <span class='word'>0</span><br>
<span class='envir'>\end</span><span class='envir'>{minted}</span><br>
<br>
<span class='cmd'>\newpage</span><br>
<br>
<span class='cmd'>\chapter</span><span class='ignore'>{</span><span class='hword'>Embedded</span> <span class='hword'>Processors</span><span class='ignore'>}</span><br>
<span class='ignore'>{</span><span class='cmd'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='cmd'>\startcontents</span><span class='option'>[chapters]</span><br>
<span class='cmd'>\printcontents</span><span class='option'>[chapters]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Introduction</span><span class='ignore'>}</span><br>
<span class='word'>Modern</span> <span class='word'>computing</span> <span class='word'>and</span> <span class='word'>electronics</span> <span class='word'>equipment</span><span class='ignore'>,</span> <span class='word'>like</span> <span class='word'>function</span> <span class='word'>generators</span><span class='ignore'>,</span> <span class='word'>oscilloscopes</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>spectrum</span> <span class='word'>analysers</span><span class='ignore'>,</span> <span class='word'>use</span> <span class='word'>FPGAs</span> <span class='word'>to</span> <span class='word'>implement</span> <span class='word'>their</span> <span class='word'>compute</span> <span class='word'>intensive</span> <span class='word'>logic</span><span class='ignore'>.</span> <span class='word'>These</span> <span class='word'>FPGAs</span> <span class='word'>are</span> <span class='word'>often</span> <span class='word'>accompanied</span> <span class='word'>by</span> <span class='word'>a</span> <span class='word'>small</span><span class='ignore'>,</span> <span class='word'>low-cost</span><span class='ignore'>,</span> <span class='word'>microprocessor</span> <span class='word'>to</span> <span class='word'>supervise</span> <span class='word'>and</span> <span class='word'>provide</span> <span class='word'>interfaces</span> <span class='word'>to</span> <span class='word'>external</span> <span class='word'>peripherals</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>aim</span> <span class='word'>of</span> <span class='word'>this</span> <span class='word'>project</span> <span class='word'>is</span> <span class='word'>to</span> <span class='word'>implement</span> <span class='word'>this</span> <span class='word'>side-microprocessor</span> <span class='word'>into</span> <span class='word'>the</span> <span class='word'>FPGA</span> <span class='word'>to</span> <span class='word'>save</span> <span class='word'>on</span> <span class='word'>BOM</span> <span class='word'>costs</span><span class='ignore'>,</span> <span class='word'>PCB</span>&nbsp; <span class='word'>space</span><span class='ignore'>,</span>&nbsp; <span class='word'>and</span>&nbsp; <span class='word'>power</span>&nbsp; <span class='word'>costs</span><span class='ignore'>,</span>&nbsp; <span class='word'>which</span>&nbsp; <span class='word'>contribute</span>&nbsp; <span class='word'>to</span>&nbsp; <span class='word'>higher</span>&nbsp; <span class='word'>development</span>&nbsp; <span class='word'>and</span>&nbsp; <span class='word'>product</span>&nbsp; <span class='word'>costs</span><span class='ignore'>.</span>&nbsp; <span class='word'>While</span>&nbsp; <span class='word'>savings</span> <span class='word'>can</span>&nbsp; <span class='word'>be</span>&nbsp; <span class='word'>made</span>&nbsp; <span class='word'>by</span>&nbsp; <span class='word'>the</span>&nbsp; <span class='word'>lack</span>&nbsp; <span class='word'>of</span>&nbsp; <span class='word'>side</span>&nbsp; <span class='word'>microprocessor</span><span class='ignore'>,</span>&nbsp; <span class='word'>the</span>&nbsp; <span class='word'>product</span>&nbsp; <span class='word'>may</span>&nbsp; <span class='word'>need</span>&nbsp; <span class='word'>a</span>&nbsp; <span class='word'>larger</span>&nbsp; <span class='word'>FPGA</span>&nbsp; <span class='word'>to</span>&nbsp; <span class='word'>accommodate</span> <span class='word'>the</span> <span class='word'>embedded</span> <span class='word'>microprocessor</span><span class='ignore'>.</span>&nbsp; <span class='word'>The</span> <span class='word'>project</span> <span class='word'>will</span> <span class='word'>produce</span> <span class='word'>a</span> <span class='word'>small</span><span class='ignore'>,</span> <span class='word'>soft-core</span><span class='ignore'>,</span> <span class='word'>CPU</span> <span class='word'>design</span> <span class='word'>and</span> <span class='word'>compiler</span><span class='ignore'>.</span> <span class='word'>Although</span> <span class='word'>there</span> <span class='word'>is</span> <span class='word'>no</span> <span class='word'>direct</span> <span class='word'>client</span> <span class='word'>in</span> <span class='word'>this</span> <span class='word'>project</span><span class='ignore'>,</span> <span class='word'>I</span> <span class='word'>believe</span> <span class='word'>this</span> <span class='word'>project</span> <span class='word'>will</span> <span class='word'>produce</span> <span class='word'>an</span> <span class='word'>attractive</span> <span class='word'>product</span><br>
<span class='word'>for</span> <span class='word'>FPGA-based</span> <span class='word'>product</span> <span class='word'>designers</span> <span class='word'>wishing</span> <span class='word'>to</span> <span class='word'>employ</span> <span class='word'>an</span> <span class='word'>embedded</span> <span class='word'>processor</span> <span class='word'>solution</span><span class='ignore'>.</span><br>
<br>
<span class='comment'>%\lipsum[0-1]</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Background</span><span class='ignore'>}</span><br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Current</span> <span class='hword'>Implementations</span><span class='ignore'>}</span><br>
<span class='cmd'>\lipsum</span><span class='option'>[0-1]</span><br>
<span class='cmd'>\newpage</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Project</span> <span class='hword'>Overview</span><span class='ignore'>}</span><br>
<span class='word'>This</span> <span class='word'>project</span> <span class='word'>aims</span> <span class='word'>to</span> <span class='word'>provide</span> <span class='word'>an</span> <span class='word'>efficient</span> <span class='word'>and</span> <span class='word'>cost-saving</span> <span class='word'>alternative</span> <span class='word'>for</span> <span class='word'>board</span> <span class='word'>and</span> <span class='word'>hardware</span> <span class='word'>product</span> <span class='word'>designers</span> <span class='word'>utilising</span> <span class='word'>side-microprocessors</span> <span class='word'>by</span> <span class='word'>designing</span><span class='ignore'>,</span> <span class='word'>implementing</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>demonstrating</span><span class='ignore'>,</span> <span class='word'>a</span> <span class='word'>small</span><span class='ignore'>,</span> <span class='word'>portable</span><span class='ignore'>,</span> <span class='word'>FPGA</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>design</span> <span class='word'>to</span> <span class='word'>be</span> <span class='word'>used</span> <span class='word'>in-place</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>side-microprocessor</span><span class='ignore'>.</span> <br>
<br>
<span class='word'>The</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>will</span> <span class='word'>implement</span> <span class='word'>it's</span> <span class='word'>own</span> <span class='word'>processor</span> <span class='word'>and</span> <span class='word'>instruction</span> <span class='word'>set</span> <span class='word'>architecture</span> <span class='word'>and</span> <span class='word'>so</span> <span class='word'>a</span> <span class='word'>compiler</span> <span class='word'>and</span> <span class='word'>assembler</span> <span class='word'>will</span> <span class='word'>also</span> <span class='word'>be</span> <span class='word'>provided</span> <span class='word'>so</span> <span class='word'>that</span> <span class='word'>software</span> <span class='word'>code</span> <span class='word'>can</span> <span class='word'>easily</span> <span class='word'>be</span> <span class='word'>executed</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Core</span> <span class='hword'>Deliverables</span><span class='ignore'>}</span><br>
<span class='word'>These</span> <span class='word'>core</span> <span class='ignore'>(</span><span class='word'>C</span><span class='ignore'>)</span> <span class='word'>deliverables</span> <span class='word'>are</span> <span class='word'>the</span> <span class='word'>base</span> <span class='word'>requirement</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>project</span> <span class='word'>to</span> <span class='word'>be</span> <span class='word'>released</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>functional</span> <span class='word'>and</span> <span class='word'>worthwhile</span> <span class='word'>state</span><span class='ignore'>.</span><br>
<span class='envir'>\begin</span><span class='envir'>{enumerate}</span><span class='option'>[label=C\arabic*.]</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>To</span> <span class='word'>improve</span> <span class='word'>my</span> <span class='word'>knowledge</span> <span class='word'>and</span> <span class='word'>experience</span> <span class='word'>of</span> <span class='word'>FPGA</span> <span class='word'>development</span><span class='ignore'>,</span> <span class='word'>processor</span> <span class='word'>architecture</span><span class='ignore'>,</span> <span class='word'>compilers</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>embedded</span> <span class='word'>systems</span> <span class='word'>engineering</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>To</span> <span class='word'>build</span> <span class='word'>a</span> <span class='word'>working</span> <span class='word'>and</span> <span class='word'>operational</span> <span class='word'>soft-core</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>capable</span> <span class='word'>of</span> <span class='word'>performing</span> <span class='word'>simple</span> <span class='word'>tasks</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Implementation</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>soft-core</span> <span class='word'>processor</span> <span class='word'>design</span> <span class='word'>on</span> <span class='word'>real</span> <span class='word'>hardware</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>To</span> <span class='word'>provide</span> <span class='word'>product</span> <span class='word'>designers</span> <span class='word'>with</span> <span class='word'>an</span> <span class='word'>affordable</span> <span class='word'>alternative</span> <span class='word'>to</span> <span class='word'>a</span> <span class='word'>side-microprocessor</span> <span class='word'>in</span> <span class='word'>their</span> <span class='word'>FPGA-based</span> <span class='word'>products</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>To</span> <span class='word'>provide</span> <span class='word'>a</span> <span class='word'>technical</span> <span class='word'>processor</span> <span class='word'>reference</span> <span class='word'>guide</span> <span class='word'>and</span> <span class='word'>specification</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>embedded</span> <span class='word'>core</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{enumerate}</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Extended</span> <span class='hword'>Deliverables</span><span class='ignore'>}</span><br>
<span class='word'>These</span> <span class='word'>extended</span> <span class='ignore'>(</span><span class='word'>E</span><span class='ignore'>)</span> <span class='word'>deliverables</span> <span class='word'>may</span> <span class='word'>not</span> <span class='word'>be</span> <span class='word'>achievable</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>time</span> <span class='word'>frame</span> <span class='word'>specific</span> <span class='word'>in</span> <span class='word'>section</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>proj</span><span class='ignore'>_</span><span class='ignore'>time</span><span class='ignore'>}</span> <span class='word'>as</span> <span class='word'>they</span> <span class='word'>may</span> <span class='word'>require</span> <span class='word'>extra</span> <span class='word'>time</span> <span class='word'>to</span> <span class='word'>design</span> <span class='word'>and</span> <span class='word'>implement</span><span class='ignore'>,</span> <span class='word'>require</span> <span class='word'>more</span> <span class='word'>experience</span> <span class='word'>or</span> <span class='word'>skill</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>require</span> <span class='word'>resources</span> <span class='word'>currently</span> <span class='word'>unattainable</span><span class='ignore'>.</span><br>
<span class='envir'>\begin</span><span class='envir'>{enumerate}</span><span class='option'>[label=E\arabic*.]</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>To</span> <span class='word'>provide</span> <span class='word'>embedded</span> <span class='word'>products</span> <span class='word'>a</span> <span class='word'>convenient</span> <span class='word'>solution</span> <span class='word'>to</span> <span class='word'>in-field</span> <span class='word'>updating</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>To</span> <span class='word'>provide</span> <span class='word'>easy</span> <span class='word'>interfacing</span> <span class='word'>between</span> <span class='word'>the</span> <span class='word'>FPGA</span> <span class='word'>design</span> <span class='word'>and</span> <span class='word'>the</span> <span class='word'>embedded</span> <span class='word'>core</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>GCC</span><span class='ignore'>/</span><span class='word'>LLVM</span><span class='ignore'>/</span><span class='word'>8CC</span> <span class='word'>compiler</span> <span class='word'>backend</span> <span class='word'>for</span> <span class='word'>C</span> <span class='word'>programming</span><span class='ignore'>.</span><span class='ignore'>}</span><span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>deliv</span><span class='ignore'>:</span><span class='ignore'>ed</span><span class='ignore'>:</span><span class='ignore'>gcc</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Wishbone</span> <span class='word'>interface</span> <span class='word'>for</span> <span class='word'>easier</span> <span class='word'>modularity</span> <span class='word'>and</span> <span class='word'>inter-module</span> <span class='word'>communication</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Multi-core</span> <span class='word'>design</span> <span class='word'>with</span> <span class='word'>Wishbone</span> <span class='ignore'>(</span><span class='word'>2</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Configurable</span> <span class='word'>build</span> <span class='word'>options</span> <span class='ignore'>(</span><span class='word'>register</span><span class='ignore'>/</span><span class='word'>bus</span> <span class='word'>widths</span><span class='ignore'>,</span> <span class='word'>optimisations</span><span class='ignore'>/</span><span class='word'>pipelining</span><span class='ignore'>,</span> <span class='word'>user</span><span class='ignore'>/</span><span class='word'>privileged</span> <span class='word'>mode</span> <span class='word'>to</span> <span class='word'>support</span> <span class='word'>modern</span> <span class='word'>operating</span> <span class='word'>systems</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Memory</span> <span class='word'>management</span> <span class='word'>modules</span> <span class='word'>to</span> <span class='word'>provide</span> <span class='word'>protected</span> <span class='word'>and</span> <span class='word'>virtual</span> <span class='word'>memory</span> <span class='word'>lookup</span> <span class='word'>tables</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{enumerate}</span><br>
<br>
<br>
<span class='cmd'>\newpage</span><br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Legal</span> <span class='hword'>and</span> <span class='hword'>Ethical</span> <span class='hword'>Considerations</span><span class='ignore'>}</span><br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Privacy</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>able</span> <span class='word'>to</span> <span class='word'>read</span> <span class='word'>and</span> <span class='word'>write</span> <span class='word'>to</span> <span class='word'>all</span> <span class='word'>data</span> <span class='word'>passing</span> <span class='word'>through</span> <span class='word'>it</span> <span class='word'>and</span> <span class='word'>control</span> <span class='word'>all</span> <span class='word'>connected</span> <span class='word'>peripherals</span> <span class='ignore'>(</span><span class='word'>such</span> <span class='word'>as</span> <span class='word'>UARTs</span><span class='ignore'>,</span> <span class='word'>SDRAMs</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>SD</span> <span class='word'>Cards</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>processor</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>track</span> <span class='word'>or</span> <span class='word'>store</span> <span class='word'>usage</span> <span class='word'>behaviour</span><span class='ignore'>,</span> <span class='word'>instructions</span> <span class='word'>and</span> <span class='word'>their</span> <span class='word'>frequency</span><span class='ignore'>,</span>&nbsp;  <span class='word'>memory</span> <span class='word'>contents</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>timing</span> <span class='word'>statistics</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>any</span> <span class='word'>other</span> <span class='word'>usage</span> <span class='word'>metric</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Fit</span> <span class='hword'>for</span> <span class='hword'>Purpose</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>is</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>not</span><span class='ignore'>}</span> <span class='word'>designed</span> <span class='word'>to</span> <span class='word'>run</span> <span class='word'>general</span> <span class='word'>purpose</span> <span class='word'>operating</span> <span class='word'>systems</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>Linux</span> <span class='word'>or</span> <span class='word'>embedded</span> <span class='word'>RTOS</span> <span class='word'>systems</span><span class='ignore'>.</span> <span class='word'>All</span> <span class='word'>memory</span> <span class='word'>devices</span> <span class='word'>attached</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>FPGA</span> <span class='word'>are</span> <span class='word'>fully</span> <span class='word'>accessible</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>and</span> <span class='word'>instructions</span><span class='ignore'>/</span><span class='word'>programs</span> <span class='word'>running</span> <span class='word'>through</span> <span class='word'>it</span><span class='ignore'>,</span> <span class='word'>meaning</span> <span class='word'>that</span> <span class='word'>operating</span> <span class='word'>systems</span> <span class='word'>or</span> <span class='word'>secure</span> <span class='word'>applications</span> <span class='word'>storing</span> <span class='word'>private</span> <span class='word'>and</span> <span class='word'>sensitive</span> <span class='word'>information</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>protected</span> <span class='word'>by</span> <span class='word'>modern</span> <span class='word'>processor</span> <span class='word'>features</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>privilege</span> <span class='word'>modes</span> <span class='word'>and</span> <span class='word'>virtual</span> <span class='word'>memory</span> <span class='word'>sections</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>processor</span> <span class='word'>lacks</span> <span class='word'>common</span> <span class='word'>components</span> <span class='word'>required</span> <span class='word'>to</span> <span class='word'>run</span> <span class='word'>modern</span> <span class='word'>operating</span> <span class='word'>systems</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>a</span> <span class='word'>memory</span> <span class='word'>management</span> <span class='word'>unit</span> <span class='ignore'>(</span><span class='word'>MMU</span><span class='ignore'>)</span> <span class='word'>and</span> <span class='word'>privilege</span> <span class='word'>modes</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>so</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>should</span> <span class='word'>not</span> <span class='word'>be</span> <span class='word'>run</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>is</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>not</span><span class='ignore'>}</span> <span class='word'>designed</span> <span class='word'>to</span> <span class='word'>run</span> <span class='word'>in</span> <span class='word'>high-reliability</span> <span class='word'>or</span> <span class='word'>safety-critical</span> <span class='word'>environments</span> <span class='word'>that</span> <span class='word'>require</span> <span class='word'>established</span> <span class='word'>safety</span> <span class='word'>standards</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>the</span> <span class='word'>UK</span> <span class='word'>Defence</span> <span class='word'>Standard</span> <span class='word'>00-56</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>defstan</span><span class='ignore'>_</span><span class='ignore'>0056</span><span class='ignore'>_</span><span class='ignore'>2</span><span class='ignore'>}</span> <span class='word'>and</span> <span class='word'>IEC</span> <span class='word'>61508</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>iec61508</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>is</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>not</span><span class='ignore'>}</span> <span class='word'>designed</span> <span class='word'>for</span> <span class='word'>implementation</span> <span class='word'>in</span> <span class='word'>silicon</span> <span class='word'>and</span> <span class='word'>makes</span> <span class='word'>no</span> <span class='word'>guarantees</span> <span class='word'>of</span> <span class='word'>reliability</span> <span class='word'>or</span> <span class='word'>performance</span> <span class='word'>in</span> <span class='word'>this</span> <span class='word'>format</span><span class='ignore'>.</span><br>
<span class='cmd'>\newline</span><span class='cmd'>\newline</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span><span class='ignore'>,</span> <span class='word'>by</span> <span class='word'>design</span><span class='ignore'>,</span> <span class='word'>should</span> <span class='word'>be</span> <span class='word'>used</span> <span class='word'>as</span> <span class='word'>a</span> <span class='word'>replacement</span> <span class='word'>for</span> <span class='word'>a</span> <span class='word'>simple</span> <span class='word'>micro-controller</span> <span class='word'>accompanying</span> <span class='word'>a</span> <span class='word'>main</span> <span class='word'>processing</span> <span class='word'>module</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Third-party</span> <span class='hword'>Libraries</span><span class='ignore'>}</span><br>
<span class='word'>This</span> <span class='word'>project</span> <span class='word'>uses</span> <span class='word'>only</span> <span class='word'>1</span> <span class='word'>external</span> <span class='word'>library</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>core's</span> <span class='word'>universal</span> <span class='word'>asynchronous</span> <span class='word'>receiver-transmitter</span> <span class='ignore'>(</span><span class='word'>UART</span><span class='ignore'>)</span> <span class='word'>module</span> <span class='word'>that</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>depend</span> <span class='word'>on</span> <span class='word'>any</span> <span class='word'>other</span> <span class='word'>libraries</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>allows</span> <span class='word'>me</span> <span class='word'>to</span> <span class='word'>guarantee</span> <span class='word'>that</span><span class='ignore'>:</span> <span class='word'>the</span> <span class='word'>project</span> <span class='word'>rights</span> <span class='word'>are</span> <span class='word'>secure</span><span class='ignore'>;</span> <span class='word'>and</span> <span class='word'>application</span> <span class='word'>behaviour</span> <span class='word'>is</span> <span class='word'>well-defined</span> <span class='word'>and</span> <span class='word'>predictable</span> <span class='ignore'>(</span><span class='word'>no</span> <span class='word'>exploits</span> <span class='word'>introduced</span><span class='ignore'>/</span><span class='word'>injected</span> <span class='word'>from</span> <span class='word'>external</span> <span class='word'>libraries</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>UART</span> <span class='word'>module</span> <span class='word'>does</span> <span class='word'>feature</span> <span class='word'>a</span> <span class='word'>large</span> <span class='word'>first-in-first-out</span> <span class='ignore'>(</span><span class='word'>FIFO</span><span class='ignore'>)</span> <span class='word'>buffer</span> <span class='word'>for</span> <span class='word'>temporary</span> <span class='word'>storage</span> <span class='word'>of</span> <span class='word'>in</span><span class='ignore'>-</span> <span class='word'>and</span> <span class='word'>out</span><span class='ignore'>-</span> <span class='word'>going</span> <span class='word'>messages</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>FIFO</span> <span class='word'>is</span> <span class='word'>internal</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>FPGA</span> <span class='word'>design</span> <span class='word'>and</span> <span class='word'>so</span> <span class='word'>is</span> <span class='word'>protected</span> <span class='word'>from</span> <span class='word'>external</span> <span class='word'>viewing</span><span class='ignore'>/</span><span class='word'>modification</span> <span class='word'>by</span> <span class='word'>probing</span> <span class='word'>the</span> <span class='word'>board</span> <span class='word'>in</span> <span class='word'>which</span> <span class='word'>the</span> <span class='word'>core</span> <span class='word'>is</span> <span class='word'>running</span> <span class='word'>on</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>sub-project</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>use</span> <span class='word'>any</span> <span class='word'>external</span> <span class='word'>library</span> <span class='word'>dependencies</span><span class='ignore'>,</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>record</span> <span class='word'>telemetry</span> <span class='word'>or</span> <span class='word'>usage</span> <span class='word'>statistics</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>require</span> <span class='word'>an</span> <span class='word'>internet</span> <span class='word'>connection</span> <span class='word'>to</span> <span class='word'>run</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Generated</span> <span class='hword'>Code</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>code</span> <span class='word'>generated</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>not</span> <span class='word'>guaranteed</span><span class='ignore'>}</span> <span class='word'>to</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{itemize}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Produce</span> <span class='word'>code</span> <span class='word'>for</span> <span class='word'>secure</span> <span class='word'>environments</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>not</span> <span class='word'>randomise</span><span class='ignore'>,</span> <span class='word'>obfuscate</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>split-up</span> <span class='word'>and</span> <span class='word'>spread</span><span class='ignore'>,</span> <span class='word'>output</span> <span class='word'>code</span><span class='ignore'>.</span> <span class='word'>Output</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>predictable</span> <span class='word'>format</span> <span class='ignore'>(</span><span class='word'>global</span> <span class='word'>variables</span> <span class='word'>in</span> <span class='word'>low-memory</span><span class='ignore'>,</span> <span class='word'>instruction</span> <span class='word'>memory</span> <span class='word'>in</span> <span class='word'>middle-memory</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>stack</span> <span class='word'>memory</span> <span class='word'>in</span> <span class='word'>high-memory</span><span class='ignore'>)</span> <span class='word'>making</span> <span class='word'>the</span> <span class='word'>binary</span> <span class='word'>easily</span> <span class='word'>subject</span> <span class='word'>to</span> <span class='word'>reverse-engineering</span> <span class='word'>and</span> <span class='word'>modification</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Produce</span> <span class='word'>constant</span> <span class='word'>time</span> <span class='word'>executable</span> <span class='word'>code</span> <span class='word'>for</span> <span class='word'>expressions</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>output</span> <span class='word'>for</span> <span class='word'>an</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>if</span><span class='ignore'>}</span> <span class='word'>statement</span> <span class='word'>may</span> <span class='word'>implicitly</span> <span class='word'>vary</span> <span class='word'>depending</span> <span class='word'>on</span> <span class='word'>it's</span> <span class='word'>condition</span> <span class='word'>expression</span><span class='ignore'>,</span> <span class='word'>which</span> <span class='word'>may</span> <span class='word'>have</span> <span class='word'>been</span> <span class='word'>optimised</span> <span class='word'>out</span><span class='ignore'>,</span> <span class='word'>constant-folded</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>without-optimisation</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>also</span> <span class='word'>applies</span> <span class='word'>for</span> <span class='word'>user</span> <span class='word'>code</span> <span class='word'>aiming</span> <span class='word'>to</span> <span class='word'>create</span> <span class='word'>reliable</span> <span class='word'>and</span> <span class='word'>accurate</span> <span class='word'>time</span> <span class='word'>delay</span> <span class='word'>loops</span><span class='ignore'>;</span> <span class='word'>although</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>perform</span> <span class='word'>optimisations</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>instruction</span> <span class='word'>caching</span> <span class='word'>or</span> <span class='word'>branch</span> <span class='word'>prediction</span><span class='ignore'>,</span> <span class='word'>access</span> <span class='word'>to</span> <span class='word'>memory</span> <span class='word'>and</span> <span class='word'>ALU</span> <span class='word'>operations</span> <span class='word'>may</span> <span class='word'>vary</span> <span class='word'>in</span> <span class='word'>time</span><span class='ignore'>,</span> <span class='word'>resulting</span> <span class='word'>in</span> <span class='word'>unreliable</span> <span class='word'>instruction</span> <span class='word'>times</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<br>
<span class='envir'>\end</span><span class='envir'>{itemize}</span><br>
<br>
<br>
<span class='cmd'>\chapter</span><span class='ignore'>{</span><span class='hword'>Project</span> <span class='hword'>Management</span><span class='ignore'>}</span><br>
<span class='ignore'>{</span><span class='cmd'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='cmd'>\startcontents</span><span class='option'>[chapters]</span><br>
<span class='cmd'>\printcontents</span><span class='option'>[chapters]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Time</span> <span class='hword'>Management</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>proj</span><span class='ignore'>_</span><span class='ignore'>time</span><span class='ignore'>}</span><br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Version</span> <span class='hword'>Control</span><span class='ignore'>}</span><br>
<span class='word'>Version</span> <span class='word'>control</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>utilised</span> <span class='word'>to</span> <span class='word'>improve</span> <span class='word'>work-flow</span><span class='ignore'>,</span> <span class='word'>reference</span> <span class='word'>and</span> <span class='word'>review</span> <span class='word'>code</span> <span class='word'>changes</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>protect</span> <span class='word'>the</span> <span class='word'>project</span> <span class='word'>from</span> <span class='word'>data</span> <span class='word'>loss</span> <span class='word'>and</span> <span class='word'>corruption</span><span class='ignore'>.</span> <span class='word'>GitHub</span><span class='ignore'>,</span> <span class='word'>a</span> <span class='word'>git</span> <span class='word'>hosting</span> <span class='word'>provider</span><span class='ignore'>,</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>utilised</span> <span class='word'>to</span> <span class='word'>host</span> <span class='word'>all</span> <span class='word'>project</span> <span class='word'>files</span><span class='ignore'>,</span> <span class='word'>including</span> <span class='word'>documentation</span> <span class='word'>and</span> <span class='word'>design</span> <span class='word'>files</span><span class='ignore'>.</span> <br>
<br>
<span class='word'>The</span> <span class='word'>repository</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>found</span> <span class='word'>here</span><span class='ignore'>:</span> <span class='cmd'>\href</span><span class='ignore'>{</span><span class='ignore'>https</span><span class='ignore'>:</span><span class='ignore'>/</span><span class='ignore'>/</span><span class='ignore'>github.com</span><span class='ignore'>/</span><span class='ignore'>bendl</span><span class='ignore'>/</span><span class='ignore'>prco304</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>https</span><span class='ignore'>:</span><span class='ignore'>/</span><span class='ignore'>/</span><span class='word'>github.com</span><span class='ignore'>/</span><span class='word'>bendl</span><span class='ignore'>/</span><span class='word'>prco304</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Method</span> <span class='hword'>of</span> <span class='hword'>Approach</span><span class='ignore'>}</span><br>
<span class='word'>Development</span> <span class='word'>of</span> <span class='word'>the</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>core</span><span class='ignore'>}</span> <span class='word'>and</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>compiler</span><span class='ignore'>}</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>done</span> <span class='word'>in</span> <span class='word'>separate</span> <span class='word'>stages</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>project</span> <span class='ignore'>(</span><span class='word'>see</span> <span class='word'>section</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>proj</span><span class='ignore'>_</span><span class='ignore'>time</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>two</span> <span class='word'>deliverables</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>split</span> <span class='word'>into</span> <span class='word'>2</span> <span class='word'>sub-projects</span><span class='ignore'>.</span> <span class='word'>Both</span> <span class='word'>sub-projects</span> <span class='word'>will</span> <span class='word'>employ</span> <span class='word'>the</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Agile</span> <span class='word'>development</span> <span class='word'>process</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word'>using</span> <span class='word'>Agile's</span> <span class='word'>sprints</span> <span class='word'>to</span> <span class='word'>split</span> <span class='word'>up</span> <span class='word'>tasks</span> <span class='word'>into</span> <span class='word'>sub-tasks</span> <span class='word'>and</span> <span class='word'>Agile's</span> <span class='word'>scrums</span> <span class='word'>to</span> <span class='word'>discuss</span> <span class='word'>progress</span><span class='ignore'>,</span> <span class='word'>features</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>changes</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>technique</span> <span class='word'>allows</span> <span class='word'>revisiting</span> <span class='word'>of</span> <span class='word'>tasks</span> <span class='word'>to</span> <span class='word'>tweak</span> <span class='word'>and</span> <span class='word'>iterate</span> <span class='word'>over</span> <span class='word'>their</span> <span class='word'>implementation</span> <span class='word'>which</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>key</span> <span class='word'>when</span> <span class='word'>for</span> <span class='word'>incrementally</span> <span class='word'>adding</span> <span class='word'>features</span> <span class='word'>to</span> <span class='word'>both</span> <span class='word'>sub-projects</span><span class='ignore'>,</span> <span class='word'>for</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>adding</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>core's</span> <span class='word'>ALU</span> <span class='word'>module</span> <span class='word'>to</span> <span class='word'>add</span> <span class='word'>conditional</span> <span class='word'>branching</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>adding</span> <span class='word'>new</span> <span class='word'>instructions</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>core's</span> <span class='word'>decoder</span> <span class='word'>module</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Requirements</span><span class='ignore'>}</span><br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Resources</span> <span class='hword'>and</span> <span class='hword'>Dependencies</span><span class='ignore'>}</span><br>
<span class='word'>For</span> <span class='word'>the</span> <span class='word'>first</span> <span class='word'>half</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>development</span> <span class='word'>cycle</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>core</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>developed</span> <span class='word'>and</span> <span class='word'>verified</span> <span class='word'>using</span> <span class='word'>the</span> <span class='word'>Verilog</span> <span class='word'>simulator</span> <span class='word'>and</span> <span class='word'>test</span> <span class='word'>suite</span><span class='ignore'>,</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Verilator</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>VHDL</span> <span class='word'>and</span> <span class='word'>Verilog</span> <span class='word'>simulator</span><span class='ignore'>,</span> <span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>iSim</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>second</span> <span class='word'>half</span> <span class='word'>of</span> <span class='word'>development</span> <span class='word'>will</span> <span class='word'>require</span> <span class='word'>deploying</span> <span class='word'>and</span> <span class='word'>debugging</span> <span class='word'>on</span> <span class='word'>real</span> <span class='word'>hardware</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>will</span> <span class='word'>require</span> <span class='word'>an</span> <span class='word'>FPGA</span> <span class='word'>development</span> <span class='word'>kit</span><span class='ignore'>.</span> <span class='word'>To</span> <span class='word'>better</span> <span class='word'>emulate</span> <span class='word'>customer</span> <span class='word'>products</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>development</span> <span class='word'>kit</span> <span class='word'>should</span> <span class='word'>feature</span> <span class='word'>common</span> <span class='word'>components</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>LEDs</span><span class='ignore'>,</span> <span class='word'>GPIO</span><span class='ignore'>,</span> <span class='word'>USB</span> <span class='word'>interface</span><span class='ignore'>,</span> <span class='word'>flash-based</span> <span class='word'>storage</span> <span class='word'>and</span> <span class='word'>memory</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>optionally</span> <span class='word'>an</span> <span class='word'>analogue</span> <span class='word'>audio</span> <span class='word'>output</span> <span class='word'>port</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>low-middle</span> <span class='word'>range</span> <span class='word'>of</span> <span class='word'>FPGA</span> <span class='word'>devices</span> <span class='word'>the</span> <span class='word'>project</span> <span class='word'>is</span> <span class='word'>targeting</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>popular</span> <span class='word'>and</span> <span class='word'>affordable</span> <span class='word'>yet</span> <span class='word'>feature</span> <span class='word'>rich</span> <span class='word'>Spartan-6</span> <span class='word'>and</span> <span class='word'>Artix-7</span> <span class='word'>FPGAs</span><span class='ignore'>.</span> <span class='word'>From</span> <span class='word'>my</span> <span class='word'>placement</span><span class='ignore'>,</span> <span class='word'>I</span> <span class='word'>have</span> <span class='word'>gained</span> <span class='word'>experience</span> <span class='word'>in</span> <span class='word'>Xilinx</span> <span class='word'>FPGAs</span> <span class='word'>and</span> <span class='word'>so</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>targeting</span> <span class='word'>them</span> <span class='word'>for</span> <span class='word'>this</span> <span class='word'>project</span> <span class='word'>to</span> <span class='word'>reduce</span> <span class='word'>risk</span> <span class='word'>and</span> <span class='word'>development</span> <span class='word'>time</span><span class='ignore'>.</span><br>
<span class='cmd'>\\</span><span class='cmd'>\\</span><br>
<span class='word'>The</span> <span class='word'>following</span> <span class='word'>FPGA</span> <span class='word'>development</span> <span class='word'>kits</span> <span class='word'>are</span> <span class='word'>suitable</span> <span class='word'>for</span> <span class='word'>this</span> <span class='word'>project</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{enumerate}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>MiniSpartan6</span><span class='ignore'>+</span> <span class='ignore'>-</span> <span class='word'>Scarab</span> <span class='word'>Hardware</span> <span class='ignore'>-</span> <span class='ignore'>£</span><span class='word'>79</span> <span class='ignore'>(</span><span class='word'>already</span> <span class='word'>owned</span><span class='ignore'>)</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>scarabhardware</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>MiniSpartan6</span><span class='ignore'>+</span> <span class='word'>features</span> <span class='word'>a</span> <span class='word'>Spartan-6</span> <span class='word'>XC6SLX9</span> <span class='word'>FPGA</span><span class='ignore'>,</span> <span class='word'>8</span> <span class='word'>LEDs</span><span class='ignore'>,</span> <span class='word'>2</span> <span class='word'>digital</span> <span class='word'>and</span> <span class='word'>analogue</span> <span class='word'>headers</span><span class='ignore'>,</span> <span class='word'>FT2232</span> <span class='word'>FTDI</span> <span class='word'>USB</span> <span class='word'>to</span> <span class='word'>JTAG</span><span class='ignore'>,</span> <span class='word'>64Mb</span> <span class='word'>SPI</span> <span class='word'>flash</span> <span class='word'>memory</span><span class='ignore'>,</span> <span class='word'>32MB</span> <span class='word'>SDRAM</span><span class='ignore'>,</span> <span class='word'>an</span> <span class='word'>audio</span> <span class='word'>output</span> <span class='word'>jack</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>a</span> <span class='word'>MicroSD</span> <span class='word'>socket</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[ht]</span><br>
<span class='exclcmd'>\centering</span><br>
&nbsp;&nbsp; <span class='exclcmd'>\includegraphics</span><span class='option'>[width=0.5\textwidth]</span><span class='ignore'>{</span><span class='ignore'>minispartan</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Scarab</span> <span class='oword'>Hardware</span> <span class='oword'>MiniSpartan6</span><span class='ignore'>+</span> <span class='oword'>board</span> <span class='oword'>layout</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>res</span><span class='ignore'>:</span><span class='ignore'>minispartan</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Arty</span> <span class='word'>Artix-7</span> <span class='word'>FPGA</span> <span class='word'>Development</span> <span class='word'>Board</span> <span class='ignore'>-</span> <span class='word'>Digilent</span> <span class='ignore'>-</span> <span class='ignore'>£</span><span class='word'>100</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>arty</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>Arty</span> <span class='word'>development</span> <span class='word'>board</span> <span class='word'>features</span> <span class='word'>a</span> <span class='word'>larger</span> <span class='word'>Artix-35T</span> <span class='word'>FPGA</span> <span class='word'>with</span> <span class='word'>over</span> <span class='word'>20x</span> <span class='word'>the</span> <span class='word'>number</span> <span class='word'>of</span> <span class='word'>logic</span> <span class='word'>cells</span> <span class='word'>and</span> <span class='word'>block</span> <span class='word'>memory</span> <span class='word'>compared</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>LX9</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>MiniSpartan6</span><span class='ignore'>+</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>board</span> <span class='word'>components</span> <span class='word'>include</span> <span class='word'>256MB</span> <span class='word'>DDR3</span> <span class='word'>RAM</span><span class='ignore'>,</span> <span class='word'>16MBx4</span> <span class='word'>SPI</span> <span class='word'>flash</span> <span class='word'>memory</span><span class='ignore'>,</span> <span class='word'>USB-JTAG</span><span class='ignore'>,</span> <span class='word'>8</span> <span class='word'>LEDs</span> <span class='ignore'>(</span><span class='word'>4</span> <span class='word'>of</span> <span class='word'>which</span> <span class='word'>are</span> <span class='word'>RGB</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word'>4</span> <span class='word'>switches</span><span class='ignore'>,</span> <span class='word'>4</span> <span class='word'>buttons</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>multiple</span> <span class='word'>Pmod</span> <span class='word'>connectors</span><span class='ignore'>.</span><br>
<span class='cmd'>\\</span><span class='cmd'>\\</span><br>
<span class='word'>The</span> <span class='word'>greater</span> <span class='word'>number</span> <span class='word'>of</span> <span class='word'>IO</span> <span class='word'>options</span> <span class='word'>and</span> <span class='word'>larger</span> <span class='word'>FPGA</span> <span class='word'>make</span> <span class='word'>the</span> <span class='word'>Arty</span> <span class='word'>board</span> <span class='word'>better</span> <span class='word'>suited</span> <span class='word'>to</span> <span class='word'>emulating</span> <span class='word'>real</span> <span class='word'>customer</span> <span class='word'>products</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[ht]</span><br>
<span class='exclcmd'>\centering</span><br>
&nbsp;&nbsp; <span class='exclcmd'>\includegraphics</span><span class='option'>[width=0.5\textwidth]</span><span class='ignore'>{</span><span class='ignore'>arty</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Digilent</span> <span class='oword'>Arty</span> <span class='oword'>Artix-7</span> <span class='oword'>board</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>res</span><span class='ignore'>:</span><span class='ignore'>arty</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{enumerate}</span><br>
<br>
<span class='word'>The</span> <span class='word'>project</span> <span class='word'>will</span> <span class='word'>require</span> <span class='word'>a</span> <span class='word'>computer</span> <span class='word'>or</span> <span class='word'>laptop</span> <span class='word'>to</span> <span class='word'>develop</span> <span class='word'>the</span> <span class='word'>core</span> <span class='word'>and</span> <span class='word'>compiler</span> <span class='word'>on</span> <span class='word'>and</span> <span class='word'>continuous</span> <span class='word'>integration</span> <span class='word'>systems</span> <span class='word'>to</span> <span class='word'>perform</span> <span class='word'>testing</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>incremental</span> <span class='word'>builds</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>the</span> <span class='word'>project</span> <span class='word'>demo</span><span class='ignore'>,</span> <span class='word'>an</span> <span class='word'>oscilloscope</span> <span class='ignore'>(</span><span class='word'>already</span> <span class='word'>owned</span><span class='ignore'>)</span> <span class='word'>or</span> <span class='word'>digital</span> <span class='word'>logic</span> <span class='word'>analyser</span> <span class='word'>may</span> <span class='word'>be</span> <span class='word'>required</span> <span class='word'>to</span> <span class='word'>demonstrate</span> <span class='word'>some</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>core's</span> <span class='word'>features</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\chapter</span><span class='ignore'>{</span><span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='hword'>Processor</span> <span class='hword'>Design</span><span class='ignore'>}</span><br>
<span class='ignore'>{</span><span class='cmd'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='cmd'>\startcontents</span><span class='option'>[chapters]</span><br>
<span class='cmd'>\printcontents</span><span class='option'>[chapters]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Introduction</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>Processor</span> <span class='word'>Design</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>first</span> <span class='word'>of</span> <span class='word'>two</span> <span class='word'>deliverable</span> <span class='word'>sub-projects</span> <span class='word'>required</span> <span class='word'>for</span> <span class='word'>this</span> <span class='word'>project</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>processor</span> <span class='word'>is</span> <span class='word'>designed</span> <span class='word'>to</span> <span class='word'>be</span> <span class='word'>a</span> <span class='word'>small</span><span class='ignore'>,</span> <span class='word'>instantiated</span><span class='ignore'>,</span> <span class='word'>Verilog</span> <span class='word'>module</span> <span class='word'>that</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>easily</span> <span class='word'>inserted</span> <span class='word'>into</span> <span class='word'>existing</span> <span class='word'>FPGA-based</span> <span class='word'>Verilog</span> <span class='word'>projects</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>designed</span> <span class='word'>for</span> <span class='word'>physical</span> <span class='word'>implementation</span> <span class='word'>in</span> <span class='word'>silicon</span> <span class='word'>but</span> <span class='word'>rather</span> <span class='word'>for</span> <span class='word'>FPGA</span> <span class='word'>devices</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>High</span> <span class='hword'>Level</span> <span class='hword'>Design</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>is</span> <span class='word'>a</span> <span class='word'>modularised</span> <span class='word'>processor</span> <span class='word'>with</span> <span class='word'>independent</span> <span class='word'>components</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>ALU</span><span class='ignore'>,</span> <span class='word'>Registers</span><span class='ignore'>,</span> <span class='word'>RAM</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>it's</span> <span class='word'>peripherals</span><span class='ignore'>.</span> <br>
<br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<span class='exclcmd'>\includegraphics</span><span class='option'>[scale=0.5]</span><span class='ignore'>{</span><span class='ignore'>hld</span><span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='oword'>processor</span> <span class='oword'>block</span> <span class='oword'>diagram</span> <span class='oword'>showing</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>hld</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Registers</span><span class='ignore'>}</span><br>
<span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>has</span> <span class='word'>a</span> <span class='word'>total</span> <span class='word'>of</span> <span class='word'>6</span> <span class='word'>addressable</span><span class='ignore'>,</span> <span class='word'>read</span> <span class='word'>and</span> <span class='word'>write</span><span class='ignore'>,</span> <span class='word'>registers</span><span class='ignore'>.</span> <span class='word'>These</span> <span class='word'>registers</span> <span class='word'>are</span> <span class='word'>identified</span> <span class='word'>by</span> <span class='word'>letters</span> <span class='word'>A</span> <span class='word'>through</span> <span class='word'>H</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>General</span> <span class='hword'>Purpose</span> <span class='hword'>Registers</span><span class='ignore'>}</span><br>
<span class='word'>Registers</span> <span class='word'>A</span> <span class='word'>through</span> <span class='word'>E</span> <span class='word'>are</span> <span class='word'>designed</span> <span class='word'>for</span> <span class='word'>general</span> <span class='word'>purpose</span> <span class='word'>use</span> <span class='word'>and</span> <span class='word'>are</span> <span class='word'>safe</span> <span class='word'>to</span> <span class='word'>store</span> <span class='word'>user</span> <span class='word'>values</span> <span class='word'>over</span> <span class='word'>the</span> <span class='word'>run-time</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[h]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><span class='comment'>%&nbsp; 1 is the default, change whatever you need</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{2cm}</span><span class='ignore'>|</span><span class='ignore'>l</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>Registers</span> <span class='ignore'>&amp;</span> <span class='ignore'>Bits</span> <span class='ignore'>&amp;</span> <span class='ignore'>Description</span> <span class='exclcmd'>\\</span><br>
	<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
	<span class='ignore'>A</span> <span class='ignore'>through</span> <span class='ignore'>E</span> <span class='ignore'>&amp;</span> <span class='ignore'>15</span><span class='ignore'>:</span><span class='ignore'>0</span> <span class='ignore'>&amp;</span> <span class='ignore'>5</span> <span class='ignore'>General</span> <span class='ignore'>purpose</span> <span class='ignore'>registers</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
&nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>General</span> <span class='oword'>purpose</span> <span class='oword'>registers</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='word'>Instructions</span> <span class='word'>that</span> <span class='word'>require</span> <span class='word'>a</span> <span class='word'>destination</span> <span class='word'>register</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>CMP</span><span class='ignore'>,</span> <span class='word'>can</span> <span class='word'>reference</span> <span class='word'>any</span> <span class='word'>register</span> <span class='ignore'>(</span><span class='word'>even</span> <span class='word'>special</span> <span class='word'>registers</span> <span class='word'>if</span> <span class='word'>that</span> <span class='word'>is</span> <span class='word'>your</span> <span class='word'>requirement</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>the</span> <span class='word'>CMP</span> <span class='word'>instruction</span> <span class='word'>as</span> <span class='word'>an</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>will</span> <span class='word'>put</span> <span class='word'>the</span> <span class='word'>result</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>comparison</span> <span class='word'>instruction</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>destination</span> <span class='word'>register</span><span class='ignore'>,</span> <span class='word'>overwriting</span> <span class='word'>any</span> <span class='word'>value</span> <span class='word'>present</span> <span class='word'>in</span> <span class='word'>that</span> <span class='word'>register</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Special</span> <span class='hword'>Registers</span><span class='ignore'>}</span><br>
<span class='word'>Registers</span> <span class='word'>F</span> <span class='word'>through</span> <span class='word'>H</span> <span class='word'>are</span> <span class='word'>special</span> <span class='word'>registers</span> <span class='word'>within</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>processor</span> <span class='word'>cannot</span> <span class='word'>guarantee</span> <span class='word'>that</span> <span class='word'>a</span> <span class='word'>value</span> <span class='word'>written</span> <span class='word'>or</span> <span class='word'>read</span> <span class='word'>in</span> <span class='word'>these</span> <span class='word'>registers</span> <span class='word'>will</span> <span class='word'>persist</span> <span class='word'>over</span> <span class='word'>the</span> <span class='word'>run-time</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>Erroneously</span> <span class='word'>writing</span> <span class='word'>to</span> <span class='word'>these</span> <span class='word'>registers</span> <span class='word'>may</span> <span class='word'>severely</span> <span class='word'>affect</span> <span class='word'>program</span> <span class='word'>and</span> <span class='word'>processor</span> <span class='word'>behaviour</span><span class='ignore'>.</span><br>
<br>
<span class='word'>Even</span> <span class='word'>though</span> <span class='word'>all</span> <span class='word'>registers</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>used</span> <span class='word'>at</span> <span class='word'>the</span> <span class='word'>will</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>programmer</span><span class='ignore'>,</span> <span class='word'>it</span> <span class='word'>is</span> <span class='word'>recommended</span> <span class='word'>to</span> <span class='word'>isolate</span> <span class='word'>a</span> <span class='word'>few</span> <span class='word'>registers</span> <span class='word'>to</span> <span class='word'>provide</span> <span class='word'>special</span> <span class='word'>features</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>RAM</span> <span class='word'>stack</span> <span class='word'>management</span><span class='ignore'>,</span> <span class='word'>interrupts</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>IO</span> <span class='word'>multiplexing</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[h]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><span class='comment'>%&nbsp; 1 is the default, change whatever you need</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{2cm}</span><span class='ignore'>|</span><span class='ignore'>l</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>Registers</span> <span class='ignore'>&amp;</span> <span class='ignore'>Bits</span> <span class='ignore'>&amp;</span> <span class='ignore'>Description</span> <span class='exclcmd'>\\</span><br>
	<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
	<span class='ignore'>F</span> <span class='ignore'>&amp;</span> <span class='ignore'>15</span><span class='ignore'>:</span><span class='ignore'>0</span> <span class='ignore'>&amp;</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>sr</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>G</span> <span class='ignore'>&amp;</span> <span class='ignore'>15</span><span class='ignore'>:</span><span class='ignore'>0</span> <span class='ignore'>&amp;</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>bp</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>H</span> <span class='ignore'>&amp;</span> <span class='ignore'>15</span><span class='ignore'>:</span><span class='ignore'>0</span> <span class='ignore'>&amp;</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>sp</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
&nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Special</span> <span class='oword'>registers</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='ignore'>{</span><span class='hword'>Status</span> <span class='hword'>Register</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>sr</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>Status</span> <span class='word'>Register</span> <span class='word'>is</span> <span class='word'>a</span> <span class='word'>dedicated</span> <span class='word'>register</span> <span class='word'>used</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>ALU</span> <span class='word'>to</span> <span class='word'>provide</span> <span class='word'>additional</span> <span class='word'>information</span> <span class='word'>on</span> <span class='word'>results</span> <span class='word'>of</span> <span class='word'>instructions</span><span class='ignore'>.</span> <span class='word'>Using</span> <span class='word'>the</span> <span class='word'>Status</span> <span class='word'>Register</span> <span class='word'>is</span> <span class='word'>essential</span> <span class='word'>for</span> <span class='word'>programs</span> <span class='word'>wanting</span> <span class='word'>to</span> <span class='word'>perform</span> <span class='word'>conditional</span> <span class='word'>branching</span> <span class='word'>or</span> <span class='word'>operate</span> <span class='word'>on</span> <span class='word'>dynamic</span> <span class='word'>data</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[h]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><span class='comment'>%&nbsp; 1 is the default, change whatever you need</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{2cm}</span><span class='ignore'>|</span><span class='ignore'>l</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>Bit</span> <span class='ignore'>&amp;</span> <span class='ignore'>Name</span> <span class='ignore'>&amp;</span> <span class='ignore'>Description</span> <span class='exclcmd'>\\</span><br>
	<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
	<span class='ignore'>0</span> <span class='ignore'>&amp;</span> <span class='ignore'>SR</span><span class='exclcmd'>\_</span><span class='ignore'>Z</span> <span class='ignore'>&amp;</span> <span class='ignore'>Set</span> <span class='ignore'>if</span> <span class='ignore'>the</span> <span class='ignore'>result</span> <span class='ignore'>of</span> <span class='ignore'>a</span> <span class='ignore'>CMP</span> <span class='ignore'>instruction</span> <span class='ignore'>is</span> <span class='ignore'>0</span><span class='ignore'>.</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>1</span> <span class='ignore'>&amp;</span> <span class='ignore'>SR</span><span class='exclcmd'>\_</span><span class='ignore'>E</span> <span class='ignore'>&amp;</span> <span class='ignore'>Set</span> <span class='ignore'>if</span> <span class='ignore'>the</span> <span class='ignore'>two</span> <span class='ignore'>operands</span> <span class='ignore'>of</span> <span class='ignore'>a</span> <span class='ignore'>CMP</span> <span class='ignore'>instruction</span> <span class='ignore'>are</span> <span class='ignore'>equal</span><span class='ignore'>.</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
	<span class='ignore'>2</span> <span class='ignore'>&amp;</span> <span class='ignore'>SR</span><span class='exclcmd'>\_</span><span class='ignore'>S</span> <span class='ignore'>&amp;</span> <span class='ignore'>Set</span> <span class='ignore'>if</span> <span class='ignore'>operand</span> <span class='ignore'>B</span> <span class='ignore'>is</span> <span class='ignore'>greater</span> <span class='ignore'>than</span> <span class='ignore'>operand</span> <span class='ignore'>A</span><span class='ignore'>.</span><br>
	<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
&nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Status</span> <span class='oword'>Register</span> <span class='oword'>breakdown</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='word'>By</span> <span class='word'>default</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>JMP</span> <span class='word'>instruction</span> <span class='word'>will</span> <span class='word'>read</span> <span class='word'>the</span> <span class='word'>Status</span> <span class='word'>Register</span> <span class='word'>to</span> <span class='word'>compare</span> <span class='word'>against</span> <span class='word'>the</span> <span class='word'>instruction's</span> <span class='word'>conditional</span> <span class='word'>jump</span> <span class='word'>parameter</span><span class='ignore'>.</span> <br>
<br>
<span class='cmd'>\subsubsection</span><span class='ignore'>{</span><span class='hword'>Base</span> <span class='hword'>Pointer</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>bp</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>assumes</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>employ</span> <span class='word'>a</span> <span class='word'>stack</span> <span class='word'>management</span> <span class='word'>scheme</span> <span class='word'>similar</span> <span class='word'>to</span> <span class='word'>that</span> <span class='word'>of</span> <span class='word'>x86</span> <span class='word'>machines</span><span class='ignore'>.</span> <span class='word'>By</span> <span class='word'>doing</span> <span class='word'>so</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>assumes</span> <span class='word'>the</span> <span class='word'>last</span> <span class='word'>2</span> <span class='word'>registers</span> <span class='word'>are</span> <span class='word'>dedicated</span> <span class='word'>to</span> <span class='word'>stack</span> <span class='word'>management</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>Base</span> <span class='word'>Pointer</span> <span class='word'>register</span> <span class='word'>is</span> <span class='word'>used</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>similar</span> <span class='word'>way</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>x86</span> <span class='word'>Base</span> <span class='word'>Pointer</span> <span class='word'>register</span><span class='ignore'>.</span><br>
<br>
<span class='word'>Compilers</span> <span class='word'>and</span> <span class='word'>code</span> <span class='word'>generators</span> <span class='word'>should</span> <span class='word'>utilise</span> <span class='word'>this</span> <span class='word'>register</span> <span class='word'>for</span> <span class='word'>storing</span> <span class='word'>the</span> <span class='word'>address</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>current</span> <span class='word'>stack</span> <span class='word'>frame</span><span class='ignore'>.</span> <span class='word'>By</span> <span class='word'>utilising</span> <span class='word'>the</span> <span class='word'>register</span> <span class='word'>this</span> <span class='word'>way</span><span class='ignore'>,</span> <span class='word'>features</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>local</span> <span class='word'>and</span> <span class='word'>passed</span> <span class='word'>variables</span> <span class='word'>become</span> <span class='word'>available</span> <span class='word'>as</span> <span class='word'>they</span> <span class='word'>are</span> <span class='word'>addressable</span> <span class='word'>by</span> <span class='word'>offsetting</span> <span class='word'>the</span> <span class='word'>Base</span> <span class='word'>Pointer</span> <span class='word'>by</span> <span class='word'>a</span> <span class='word'>constant</span> <span class='word'>value</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='ignore'>{</span><span class='hword'>Stack</span> <span class='hword'>Pointer</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>sp</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>Stack</span> <span class='word'>Pointer</span> <span class='word'>is</span> <span class='word'>similar</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>x86</span> <span class='word'>Stack</span> <span class='word'>Pointer</span> <span class='word'>in</span> <span class='word'>that</span> <span class='word'>it</span> <span class='word'>stores</span> <span class='word'>the</span> <span class='word'>address</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>top</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>stack</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>register</span> <span class='word'>is</span> <span class='word'>used</span> <span class='word'>primarily</span> <span class='word'>for</span> <span class='word'>PUSH</span> <span class='word'>and</span> <span class='word'>POP</span> <span class='word'>operations</span> <span class='ignore'>(</span><span class='word'>see</span> <span class='word'>section</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>}</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>sect</span><span class='ignore'>:</span><span class='word'>compiler</span><span class='ignore'>_</span><span class='word'>cg</span><span class='ignore'>_</span><span class='word'>push</span><span class='ignore'>_</span><span class='word'>pop</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='word'>for</span> <span class='word'>example</span> <span class='word'>usage</span><span class='ignore'>)</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Instruction</span> <span class='hword'>Set</span> <span class='hword'>Architecture</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>implements</span> <span class='word'>it's</span> <span class='word'>own</span> <span class='word'>fixed</span> <span class='word'>16-bit</span> <span class='word'>instruction</span> <span class='word'>set</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Instruction</span> <span class='hword'>Types</span><span class='ignore'>}</span><br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[h]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{4cm}</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Type</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>4</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Bits</span><span class='ignore'>}</span> <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Type</span> <span class='ignore'>1</span> <span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='ignore'>10-8</span> <span class='ignore'>&amp;</span> <span class='ignore'>7-5</span> <span class='ignore'>&amp;</span> <span class='ignore'>4-0</span> <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Type</span> <span class='ignore'>2</span> <span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='ignore'>10-8</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>7-0</span><span class='ignore'>}</span> <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Type</span> <span class='ignore'>3</span> <span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>3</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>7-0</span><span class='ignore'>}</span> <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='exclenv'>\end</span><span class='exclenv'>{tabular}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>The</span> <span class='oword'>2</span> <span class='oword'>instruction</span> <span class='oword'>format</span> <span class='oword'>types</span> <span class='oword'>used</span> <span class='oword'>by</span> <span class='oword'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='oword'>processor</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Instructions</span><span class='ignore'>}</span><br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[h]</span><br>
	<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{4cm}</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>Type</span> <span class='ignore'>1</span> <span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='ignore'>10-8</span> <span class='ignore'>&amp;</span> <span class='ignore'>7-5</span> <span class='ignore'>&amp;</span> <span class='ignore'>4-0</span> <span class='ignore'>&amp;</span> <span class='ignore'>Semantics</span><span class='exclcmd'>\\</span> <br>
	<span class='exclcmd'>\hline</span> <br>
	<span class='ignore'>Type</span> <span class='ignore'>2</span> <span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='ignore'>10-8</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>7-0</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Semantics</span> <span class='exclcmd'>\\</span> <br>
	<span class='exclcmd'>\hline</span> <br>
	<span class='ignore'>Type</span> <span class='ignore'>3</span> <span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>3</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>7-0</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Semantics</span><span class='exclcmd'>\\</span> <br>
&nbsp;&nbsp;<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class='ignore'>NOP</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>00000</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>PC</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>PC</span> <span class='ignore'>+</span> <span class='ignore'>1</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>LW</span>&nbsp; 	<span class='ignore'>&amp;</span> <span class='ignore'>00001</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='ignore'>Ra</span> <span class='ignore'>&amp;</span> <span class='ignore'>Simm5</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>RAM</span><span class='ignore'>[</span><span class='ignore'>Ra</span> <span class='ignore'>+</span> <span class='ignore'>Simm5</span><span class='ignore'>]</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>SW</span>&nbsp; 	<span class='ignore'>&amp;</span> <span class='ignore'>00010</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='ignore'>Ra</span> <span class='ignore'>&amp;</span> <span class='ignore'>Simm5</span> <span class='ignore'>&amp;</span> <span class='ignore'>RAM</span><span class='ignore'>[</span><span class='ignore'>Ra</span> <span class='ignore'>+</span> <span class='ignore'>Simm5</span><span class='ignore'>]</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Rd</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>MOV</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>00011</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='ignore'>Ra</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Ra</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>MOVI</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>00100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Simm8</span><span class='ignore'>}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Simm8</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>ADD</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01000</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='ignore'>Ra</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Rd</span> <span class='ignore'>+</span> <span class='ignore'>Ra</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>ADDI</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01001</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Simm8</span><span class='ignore'>}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Rd</span> <span class='ignore'>+</span> <span class='ignore'>Simm8</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>SUB</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01010</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='ignore'>Ra</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Rd</span> <span class='ignore'>-</span> <span class='ignore'>Ra</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>SUBI</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01011</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Simm8</span><span class='ignore'>}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='exclmath'>$</span><span class='math'>&lt;</span><span class='exclmath'>$</span><span class='ignore'>=</span> <span class='ignore'>Rd</span> <span class='ignore'>-</span> <span class='ignore'>Simm8</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JMP</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Imm8</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>See</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>isa</span><span class='ignore'>_</span><span class='ignore'>jmp</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>CMP</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01101</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='ignore'>Ra</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rb</span> <span class='ignore'>&amp;</span> <span class='ignore'>Set</span> <span class='ignore'>SR</span> <span class='ignore'>flags</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>HALT</span>	<span class='ignore'>&amp;</span> <span class='ignore'>10010</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>3</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>X</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Stop</span> <span class='ignore'>the</span> <span class='ignore'>processor</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>WRITE</span>	<span class='ignore'>&amp;</span> <span class='ignore'>10011</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Imm8</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>See</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>write</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>READ</span>	<span class='ignore'>&amp;</span> <span class='ignore'>10100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Imm8</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>See</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>read</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>SETC</span>	<span class='ignore'>&amp;</span> <span class='ignore'>10101</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Imm8</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Set</span> <span class='ignore'>Rd</span> <span class='ignore'>to</span> <span class='ignore'>1</span> <span class='ignore'>if</span> <span class='ignore'>Imm8</span> <span class='ignore'>is</span> <span class='ignore'>set</span> <span class='ignore'>in</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>sr</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='ignore'>from</span> <span class='ignore'>last</span> <span class='ignore'>CMP</span> <span class='ignore'>instruction</span><span class='ignore'>,</span> <span class='ignore'>else</span> <span class='ignore'>0</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
&nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Number</span> <span class='oword'>of</span> <span class='oword'>respondants</span> <span class='oword'>for</span> <span class='oword'>treatment</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Conditional</span> <span class='hword'>Branching</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>isa</span><span class='ignore'>_</span><span class='ignore'>jmp</span><span class='ignore'>}</span><br>
<span class='word'>Table</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>tab</span><span class='ignore'>:</span><span class='ignore'>isa</span><span class='ignore'>_</span><span class='ignore'>jmp</span><span class='ignore'>_</span><span class='ignore'>bits</span><span class='ignore'>}</span> <span class='word'>below</span> <span class='word'>details</span> <span class='word'>each</span> <span class='word'>conditional</span> <span class='word'>branch</span> <span class='word'>parameter</span> <span class='word'>and</span> <span class='word'>how</span> <span class='word'>it</span> <span class='word'>is</span> <span class='word'>evaluated</span> <span class='word'>in</span> <span class='word'>the</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>sect</span><span class='ignore'>:</span><span class='word'>core</span><span class='ignore'>_</span><span class='word'>regs</span><span class='ignore'>_</span><span class='word'>sr</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[H]</span><br>
	<span class='exclcmd'>\centering</span><br>
	<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>&amp;</span> <span class='ignore'>15-11</span> <span class='ignore'>&amp;</span> <span class='ignore'>10-8</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>7-0</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Semantics</span> <span class='ignore'>&amp;</span> <span class='ignore'>{</span><span class='exclcmd'>\nameref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>regs</span><span class='ignore'>_</span><span class='ignore'>sr</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='exclcmd'>\\</span><br>
&nbsp;&nbsp;<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='ignore'>JMP</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0000</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Unconditional</span> <span class='ignore'>Jump</span> <span class='ignore'>&amp;</span> <span class='ignore'>Any</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JE</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0001</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Equal</span> <span class='ignore'>&amp;</span> <span class='ignore'>ZF</span><span class='ignore'>=</span><span class='ignore'>1</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JNE</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0010</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Not</span> <span class='ignore'>Equal</span> <span class='ignore'>&amp;</span> <span class='ignore'>ZF</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JG</span>	<span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0011</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Greater</span> <span class='ignore'>Than</span> <span class='ignore'>&amp;</span> <span class='ignore'>ZF</span><span class='ignore'>=</span><span class='ignore'>0</span> <span class='ignore'>and</span> <span class='ignore'>SF</span><span class='ignore'>=</span><span class='ignore'>OF</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JGE</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0100</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Greater</span> <span class='ignore'>Than</span> <span class='ignore'>or</span> <span class='ignore'>Equal</span> <span class='ignore'>&amp;</span> <span class='ignore'>SF</span><span class='ignore'>=</span><span class='ignore'>OF</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JL</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0101</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Less</span> <span class='ignore'>Than</span> <span class='ignore'>&amp;</span> <span class='ignore'>SF</span><span class='exclmath'>$</span><span class='math'>&lt;</span><span class='math'>&gt;</span><span class='exclmath'>$</span><span class='ignore'>OF</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JLE</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0110</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Less</span> <span class='ignore'>Than</span> <span class='ignore'>or</span> <span class='ignore'>Equal</span> <span class='ignore'>&amp;</span> <span class='ignore'>ZF</span><span class='ignore'>=</span><span class='ignore'>1</span> <span class='ignore'>or</span> <span class='ignore'>SF</span><span class='exclmath'>$</span><span class='math'>&lt;</span><span class='math'>&gt;</span><span class='exclmath'>$</span><span class='ignore'>OF</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JS</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>0111</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Signed</span> <span class='ignore'>&amp;</span> <span class='ignore'>SF</span><span class='ignore'>=</span><span class='ignore'>1</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='ignore'>JNS</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>01100</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rd</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\multicolumn</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0000</span> <span class='ignore'>1000</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='ignore'>Jump</span> <span class='ignore'>Not</span> <span class='ignore'>Signed</span> <span class='ignore'>&amp;</span> <span class='ignore'>SF</span><span class='ignore'>=</span><span class='ignore'>0</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
&nbsp;&nbsp;<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
&nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Conditional</span> <span class='oword'>jump</span> <span class='oword'>immediate</span> <span class='oword'>bits</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>tab</span><span class='ignore'>:</span><span class='ignore'>isa</span><span class='ignore'>_</span><span class='ignore'>jmp</span><span class='ignore'>_</span><span class='ignore'>bits</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Design</span> <span class='hword'>Considerations</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor's</span> <span class='word'>ISA</span> <span class='word'>has</span> <span class='word'>been</span> <span class='word'>through</span> <span class='word'>multiple</span> <span class='word'>iterations</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Opcode</span> <span class='hword'>Bits</span><span class='ignore'>}</span> <br>
<span class='word'>Initially</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>opcode</span> <span class='word'>length</span> <span class='word'>was</span> <span class='word'>4-bits</span> <span class='word'>allowing</span> <span class='word'>a</span> <span class='word'>total</span> <span class='word'>of</span> <span class='word'>16</span> <span class='word'>unique</span> <span class='word'>opcodes</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>was</span> <span class='word'>later</span> <span class='word'>changed</span> <span class='word'>to</span> <span class='word'>5-bits</span> <span class='word'>to</span> <span class='word'>add</span> <span class='word'>more</span> <span class='word'>opcodes</span><span class='ignore'>,</span> <span class='word'>however</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>SETC</span> <span class='hword'>Instruction</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>SETC</span><span class='cmd'>|</span> <span class='word'>instruction</span> <span class='word'>was</span> <span class='word'>added</span> <span class='word'>to</span> <span class='word'>reduce</span> <span class='word'>the</span> <span class='word'>number</span> <span class='word'>of</span> <span class='word'>instruction</span> <span class='word'>required</span> <span class='word'>to</span> <span class='word'>perform</span> <span class='word'>boolean</span> <span class='word'>logic</span> <span class='word'>operations</span> <span class='word'>on</span> <span class='word'>registers</span><span class='ignore'>.</span> <span class='word'>Without</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>SETC</span><span class='cmd'>|</span> <span class='word'>instruction</span><span class='ignore'>,</span> <span class='word'>to</span> <span class='word'>evaluate</span> <span class='word'>the</span> <span class='word'>expression</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span> <span class='ignore'>&lt;</span> <span class='word'>5</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>would</span> <span class='word'>need</span> <span class='word'>to</span> <span class='word'>emit</span> <span class='word'>multiple</span> <span class='word'>JMP</span> <span class='word'>instructions</span> <span class='word'>to</span> <span class='word'>set</span> <span class='word'>the</span> <span class='word'>result</span> <span class='word'>to</span> <span class='word'>0</span> <span class='word'>or</span> <span class='word'>1</span> <span class='word'>and</span> <span class='word'>JMP</span> <span class='word'>over</span> <span class='word'>the</span> <span class='word'>other</span> <span class='word'>result</span><span class='ignore'>.</span> <span class='word'>In</span> <span class='word'>my</span> <span class='word'>testing</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>would</span> <span class='word'>require</span> <span class='word'>between</span> <span class='word'>5-8</span> <span class='word'>instruction</span> <span class='word'>for</span> <span class='word'>each</span> <span class='word'>boolean</span> <span class='word'>expression</span><span class='ignore'>.</span> <br>
<br>
<span class='word'>The</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>SETC</span><span class='cmd'>|</span> <span class='word'>instruction</span> <span class='word'>is</span> <span class='word'>inspired</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>x86</span> <span class='word'>instruction</span><span class='ignore'>:</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>SETcc</span><span class='cmd'>|</span> <span class='word'>Set</span> <span class='word'>Byte</span> <span class='word'>on</span> <span class='word'>Condition</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>isa</span><span class='ignore'>_</span><span class='ignore'>x86</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word'>With</span> <span class='word'>the</span> <span class='word'>introduction</span> <span class='word'>of</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>SETC</span><span class='cmd'>|</span> <span class='word'>instruction</span> <span class='word'>late</span> <span class='word'>in</span> <span class='word'>development</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>number</span> <span class='word'>of</span> <span class='word'>instructions</span> <span class='word'>could</span> <span class='word'>be</span> <span class='word'>reduced</span> <span class='word'>to</span> <span class='word'>around</span> <span class='word'>two</span> <span class='word'>instruction</span><span class='ignore'>.</span> <span class='ignore'>(</span><span class='word'>one</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>initial</span> <span class='word'>comparison</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>one</span> <span class='word'>for</span> <span class='word'>setting</span> <span class='word'>1</span> <span class='word'>or</span> <span class='word'>0</span> <span class='word'>with</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>SETC</span><span class='cmd'>|</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>greatly</span> <span class='word'>improved</span> <span class='word'>program</span> <span class='word'>execution</span> <span class='word'>time</span> <span class='word'>and</span> <span class='word'>size</span><span class='ignore'>.</span><br>
<span class='envir'>\begin</span><span class='envir'>{minted}</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><br>
<span class='word'>if</span> <span class='ignore'>(</span><span class='word'>1</span> <span class='ignore'>&lt;</span> <span class='word'>5</span><span class='ignore'>)</span> <span class='ignore'>{</span><br>
<br>
<span class='error'>Encountered \end without corresponding \begin</span><br>
<span class='cmd'>\end</span><span class='ignore'>{</span><span class='word'>minted</span><span class='ignore'>}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Pipeline</span> <span class='hword'>Architecture</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>employs</span> <span class='word'>a</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>feed-forward</span><span class='ignore'>}</span> <span class='word'>pipeline</span> <span class='word'>strategy</span><span class='ignore'>.</span> <br>
<span class='word'>This</span> <span class='word'>pipeline</span> <span class='word'>supports</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{itemize}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Time-varying</span> <span class='word'>processes</span><span class='ignore'>:</span> <span class='word'>Multi-clock</span> <span class='word'>cycle</span> <span class='word'>decoding</span><span class='ignore'>;</span> <span class='word'>Memory</span> <span class='word'>access</span><span class='ignore'>;</span> <span class='word'>ALU</span> <span class='word'>ops</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Module</span> <span class='word'>re-ordering</span><span class='ignore'>:</span> <span class='word'>Instruction</span> <span class='word'>dependencies</span><span class='ignore'>;</span> <span class='word'>Module</span> <span class='word'>skipping</span><span class='ignore'>;</span> <span class='word'>Output</span> <span class='word'>redirection</span><span class='ignore'>.</span> <span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>Interruption</span> <span class='ignore'>(</span><span class='word'>see</span> <span class='word'>section</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>interrupts</span><span class='ignore'>}</span><span class='ignore'>:</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>sect</span><span class='ignore'>:</span><span class='word'>interrupts</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{itemize}</span><br>
<br>
<span class='word'>As</span> <span class='word'>the</span> <span class='word'>pipeline</span> <span class='word'>is</span> <span class='word'>feed-forward</span><span class='ignore'>,</span> <span class='word'>no</span> <span class='word'>information</span> <span class='word'>is</span> <span class='word'>sent</span> <span class='word'>back</span> <span class='word'>to</span> <span class='word'>previous</span> <span class='word'>modules</span> <span class='word'>to</span> <span class='word'>tell</span> <span class='word'>them</span> <span class='word'>of</span> <span class='word'>their</span> <span class='word'>status</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>means</span> <span class='word'>that</span> <span class='word'>if</span> <span class='word'>a</span> <span class='word'>module</span> <span class='word'>is</span> <span class='word'>stalled</span> <span class='ignore'>(</span><span class='word'>due</span> <span class='word'>to</span> <span class='word'>mutli-cycle</span> <span class='word'>processes</span> <span class='word'>or</span> <span class='word'>future</span> <span class='word'>modules</span> <span class='word'>are</span> <span class='word'>stalled</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>the</span> <span class='word'>previous</span> <span class='word'>module</span> <span class='word'>is</span> <span class='word'>ready</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>previous</span> <span class='word'>module</span> <span class='word'>will</span> <span class='word'>signal</span> <span class='word'>the</span> <span class='word'>next</span> <span class='word'>module</span> <span class='word'>that</span> <span class='word'>information</span> <span class='word'>is</span> <span class='word'>ready</span> <span class='word'>and</span> <span class='word'>it</span> <span class='word'>should</span> <span class='word'>take</span> <span class='word'>it</span><span class='ignore'>,</span> <span class='word'>but</span> <span class='word'>the</span> <span class='word'>current</span> <span class='word'>module</span> <span class='word'>is</span> <span class='word'>unable</span> <span class='word'>to</span> <span class='word'>as</span> <span class='word'>it</span> <span class='word'>is</span> <span class='word'>busy</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>pipeline</span> <span class='word'>resolves</span> <span class='word'>this</span> <span class='word'>issue</span> <span class='word'>by</span> <span class='word'>it's</span> <span class='word'>cyclic</span> <span class='word'>nature</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>means</span> <span class='word'>that</span> <span class='word'>only</span> <span class='word'>1</span> <span class='word'>module</span> <span class='word'>at</span> <span class='word'>any</span> <span class='word'>time</span> <span class='word'>is</span> <span class='word'>processing</span> <span class='word'>data</span><span class='ignore'>.</span> <span class='word'>Of-course</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>downside</span> <span class='word'>to</span> <span class='word'>this</span> <span class='word'>approach</span> <span class='word'>is</span> <span class='word'>that</span> <span class='word'>instruction</span> <span class='word'>parallelism</span> <span class='word'>is</span> <span class='word'>reduced</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[ht]</span><br>
<span class='exclcmd'>\centering</span><br>
&nbsp;&nbsp; <span class='exclcmd'>\includegraphics</span><span class='option'>[width=1.0\textwidth]</span><span class='ignore'>{</span><span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>forward</span><span class='ignore'>_</span><span class='ignore'>pipe</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; <span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>The</span> <span class='oword'>feed-forward</span> <span class='oword'>pipeline</span> <span class='oword'>interconnect</span> <span class='oword'>diagram</span> <span class='oword'>used</span> <span class='oword'>by</span> <span class='oword'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='oword'>processor</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>forward</span><span class='ignore'>_</span><span class='ignore'>pipe</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='word'>The</span> <span class='word'>pipeline</span> <span class='word'>structure</span> <span class='word'>is</span> <span class='word'>described</span> <span class='word'>in</span> <span class='word'>figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>forward</span><span class='ignore'>_</span><span class='ignore'>pipe</span><span class='ignore'>}</span> <span class='ignore'>(</span><span class='word'>above</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>general</span> <span class='word'>order</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>modules</span> <span class='word'>is</span> <span class='word'>shown</span> <span class='word'>from</span> <span class='word'>left</span> <span class='word'>to</span> <span class='word'>right</span><span class='ignore'>,</span> <span class='word'>but</span> <span class='word'>this</span> <span class='word'>can</span> <span class='word'>change</span> <span class='word'>due</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>pipelines</span> <span class='word'>re-ordering</span> <span class='word'>functionality</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>Decoder</span> <span class='word'>module</span> <span class='word'>will</span> <span class='word'>decode</span> <span class='word'>instruction</span> <span class='word'>words</span> <span class='word'>from</span> <span class='word'>memory</span> <span class='word'>and</span> <span class='word'>will</span> <span class='word'>output</span> <span class='word'>appropriate</span> <span class='word'>signals</span> <span class='word'>containing</span> <span class='word'>the</span> <span class='word'>requirements</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>instruction</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>requiring</span> <span class='word'>register</span> <span class='word'>write</span> <span class='word'>access</span><span class='ignore'>,</span> <span class='word'>any</span> <span class='word'>ALU</span> <span class='word'>operation</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>whether</span> <span class='word'>the</span> <span class='word'>instructions</span> <span class='word'>requires</span> <span class='word'>access</span> <span class='word'>to</span> <span class='word'>internal</span><span class='ignore'>/</span><span class='word'>external</span> <span class='word'>memory</span><span class='ignore'>.</span><br>
<span class='cmd'>\newline</span><span class='cmd'>\newline</span><br>
<span class='word'>To</span> <span class='word'>improve</span> <span class='word'>instruction</span> <span class='word'>performance</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>decoder</span> <span class='word'>can</span> <span class='word'>also</span> <span class='word'>choose</span> <span class='word'>what</span> <span class='word'>modules</span> <span class='word'>are</span> <span class='word'>required</span> <span class='word'>and</span> <span class='word'>when</span> <span class='word'>they</span> <span class='word'>are</span> <span class='word'>called</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>for</span> <span class='word'>the</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>isa</span><span class='ignore'>_</span><span class='word'>movi</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='ignore'>(</span><span class='word'>move</span> <span class='word'>immediate</span><span class='ignore'>)</span> <span class='word'>instruction</span> <span class='word'>the</span> <span class='word'>Decoder</span> <span class='word'>will</span> <span class='word'>assign</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>modules</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>order</span><span class='ignore'>:</span> <span class='word'>ALU</span> <span class='word'>and</span> <span class='word'>Register</span> <span class='word'>write</span><span class='ignore'>,</span> <span class='word'>resulting</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>total</span> <span class='word'>of</span> <span class='word'>5</span> <span class='word'>stages</span> <span class='ignore'>(</span><span class='word'>including</span> <span class='word'>PC</span><span class='ignore'>,</span> <span class='word'>Fetch</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>Decode</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>last</span> <span class='word'>module</span> <span class='word'>in</span> <span class='word'>this</span> <span class='word'>pipeline</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>Register</span> <span class='word'>write</span><span class='ignore'>,</span> <span class='word'>will</span> <span class='word'>raise</span> <span class='word'>the</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>q</span><span class='cmd'>\_</span><span class='word'>pipe</span><span class='cmd'>\_</span><span class='word'>end</span><span class='ignore'>}</span> <span class='word'>signal</span> <span class='word'>indicating</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>pipeline</span> <span class='word'>has</span> <span class='word'>finished</span> <span class='word'>and</span> <span class='word'>to</span> <span class='word'>start</span> <span class='word'>fetching</span> <span class='word'>the</span> <span class='word'>next</span> <span class='word'>instruction</span><span class='ignore'>.</span><br>
<br>
<span class='word'>For</span> <span class='word'>the</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>isa</span><span class='ignore'>_</span><span class='word'>nop</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='word'>instruction</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>decoder</span> <span class='word'>identifies</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>instruction</span> <span class='word'>requires</span> <span class='word'>no</span> <span class='word'>dependencies</span> <span class='word'>and</span> <span class='word'>will</span> <span class='word'>hence</span> <span class='word'>signal</span> <span class='word'>the</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>q</span><span class='cmd'>\_</span><span class='word'>pc</span><span class='cmd'>\_</span><span class='word'>inc</span><span class='ignore'>}</span> <span class='word'>signal</span> <span class='word'>resulting</span> <span class='word'>in</span> <span class='word'>only</span> <span class='word'>3</span> <span class='word'>pipeline</span> <span class='word'>stages</span><span class='ignore'>.</span><br>
<br>
<span class='word'>For</span> <span class='word'>instructions</span> <span class='word'>that</span> <span class='word'>require</span> <span class='word'>RAM</span> <span class='word'>access</span><span class='ignore'>,</span> <span class='word'>a</span> <span class='word'>typical</span> <span class='word'>pipeline</span> <span class='word'>order</span> <span class='word'>might</span> <span class='word'>look</span> <span class='word'>like</span><span class='ignore'>:</span> <span class='word'>PC</span><span class='ignore'>,</span> <span class='word'>Fetch</span><span class='ignore'>,</span> <span class='word'>Decoder</span><span class='ignore'>,</span> <span class='word'>Register</span> <span class='word'>Read</span><span class='ignore'>,</span> <span class='word'>ALU</span><span class='ignore'>,</span> <span class='word'>RAM</span><span class='ignore'>,</span> <span class='word'>resulting</span> <span class='word'>in</span> <span class='word'>6</span> <span class='word'>stages</span> <span class='word'>being</span> <span class='word'>used</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<span class='exclcmd'>\includegraphics</span><span class='option'>[scale=0.8]</span><span class='ignore'>{</span><span class='ignore'>td</span><span class='ignore'>_</span><span class='ignore'>instr</span><span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='oword'>processor</span> <span class='oword'>instruction</span> <span class='oword'>cycle</span> <span class='oword'>time</span> <span class='oword'>diagram</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>dft</span><span class='ignore'>_</span><span class='ignore'>algorithm</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Testing</span> <span class='hword'>and</span> <span class='hword'>Verification</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>test</span><span class='ignore'>}</span><br>
<span class='word'>Each</span> <span class='word'>module</span> <span class='word'>within</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>has</span> <span class='word'>a</span> <span class='word'>corresponding</span> <span class='word'>Verilator</span> <span class='word'>and</span> <span class='word'>iSim</span> <span class='word'>testbench</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{itemize}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Verilator</span> <span class='word'>testbenches</span><span class='ignore'>}</span> <span class='word'>are</span> <span class='word'>used</span> <span class='word'>to</span> <span class='word'>automatically</span> <span class='word'>verify</span> <span class='word'>correct</span> <span class='word'>behaviour</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>RTL</span> <span class='word'>code</span><span class='ignore'>.</span> <span class='word'>These</span> <span class='word'>testbenches</span> <span class='word'>use</span> <span class='word'>the</span> <span class='word'>Verilator</span> <span class='word'>framework</span> <span class='word'>to</span> <span class='word'>compile</span> <span class='word'>and</span> <span class='word'>simulate</span> <span class='word'>Verilog</span> <span class='word'>modules</span><span class='ignore'>.</span> <span class='word'>These</span> <span class='word'>tests</span> <span class='word'>produce</span> <span class='word'>an</span> <span class='word'>output</span> <span class='word'>report</span> <span class='word'>detailing</span> <span class='word'>test</span> <span class='word'>results</span> <span class='word'>and</span> <span class='word'>real</span> <span class='word'>register</span> <span class='word'>values</span><span class='ignore'>.</span> <br>
<span class='word'>The</span> <span class='word'>Verilator</span> <span class='word'>test</span> <span class='word'>benches</span> <span class='word'>used</span> <span class='word'>in</span> <span class='word'>this</span> <span class='word'>project</span> <span class='word'>are</span> <span class='word'>found</span> <span class='word'>in</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>prco_core/rtl/test/verilator</span><span class='cmd'>|</span> <span class='word'>and</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>run</span> <span class='word'>using</span> <span class='word'>the</span> <span class='word'>script</span><span class='ignore'>:</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>make_test.sh</span><span class='cmd'>|</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{minted}</span><span class='ignore'>{</span><span class='word'>text</span><span class='ignore'>}</span><br>
<span class='word'>Running</span> <span class='word'>test</span><span class='ignore'>:</span> <span class='word'>ALU</span> <span class='word'>OR</span> <span class='word'>2</span><br>
<span class='word'>ALU</span><span class='ignore'>_</span><span class='word'>OP</span><span class='ignore'>_</span><span class='word'>WRITE</span><span class='ignore'>/</span><span class='word'>READ</span> <span class='word'>000a</span><br>
<span class='word'>PASS</span><span class='ignore'>:</span> <span class='word'>10</span> <span class='word'>10</span><br>
<br>
<span class='word'>Running</span> <span class='word'>test</span><span class='ignore'>:</span> <span class='word'>ALU</span> <span class='word'>OR</span> <span class='word'>3</span><br>
<span class='word'>ALU</span><span class='ignore'>_</span><span class='word'>OP</span><span class='ignore'>_</span><span class='word'>WRITE</span><span class='ignore'>/</span><span class='word'>READ</span> <span class='word'>0004</span><br>
<span class='word'>FAIL</span><span class='ignore'>:</span> <span class='word'>Got</span> <span class='word'>4</span> <span class='word'>Expected</span> <span class='word'>7</span><br>
<span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><span class='ignore'>=</span><br>
<span class='word'>14</span><span class='ignore'>/</span><span class='word'>27</span> <span class='word'>tests</span> <span class='word'>passed</span><span class='ignore'>.</span><br>
<span class='envir'>\end</span><span class='envir'>{minted}</span><br>
<span class='word'>An</span> <span class='word'>example</span> <span class='word'>test</span> <span class='word'>report</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>ALU</span> <span class='word'>running</span> <span class='word'>OR</span> <span class='word'>instructions</span> <span class='word'>on</span> <span class='word'>different</span> <span class='word'>operands</span> <span class='word'>and</span> <span class='word'>immediate</span> <span class='word'>values</span> <span class='word'>is</span> <span class='word'>shown</span> <span class='word'>above</span><span class='ignore'>.</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>iSim</span> <span class='word'>testbenches</span><span class='ignore'>}</span> <span class='word'>are</span> <span class='word'>used</span> <span class='word'>to</span> <span class='word'>better</span> <span class='word'>visualise</span> <span class='word'>signal</span> <span class='word'>states</span> <span class='word'>and</span> <span class='word'>changes</span> <span class='word'>over</span> <span class='word'>time</span><span class='ignore'>.</span> <span class='word'>These</span> <span class='word'>testbenches</span> <span class='word'>require</span> <span class='word'>manual</span> <span class='word'>verification</span> <span class='word'>and</span> <span class='word'>so</span> <span class='word'>it</span> <span class='word'>can</span> <span class='word'>take</span> <span class='word'>a</span> <span class='word'>considerable</span> <span class='word'>amount</span> <span class='word'>of</span> <span class='word'>time</span> <span class='word'>to</span> <span class='word'>verify</span> <span class='word'>a</span> <span class='word'>module</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<span class='exclcmd'>\includegraphics</span><span class='option'>[scale=0.5]</span><span class='ignore'>{</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>test</span><span class='ignore'>_</span><span class='ignore'>isim</span><span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>iSim</span> <span class='oword'>simulation</span> <span class='oword'>showing</span> <span class='oword'>high-level</span> <span class='oword'>signals</span> <span class='oword'>in</span> <span class='oword'>the</span> <span class='oword'>processor</span> <span class='oword'>core</span><span class='ignore'>,</span> <span class='oword'>including</span><span class='ignore'>:</span> <span class='oword'>Program</span> <span class='oword'>Counter</span> <span class='ignore'>(</span><span class='oword'>pc</span><span class='ignore'>)</span><span class='ignore'>;</span> <span class='oword'>current</span> <span class='oword'>Op</span> <span class='oword'>code</span> <span class='ignore'>(</span><span class='oword'>q</span><span class='cmd'>\_</span><span class='oword'>op</span><span class='ignore'>)</span><span class='ignore'>;</span> <span class='oword'>and</span> <span class='oword'>ALU</span> <span class='oword'>result</span> <span class='ignore'>(</span><span class='oword'>q</span><span class='cmd'>\_</span><span class='oword'>result</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>core</span><span class='ignore'>_</span><span class='ignore'>test</span><span class='ignore'>_</span><span class='ignore'>isim</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Single-step</span> <span class='word'>implementation</span> <span class='word'>runs</span><span class='ignore'>}</span> <span class='word'>are</span> <span class='word'>used</span> <span class='word'>to</span> <span class='word'>verify</span> <span class='word'>the</span> <span class='word'>correct</span> <span class='word'>behaviour</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>RTL</span> <span class='word'>code</span> <span class='word'>on</span> <span class='word'>a</span> <span class='word'>real</span> <span class='word'>FPGA</span> <span class='word'>device</span><span class='ignore'>.</span> <br>
<br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>features</span> <span class='word'>a</span> <span class='word'>single-step</span> <span class='word'>input</span> <span class='word'>line</span> <span class='word'>that</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>pulsed</span> <span class='word'>to</span> <span class='word'>signal</span> <span class='word'>the</span> <span class='word'>core</span> <span class='word'>to</span> <span class='word'>execute</span> <span class='word'>the</span> <span class='word'>next</span> <span class='word'>instruction</span><span class='ignore'>.</span> <span class='word'>In</span> <span class='word'>these</span> <span class='word'>tests</span><span class='ignore'>,</span> <span class='word'>generally</span> <span class='word'>the</span> <span class='word'>first</span> <span class='word'>register</span> <span class='word'>Ax</span> <span class='word'>is</span> <span class='word'>redirected</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>8</span> <span class='word'>LEDs</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>development</span> <span class='word'>board</span><span class='ignore'>,</span> <span class='word'>allowing</span> <span class='word'>the</span> <span class='word'>tester</span> <span class='word'>to</span> <span class='word'>visually</span> <span class='word'>see</span> <span class='word'>it's</span> <span class='word'>contents</span><span class='ignore'>.</span> <span class='word'>However</span><span class='ignore'>,</span> <span class='word'>only</span> <span class='word'>the</span> <span class='word'>higher-or-lower</span> <span class='word'>byte</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>viewed</span> <span class='word'>at</span> <span class='word'>any</span> <span class='word'>single</span> <span class='word'>time</span> <span class='ignore'>(</span><span class='word'>as</span> <span class='word'>registers</span> <span class='word'>are</span> <span class='word'>16-bits</span> <span class='word'>wide</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>UART</span> <span class='word'>printing</span> <span class='word'>is</span> <span class='word'>also</span> <span class='word'>used</span> <span class='word'>to</span> <span class='word'>visualise</span> <span class='word'>register</span> <span class='word'>contents</span><span class='ignore'>,</span> <span class='word'>however</span><span class='ignore'>,</span> <span class='word'>integer</span> <span class='word'>to</span> <span class='word'>ASCII</span> <span class='word'>conversion</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>implemented</span> <span class='word'>so</span> <span class='word'>only</span> <span class='word'>single</span> <span class='word'>digits</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>displayed</span> <span class='word'>in</span> <span class='word'>ASCII</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{itemize}</span><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<span class='cmd'>\chapter</span><span class='ignore'>{</span><span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='hword'>Compiler</span><span class='ignore'>}</span><br>
<span class='ignore'>{</span><span class='cmd'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='cmd'>\startcontents</span><span class='option'>[chapters]</span><br>
<span class='cmd'>\printcontents</span><span class='option'>[chapters]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Introduction</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>second</span> <span class='word'>of</span> <span class='word'>two</span> <span class='word'>sub-project</span> <span class='word'>deliverables</span> <span class='word'>for</span> <span class='word'>this</span> <span class='word'>project</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>a</span> <span class='word'>command</span> <span class='word'>line</span> <span class='word'>based</span> <span class='word'>software</span> <span class='word'>tool</span> <span class='word'>used</span> <span class='word'>to</span> <span class='word'>convert</span> <span class='word'>a</span> <span class='word'>high-level</span> <span class='word'>text</span> <span class='word'>grammar</span> <span class='ignore'>(</span><span class='word'>a</span> <span class='word'>programming</span> <span class='word'>language</span><span class='ignore'>)</span> <span class='word'>into</span> <span class='word'>executable</span> <span class='word'>machine</span> <span class='word'>for</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>invoked</span> <span class='word'>with</span> <span class='word'>parameters</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>input</span> <span class='word'>code</span> <span class='word'>file</span> <span class='word'>and</span> <span class='word'>optional</span> <span class='word'>parameters</span> <span class='word'>specifying</span> <span class='word'>optimisation</span> <span class='word'>level</span><span class='ignore'>,</span> <span class='word'>target</span> <span class='word'>architecture</span><span class='ignore'>,</span> <span class='word'>verbosity</span><span class='ignore'>,</span> <span class='word'>output</span> <span class='word'>file</span> <span class='word'>name</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>include</span> <span class='word'>directory</span> <span class='word'>paths</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>full</span> <span class='word'>command</span> <span class='word'>line</span> <span class='word'>parameter</span> <span class='word'>list</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>found</span> <span class='word'>in</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>sect</span><span class='ignore'>:</span><span class='word'>compiler</span><span class='ignore'>_</span><span class='word'>cli</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Functional</span> <span class='hword'>Requirements</span><span class='ignore'>}</span><br>
<span class='word'>This</span> <span class='word'>section</span> <span class='word'>details</span> <span class='word'>the</span> <span class='word'>functional</span> <span class='word'>requirements</span> <span class='ignore'>(</span><span class='word'>F</span><span class='ignore'>)</span> <span class='word'>and</span> <span class='word'>their</span> <span class='word'>technical</span> <span class='word'>dependencies</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>to</span> <span class='word'>allow</span> <span class='word'>users</span> <span class='word'>to</span> <span class='word'>produce</span> <span class='word'>complete</span> <span class='word'>and</span> <span class='word'>functional</span> <span class='word'>programs</span><span class='ignore'>.</span> <span class='word'>Figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>dependencies</span><span class='ignore'>}</span> <span class='word'>breaks</span> <span class='word'>down</span> <span class='word'>each</span> <span class='word'>functional</span> <span class='word'>requirement</span> <span class='word'>to</span> <span class='word'>show</span> <span class='word'>their</span> <span class='word'>technical</span> <span class='word'>dependencies</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{enumerate}</span><span class='option'>[label=F\arabic*.]</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Text</span> <span class='word'>Components</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>be</span> <span class='word'>able</span> <span class='word'>to</span> <span class='word'>parse</span> <span class='word'>the</span> <span class='word'>programming</span> <span class='word'>language's</span> <span class='word'>grammar's</span> <span class='ignore'>(</span><span class='word'>see</span> <span class='word'>section</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>sect</span><span class='ignore'>:</span><span class='word'>compiler</span><span class='ignore'>_</span><span class='word'>grammar</span><span class='ignore'>}</span><span class='ignore'>}</span>&nbsp; <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='word'>terminals</span> <span class='word'>into</span> <span class='word'>distinct</span> <span class='word'>groups</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>text</span> <span class='word'>strings</span><span class='ignore'>,</span> <span class='word'>arithmetic</span> <span class='word'>symbols</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>other</span> <span class='word'>text</span> <span class='word'>symbols</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>Program</span> <span class='word'>flow</span> <span class='word'>manipulation</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>support</span> <span class='word'>divergent</span> <span class='word'>and</span> <span class='word'>branching</span> <span class='word'>program</span> <span class='word'>structures</span> <span class='word'>using</span> <span class='word'>unconditional</span> <span class='word'>and</span> <span class='word'>conditional</span> <span class='word'>jump</span> <span class='word'>instructions</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>User-defined</span> <span class='word'>values</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>support</span> <span class='word'>the</span> <span class='word'>creation</span> <span class='word'>of</span> <span class='word'>user-defined</span> <span class='word'>variables</span> <span class='ignore'>-</span><span class='ignore'>-</span> <span class='word'>allowing</span> <span class='word'>the</span> <span class='word'>user</span> <span class='word'>to</span> <span class='word'>read</span> <span class='word'>and</span> <span class='word'>write</span> <span class='word'>values</span> <span class='word'>at</span> <span class='word'>their</span> <span class='word'>will</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>User-defined</span> <span class='word'>value</span> <span class='word'>manipulation</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>allow</span> <span class='word'>the</span> <span class='word'>user</span> <span class='word'>to</span> <span class='word'>modify</span> <span class='word'>user-defined</span> <span class='word'>variables</span> <span class='word'>during</span> <span class='word'>program</span> <span class='word'>execution</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>User-defined</span> <span class='word'>program</span> <span class='word'>flow</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>allow</span> <span class='word'>the</span> <span class='word'>user</span> <span class='word'>to</span> <span class='word'>control</span> <span class='word'>program</span> <span class='word'>divergence</span> <span class='word'>and</span> <span class='word'>repetition</span> <span class='word'>through</span> <span class='word'>the</span> <span class='word'>use</span> <span class='word'>of</span> <span class='word'>control</span> <span class='word'>statements</span> <span class='ignore'>(</span><span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>if</span><span class='cmd'>|</span> <span class='word'>and</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>for</span><span class='cmd'>|</span> <span class='word'>statements</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>User-defined</span> <span class='word'>functional</span> <span class='word'>program</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>allow</span> <span class='word'>the</span> <span class='word'>combination</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>above</span> <span class='word'>features</span> <span class='word'>to</span> <span class='word'>produce</span> <span class='word'>a</span> <span class='word'>complete</span> <span class='word'>and</span> <span class='word'>functional</span> <span class='word'>sequence</span> <span class='word'>of</span> <span class='word'>instructions</span> <span class='word'>ready</span> <span class='word'>for</span> <span class='word'>execution</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='cmd'>\textbf</span><span class='ignore'>{</span><span class='word'>User-defined</span> <span class='word'>encapsulated</span> <span class='word'>program</span><span class='ignore'>.</span><span class='ignore'>}</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>support</span> <span class='word'>encapsulating</span> <span class='word'>user-defined</span> <span class='word'>programs</span> <span class='word'>into</span> <span class='word'>functions</span> <span class='word'>to</span> <span class='word'>improve</span> <span class='word'>program</span> <span class='word'>control</span> <span class='word'>and</span> <span class='word'>support</span> <span class='word'>more</span> <span class='word'>complex</span> <span class='word'>programs</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{enumerate}</span><br>
<br>
<span class='word'>For</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>to</span> <span class='word'>support</span> <span class='ignore'>'</span><span class='word'>F4</span> <span class='word'>User-defined</span> <span class='word'>program</span> <span class='word'>flow</span><span class='ignore'>'</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>needs</span> <span class='word'>to</span> <span class='word'>support</span> <span class='word'>control</span> <span class='word'>sequences</span> <span class='word'>such</span> <span class='word'>as</span> <span class='ignore'>'</span><span class='word'>for</span><span class='ignore'>'</span> <span class='word'>and</span> <span class='ignore'>'</span><span class='word'>if</span><span class='ignore'>'</span> <span class='word'>statements</span> <span class='word'>which</span> <span class='word'>themselves</span> <span class='word'>require</span> <span class='word'>implementation</span> <span class='word'>of</span> <span class='ignore'>'</span><span class='word'>variables</span><span class='ignore'>'</span> <span class='word'>and</span> <span class='ignore'>'</span><span class='word'>conditional</span> <span class='word'>branching</span><span class='ignore'>'</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>so</span> <span class='word'>on</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Implementation</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>implemented</span> <span class='word'>fully</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>ANSI</span> <span class='word'>C</span> <span class='word'>programming</span> <span class='word'>language</span> <span class='word'>due</span> <span class='word'>to</span> <span class='word'>my</span> <span class='word'>familiarity</span> <span class='word'>and</span> <span class='word'>experience</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>language</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>self-contained</span> <span class='word'>and</span> <span class='word'>requires</span> <span class='word'>no</span> <span class='word'>dependencies</span> <span class='word'>other</span> <span class='word'>than</span> <span class='word'>the</span> <span class='word'>standard</span> <span class='word'>C</span> <span class='word'>library</span> <span class='word'>and</span> <span class='word'>CMake</span> <span class='word'>to</span> <span class='word'>build</span> <span class='word'>the</span> <span class='word'>project</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>project</span> <span class='word'>strictly</span> <span class='word'>follows</span> <span class='word'>the</span> <span class='word'>ANSI</span> <span class='word'>C89</span> <span class='word'>style</span> <span class='word'>guide</span> <span class='word'>to</span> <span class='word'>make</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>more</span> <span class='word'>readable</span> <span class='word'>and</span> <span class='word'>is</span> <span class='word'>compiled</span> <span class='word'>with</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'> -Wall -Wextra -Wno-comment</span><span class='cmd'>|</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Program</span> <span class='hword'>Operation</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>program</span> <span class='word'>flow</span> <span class='word'>of</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>detailed</span> <span class='word'>in</span> <span class='ignore'>{</span><span class='cmd'>\nameref</span><span class='ignore'>{</span><span class='word'>sect</span><span class='ignore'>:</span><span class='word'>compiler</span><span class='ignore'>_</span><span class='word'>seq</span><span class='ignore'>_</span><span class='word'>uml</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>seq</span><span class='ignore'>_</span><span class='ignore'>uml</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<br>
<br>
<br>
<span class='cmd'>\subsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Building</span> <span class='hword'>the</span> <span class='hword'>Compiler</span><span class='ignore'>}</span><br>
<span class='word'>To</span> <span class='word'>build</span> <span class='word'>the</span> <span class='word'>compiler</span><span class='ignore'>,</span> <span class='word'>run</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>commands</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{minted}</span><span class='ignore'>{</span><span class='word'>bash</span><span class='ignore'>}</span><br>
<span class='word'>cd</span> <span class='word'>prco304</span><br>
<span class='word'>mkdir</span> <span class='word'>build</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='word'>cd</span> <span class='word'>build</span><br>
<span class='word'>cmake</span> <span class='ignore'>.</span><span class='ignore'>.</span><br>
<span class='word'>cmake</span> <span class='ignore'>-</span><span class='ignore'>-</span><span class='word'>build</span> <span class='ignore'>.</span><br>
<span class='envir'>\end</span><span class='envir'>{minted}</span><br>
<span class='word'>If</span> <span class='word'>you</span> <span class='word'>wish</span> <span class='word'>to</span> <span class='word'>build</span> <span class='word'>the</span> <span class='word'>compiler's</span> <span class='word'>own</span> <span class='word'>standard</span> <span class='word'>library</span> <span class='word'>run</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>command</span> <span class='word'>as</span> <span class='word'>root</span><span class='ignore'>/</span><span class='word'>administrator</span> <span class='word'>to</span> <span class='word'>install</span> <span class='word'>the</span> <span class='word'>sources</span> <span class='word'>and</span> <span class='word'>header</span> <span class='word'>files</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{minted}</span><span class='ignore'>{</span><span class='word'>bash</span><span class='ignore'>}</span><br>
<span class='word'>cmake</span> <span class='ignore'>-</span><span class='ignore'>-</span><span class='word'>build</span> <span class='ignore'>.</span> <span class='ignore'>-</span><span class='ignore'>-</span><span class='word'>target</span> <span class='word'>install</span><br>
<span class='envir'>\end</span><span class='envir'>{minted}</span><br>
<br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Text</span> <span class='hword'>Grammar</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>input</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>a</span> <span class='word'>generic</span> <span class='word'>programming</span> <span class='word'>language</span> <span class='word'>similar</span> <span class='word'>to</span> <span class='word'>C</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{minted}</span><span class='ignore'>{</span><span class='word'>python</span><span class='ignore'>}</span><br>
<span class='word'>def</span> <span class='word'>main</span><span class='ignore'>(</span><span class='ignore'>)</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='word'>int</span> <span class='word'>a</span> <span class='ignore'>=</span> <span class='word'>0</span><span class='ignore'>;</span><br>
<span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{minted}</span><br>
<br>
<span class='word'>The</span> <span class='word'>grammar</span> <span class='word'>is</span> <span class='word'>defined</span> <span class='word'>below</span> <span class='word'>in</span> <span class='word'>Backus-Naur</span> <span class='word'>Form</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='ignore'>{</span><span class='ignore'>bnf</span><span class='ignore'>}</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>word</span><span class='ignore'>&gt;</span>&nbsp; &nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>[</span><span class='ignore'>a-zA-Z</span><span class='ignore'>]</span><span class='ignore'>+</span><span class='ignore'>[</span><span class='ignore'>0-9</span><span class='ignore'>]</span><span class='ignore'>*</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>string</span><span class='ignore'>&gt;</span>&nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>"</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>word</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>"</span><span class='ignore'>"</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>number</span><span class='ignore'>&gt;</span>&nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>[</span><span class='ignore'>0-9</span><span class='ignore'>]</span><span class='ignore'>+</span><br>
<br>
<span class='ignore'>&lt;</span><span class='ignore'>top</span><span class='ignore'>&gt;</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>func</span><span class='ignore'>_</span><span class='ignore'>def</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>decl</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>extern</span><span class='ignore'>&gt;</span><br>
<br>
<span class='ignore'>&lt;</span><span class='ignore'>func</span><span class='ignore'>_</span><span class='ignore'>def</span><span class='ignore'>&gt;</span> <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>proto</span><span class='ignore'>&gt;</span><span class='ignore'>&lt;</span><span class='ignore'>body</span><span class='ignore'>&gt;</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>proto</span><span class='ignore'>&gt;</span>&nbsp; &nbsp; <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>def</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>word</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>(</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>args</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>)</span><span class='ignore'>"</span> <br>
<span class='ignore'>&lt;</span><span class='ignore'>body</span><span class='ignore'>&gt;</span>&nbsp; &nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>{</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>primary</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>}</span><span class='ignore'>"</span><br>
<br>
<span class='ignore'>&lt;</span><span class='ignore'>primary</span><span class='ignore'>&gt;</span>&nbsp; <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>decl</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>control</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>assign</span><span class='ignore'>&gt;</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>decl</span><span class='ignore'>&gt;</span>&nbsp; &nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>word</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>=</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span><br>
<br>
<span class='ignore'>&lt;</span><span class='ignore'>control</span><span class='ignore'>&gt;</span>&nbsp; <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>if</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>for</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>while</span><span class='ignore'>&gt;</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>if</span><span class='ignore'>&gt;</span>&nbsp; &nbsp; &nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>if</span><span class='ignore'>"</span> <span class='ignore'>"</span><span class='ignore'>(</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>)</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>body</span><span class='ignore'>&gt;</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>for</span><span class='ignore'>&gt;</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>for</span><span class='ignore'>"</span> <span class='ignore'>"</span><span class='ignore'>(</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>)</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>body</span><span class='ignore'>&gt;</span><br>
<br>
<span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span>&nbsp; &nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>assign</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>binop</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>number</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>&lt;</span><span class='ignore'>string</span><span class='ignore'>&gt;</span><span class='ignore'>|</span><span class='ignore'>"</span><span class='ignore'>(</span><span class='ignore'>"</span><span class='ignore'>|</span><span class='ignore'>"</span><span class='ignore'>)</span><span class='ignore'>"</span><br>
<br>
<span class='ignore'>&lt;</span><span class='ignore'>assign</span><span class='ignore'>&gt;</span>&nbsp;  <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>&lt;</span><span class='ignore'>word</span><span class='ignore'>&gt;</span> <span class='ignore'>"</span><span class='ignore'>=</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span><br>
<span class='ignore'>&lt;</span><span class='ignore'>binop</span><span class='ignore'>&gt;</span>&nbsp; &nbsp; <span class='ignore'>:</span><span class='ignore'>:</span><span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>+</span><span class='ignore'>"</span><span class='ignore'>|</span><span class='ignore'>"</span><span class='ignore'>-</span><span class='ignore'>"</span><span class='ignore'>|</span><span class='ignore'>"</span><span class='ignore'>*</span><span class='ignore'>"</span><span class='ignore'>|</span><span class='ignore'>"</span><span class='ignore'>/</span><span class='ignore'>"</span> <span class='ignore'>&lt;</span><span class='ignore'>expr</span><span class='ignore'>&gt;</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>_</span><span class='ignore'>bnf</span><span class='ignore'>}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>BNF</span> <span class='oword'>definition</span> <span class='oword'>for</span> <span class='oword'>the</span> <span class='oword'>input</span> <span class='oword'>programming</span> <span class='oword'>language</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='word'>It</span> <span class='word'>should</span> <span class='word'>be</span> <span class='word'>noted</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>grammar</span> <span class='word'>and</span> <span class='word'>compiler</span> <span class='word'>do</span> <span class='word'>not</span> <span class='word'>have</span> <span class='word'>any</span> <span class='word'>terminals</span> <span class='word'>for</span> <span class='word'>defining</span> <span class='word'>datatypes</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='ignore'>"</span><span class='word'>short</span><span class='ignore'>"</span> <span class='word'>and</span> <span class='ignore'>"</span><span class='word'>int</span><span class='ignore'>"</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>is</span> <span class='word'>because</span> <span class='word'>there</span> <span class='word'>is</span> <span class='word'>only</span> <span class='word'>one</span> <span class='word'>datatype</span> <span class='word'>supported</span> <span class='word'>by</span> <span class='word'>both</span> <span class='word'>compiler</span> <span class='word'>and</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>is</span> <span class='word'>due</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>complexity</span> <span class='word'>required</span> <span class='word'>to</span> <span class='word'>support</span> <span class='word'>different</span> <span class='word'>sized</span> <span class='word'>datatypes</span><span class='ignore'>,</span> <span class='word'>for</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>calculating</span> <span class='word'>how</span> <span class='word'>many</span> <span class='word'>16-bit</span> <span class='word'>words</span> <span class='word'>to</span> <span class='word'>allocate</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>stack</span> <span class='word'>for</span> <span class='word'>local</span> <span class='word'>parameters</span> <span class='word'>and</span> <span class='word'>accessing</span> <span class='word'>them</span> <span class='word'>through</span> <span class='word'>offsets</span> <span class='word'>is</span> <span class='word'>difficult</span> <span class='word'>and</span> <span class='word'>out</span> <span class='word'>of</span> <span class='word'>scope</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Text</span> <span class='hword'>Parser</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>implements</span> <span class='word'>it's</span> <span class='word'>own</span> <span class='word'>recursive</span> <span class='word'>descent</span> <span class='word'>parser</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>grammar</span> <span class='word'>described</span> <span class='word'>in</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>parser</span> <span class='word'>is</span> <span class='word'>able</span> <span class='word'>to</span> <span class='word'>recognise</span> <span class='word'>all</span> <span class='word'>context</span> <span class='word'>free</span> <span class='word'>grammars</span> <span class='word'>and</span> <span class='word'>therefore</span> <span class='word'>would</span> <span class='word'>be</span> <span class='word'>capable</span> <span class='word'>of</span> <span class='word'>parsing</span> <span class='word'>more</span> <span class='word'>complete</span> <span class='word'>programming</span> <span class='word'>languages</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>C</span> <span class='word'>and</span> <span class='word'>Python</span><span class='ignore'>.</span> <br>
<br>
<span class='word'>The</span> <span class='word'>text</span> <span class='word'>parser</span> <span class='word'>is</span> <span class='word'>inspired</span> <span class='word'>by</span> <span class='word'>Jack</span> <span class='word'>Crenshaw's</span> <span class='ignore'>"</span><span class='word'>Let's</span> <span class='word'>Build</span> <span class='word'>a</span> <span class='word'>Compiler</span><span class='ignore'>"</span> <span class='word'>book</span><span class='ignore'>,</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>crenshaw1988let</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word'>While</span> <span class='word'>parser</span> <span class='word'>generators</span> <span class='word'>already</span> <span class='word'>exist</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>Bison</span> <span class='word'>and</span> <span class='word'>Java's</span> <span class='word'>ANTLR</span><span class='ignore'>,</span> <span class='word'>it</span> <span class='word'>was</span> <span class='word'>decided</span> <span class='word'>to</span> <span class='word'>implement</span> <span class='word'>the</span> <span class='word'>parser</span> <span class='word'>by</span> <span class='word'>hand</span> <span class='word'>using</span> <span class='word'>recursive</span> <span class='word'>descent</span> <span class='word'>principles</span> <span class='word'>as</span> <span class='word'>a</span> <span class='word'>matter</span> <span class='word'>of</span> <span class='word'>learning</span> <span class='word'>rather</span> <span class='word'>than</span> <span class='word'>ease</span> <span class='word'>of</span> <span class='word'>use</span><span class='ignore'>.</span> <span class='word'>Although</span> <span class='word'>parsing</span> <span class='word'>a</span> <span class='word'>more</span> <span class='word'>complex</span> <span class='word'>grammar</span> <span class='word'>would</span> <span class='word'>easily</span> <span class='word'>be</span> <span class='word'>more</span> <span class='word'>achievable</span> <span class='word'>using</span> <span class='word'>a</span> <span class='word'>parse</span> <span class='word'>generator</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>overhead</span> <span class='word'>of</span> <span class='word'>generating</span> <span class='word'>compliant</span> <span class='word'>assembly</span> <span class='word'>for</span> <span class='word'>that</span> <span class='word'>complex</span> <span class='word'>grammar</span> <span class='word'>would</span> <span class='word'>be</span> <span class='word'>too</span> <span class='word'>time</span> <span class='word'>consuming</span> <span class='word'>and</span> <span class='word'>is</span> <span class='word'>hence</span> <span class='word'>out</span> <span class='word'>of</span> <span class='word'>scope</span> <span class='ignore'>(</span><span class='word'>see</span> <span class='word'>extended</span> <span class='word'>deliverable</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>deliv</span><span class='ignore'>:</span><span class='ignore'>ed</span><span class='ignore'>:</span><span class='ignore'>gcc</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>AST</span> <span class='hword'>Generation</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>recursive</span> <span class='word'>descent</span> <span class='word'>parser</span> <span class='word'>stores</span> <span class='word'>all</span> <span class='word'>terminals</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>grammar</span> <span class='word'>as</span> <span class='word'>structures</span> <span class='word'>in</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>ast.h</span><span class='ignore'>}</span> <span class='word'>containing</span> <span class='word'>relocatable</span> <span class='word'>information</span> <span class='word'>about</span> <span class='word'>the</span> <span class='word'>parsed</span> <span class='word'>text</span> <span class='word'>and</span> <span class='word'>it's</span> <span class='word'>future</span> <span class='word'>implementation</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>AST</span> <span class='word'>result</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>text</span> <span class='word'>parser</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>initial</span> <span class='word'>immediate</span> <span class='word'>representation</span> <span class='word'>used</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>compiler</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclcmd'>\centering</span> <br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.4</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><br>
<span class='ignore'>struct</span> <span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>func</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>struct</span> <span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>proto</span> <span class='ignore'>*</span><span class='ignore'>proto</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>struct</span> <span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>item</span>&nbsp; <span class='ignore'>*</span><span class='ignore'>body</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>struct</span> <span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>item</span>&nbsp; <span class='ignore'>*</span><span class='ignore'>exit</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>struct</span> <span class='ignore'>list</span><span class='ignore'>_</span><span class='ignore'>item</span> <span class='ignore'>*</span><span class='ignore'>locals</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>struct</span> <span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>func</span>&nbsp; <span class='ignore'>*</span><span class='ignore'>next</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>int</span>&nbsp; &nbsp; <span class='ignore'>num</span><span class='ignore'>_</span><span class='ignore'>local</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>;</span><br>
<span class='ignore'>}</span><span class='ignore'>;</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>An</span> <span class='oword'>AST</span> <span class='oword'>structure</span> <span class='oword'>representing</span> <span class='oword'>a</span> <span class='oword'>parsed</span> <span class='oword'>function</span><span class='ignore'>.</span> <span class='oword'>It</span> <span class='oword'>contains</span> <span class='oword'>sub-structures</span> <span class='oword'>pointing</span> <span class='oword'>to</span> <span class='oword'>it's</span> <span class='oword'>prototype</span><span class='ignore'>,</span> <span class='oword'>body</span><span class='ignore'>,</span> <span class='oword'>exit</span> <span class='oword'>statement</span><span class='ignore'>,</span> <span class='oword'>and</span> <span class='oword'>a</span> <span class='oword'>list</span> <span class='oword'>of</span> <span class='oword'>local</span> <span class='oword'>variables</span><span class='ignore'>.</span> <span class='ignore'>(</span><span class='cmd'>\textit</span><span class='ignore'>{</span><span class='oword'>ast.h</span><span class='ignore'>:</span><span class='oword'>63</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<span class='exclcmd'>\includegraphics</span><span class='option'>[scale=0.4]</span><span class='ignore'>{</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>item</span><span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>UML</span> <span class='oword'>class</span> <span class='oword'>diagram</span> <span class='oword'>showing</span> <span class='oword'>the</span> <span class='oword'>AST</span> <span class='oword'>structures</span> <span class='oword'>and</span> <span class='oword'>their</span> <span class='oword'>connections</span><span class='ignore'>.</span> <span class='oword'>The</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>C</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='oword'>struct</span> <span class='oword'>ast</span><span class='ignore'>_</span><span class='oword'>item</span><span class='ignore'>}</span> <span class='oword'>structure</span> <span class='oword'>is</span> <span class='oword'>a</span> <span class='oword'>top</span> <span class='oword'>level</span> <span class='oword'>structure</span> <span class='oword'>that</span> <span class='oword'>contains</span> <span class='oword'>pointers</span> <span class='oword'>to</span> <span class='oword'>specific</span> <span class='oword'>AST</span> <span class='oword'>items</span> <span class='ignore'>(</span><span class='oword'>such</span> <span class='oword'>as</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>text</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='oword'>ast</span><span class='ignore'>_</span><span class='oword'>func</span><span class='ignore'>}</span> <span class='oword'>and</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>text</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='oword'>ast</span><span class='ignore'>_</span><span class='oword'>lvar</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='oword'>It</span> <span class='oword'>is</span> <span class='oword'>a</span> <span class='oword'>self-referencing</span> <span class='oword'>structure</span> <span class='oword'>and</span> <span class='oword'>can</span> <span class='oword'>be</span> <span class='oword'>iterated</span> <span class='oword'>over</span> <span class='oword'>in</span> <span class='oword'>a</span> <span class='oword'>linked-list</span> <span class='oword'>using</span> <span class='oword'>it's</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>text</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>*</span><span class='oword'>next</span><span class='ignore'>}</span> <span class='oword'>property</span> <span class='oword'>using</span> <span class='oword'>the</span> <span class='oword'>provided</span> <span class='oword'>macro</span><span class='ignore'>:</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>text</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='oword'>list</span><span class='ignore'>_</span><span class='oword'>for</span><span class='ignore'>_</span><span class='oword'>each</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='oword'>It</span> <span class='oword'>can</span> <span class='oword'>be</span> <span class='oword'>thought</span> <span class='oword'>as</span> <span class='oword'>a</span> <span class='oword'>generic</span> <span class='oword'>header</span> <span class='oword'>for</span> <span class='oword'>each</span> <span class='oword'>AST</span> <span class='oword'>type</span> <span class='oword'>allowing</span> <span class='oword'>it</span> <span class='oword'>to</span> <span class='oword'>be</span> <span class='oword'>passed</span> <span class='oword'>as</span> <span class='oword'>a</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>text</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='oword'>void</span><span class='ignore'>*</span><span class='ignore'>}</span> <span class='oword'>and</span> <span class='oword'>still</span> <span class='oword'>identified</span> <span class='oword'>through</span> <span class='oword'>it's</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='oword'>C</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='oword'>enum</span> <span class='oword'>ast</span><span class='ignore'>_</span><span class='oword'>type</span> <span class='oword'>type</span><span class='ignore'>}</span> <span class='oword'>parameter</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>_</span><span class='ignore'>uml</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Optimisation</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>can</span> <span class='word'>optionally</span> <span class='word'>perform</span> <span class='word'>simple</span> <span class='word'>optimisations</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>unreachable</span> <span class='word'>code</span> <span class='word'>elimination</span> <span class='word'>and</span> <span class='word'>constant</span> <span class='word'>folding</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>optimisations</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>controlled</span> <span class='word'>by</span> <span class='word'>specifying</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>-On</span><span class='cmd'>|</span> <span class='word'>parameter</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>CLI</span><span class='ignore'>,</span> <span class='word'>where</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>n</span><span class='cmd'>|</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>level</span> <span class='word'>of</span> <span class='word'>optimisation</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>techniques</span> <span class='word'>used</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>to</span> <span class='word'>perform</span> <span class='word'>these</span> <span class='word'>optimisations</span> <span class='word'>are</span> <span class='word'>primitive</span><span class='ignore'>;</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>given</span> <span class='word'>AST</span> <span class='word'>information</span> <span class='word'>in</span> <span class='word'>SSA</span> <span class='ignore'>(</span><span class='word'>static</span> <span class='word'>single</span> <span class='word'>assignment</span><span class='ignore'>)</span> <span class='word'>form</span><span class='ignore'>;</span> <span class='word'>and</span> <span class='word'>because</span> <span class='word'>of</span> <span class='word'>this</span> <span class='word'>limitation</span><span class='ignore'>,</span> <span class='word'>only</span> <span class='word'>basic</span> <span class='word'>optimisations</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>identified</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Constant</span> <span class='hword'>Folding</span><span class='ignore'>}</span><br>
<span class='word'>Constant</span> <span class='word'>folding</span> <span class='word'>is</span> <span class='word'>performed</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>to</span> <span class='word'>reduce</span> <span class='ignore'>(</span><span class='word'>fold</span><span class='ignore'>)</span> <span class='word'>expressions</span> <span class='word'>that</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>identified</span> <span class='word'>as</span> <span class='word'>constant</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>allows</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>to</span> <span class='word'>replace</span> <span class='word'>AST</span> <span class='word'>tree</span> <span class='word'>structures</span> <span class='word'>containing</span> <span class='word'>constant</span> <span class='word'>values</span> <span class='word'>and</span> <span class='word'>no</span> <span class='word'>dependencies</span> <span class='word'>with</span> <span class='word'>shorter</span> <span class='word'>and</span> <span class='word'>simpler</span> <span class='word'>AST</span> <span class='word'>items</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>optimisation</span> <span class='word'>can</span> <span class='word'>drastically</span> <span class='word'>improve</span> <span class='word'>the</span> <span class='word'>performance</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>output</span> <span class='word'>code</span> <span class='word'>by</span> <span class='word'>reducing</span> <span class='word'>the</span> <span class='word'>number</span> <span class='word'>of</span> <span class='word'>instructions</span> <span class='word'>emitted</span><span class='ignore'>.</span><br>
<br>
<span class='word'>For</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>expression</span> <span class='word'>in</span> <span class='word'>Figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>constant</span><span class='ignore'>_</span><span class='ignore'>fold</span><span class='ignore'>_</span><span class='ignore'>yes</span><span class='ignore'>}</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>identified</span> <span class='word'>as</span> <span class='word'>constant</span> <span class='word'>and</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>reduced</span> <span class='word'>to</span> <span class='word'>a</span> <span class='word'>single</span> <span class='word'>AST</span> <span class='word'>node</span> <span class='word'>as</span> <span class='word'>shown</span> <span class='word'>in</span> <span class='word'>Figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>constant</span><span class='ignore'>_</span><span class='ignore'>fold</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>As</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>passed</span> <span class='word'>AST</span> <span class='word'>information</span> <span class='word'>in</span> <span class='word'>SSA</span> <span class='word'>form</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>cannot</span> <span class='word'>follow</span> <span class='word'>or</span> <span class='word'>track</span> <span class='word'>variable</span> <span class='word'>references</span> <span class='word'>and</span> <span class='word'>modifications</span> <span class='word'>throughout</span> <span class='word'>the</span> <span class='word'>life-cycle</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>program</span><span class='ignore'>.</span> <span class='word'>Although</span> <span class='word'>the</span> <span class='word'>parser</span> <span class='word'>does</span> <span class='word'>a</span> <span class='word'>contain</span> <span class='word'>a</span> <span class='word'>primitive</span> <span class='word'>symbol</span> <span class='word'>table</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>symbol</span> <span class='word'>table</span> <span class='word'>does</span> <span class='word'>not</span> <span class='word'>map</span> <span class='word'>variables</span> <span class='word'>to</span> <span class='word'>values</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>so</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>segment</span> <span class='word'>in</span> <span class='word'>Figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>constant</span><span class='ignore'>_</span><span class='ignore'>fold</span><span class='ignore'>_</span><span class='ignore'>no</span><span class='ignore'>}</span> <span class='word'>cannot</span> <span class='word'>be</span> <span class='word'>identified</span> <span class='word'>as</span> <span class='word'>constant</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>optimiser</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclcmd'>\centering</span> <br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.4</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><br>
<span class='ignore'>int</span> <span class='ignore'>a</span> <span class='ignore'>=</span> <span class='ignore'>1</span> <span class='ignore'>+</span> <span class='ignore'>(</span><span class='ignore'>2</span> <span class='ignore'>+</span> <span class='ignore'>3</span><span class='ignore'>)</span> <span class='ignore'>*</span> <span class='ignore'>4</span><span class='ignore'>;</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Example</span> <span class='oword'>of</span> <span class='oword'>an</span> <span class='oword'>expression</span> <span class='oword'>suitable</span> <span class='oword'>for</span> <span class='oword'>constant</span> <span class='oword'>folding</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>constant</span><span class='ignore'>_</span><span class='ignore'>fold</span><span class='ignore'>_</span><span class='ignore'>yes</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='exclcmd'>\centering</span> <br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.4</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><br>
<span class='ignore'>int</span> <span class='ignore'>a</span> <span class='ignore'>=</span> <span class='ignore'>1</span><span class='ignore'>;</span><br>
<span class='ignore'>int</span> <span class='ignore'>b</span> <span class='ignore'>=</span> <span class='ignore'>2</span><span class='ignore'>;</span><br>
<span class='ignore'>int</span> <span class='ignore'>c</span> <span class='ignore'>=</span> <span class='ignore'>a</span> <span class='ignore'>+</span> <span class='ignore'>b</span><span class='ignore'>;</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Example</span> <span class='oword'>of</span> <span class='oword'>an</span> <span class='oword'>expression</span> <span class='oword'>the</span> <span class='oword'>optimiser</span> <span class='oword'>cannot</span> <span class='oword'>identify</span> <span class='oword'>as</span> <span class='oword'>constant</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>constant</span><span class='ignore'>_</span><span class='ignore'>fold</span><span class='ignore'>_</span><span class='ignore'>no</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[H]</span><br>
<span class='comment'>%\begin{wrapfigure}{r}{0.6\textwidth}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<span class='exclcmd'>\includegraphics</span><span class='option'>[scale=0.4]</span><span class='ignore'>{</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cf</span><span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>AST</span> <span class='oword'>transformation</span> <span class='oword'>performed</span> <span class='oword'>by</span> <span class='oword'>Constant</span> <span class='oword'>Folding</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>constant</span><span class='ignore'>_</span><span class='ignore'>fold</span><span class='ignore'>_</span><span class='ignore'>ast</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<span class='comment'>%\end{wrapfigure}</span><br>
<span class='comment'>%\lipsum[1]</span><br>
<span class='comment'>%\lipsum[1]</span><br>
<br>
<br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Unreachable</span> <span class='hword'>Code</span> <span class='hword'>Elimination</span><span class='ignore'>}</span><br>
<span class='word'>Unreachable</span> <span class='word'>code</span> <span class='word'>elimination</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>removal</span> <span class='word'>of</span> <span class='word'>code</span> <span class='word'>that</span> <span class='word'>will</span> <span class='word'>never</span> <span class='word'>be</span> <span class='word'>run</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>form</span> <span class='word'>of</span> <span class='word'>uncalled</span> <span class='word'>function</span><span class='ignore'>,</span> <span class='word'>unused</span> <span class='word'>variables</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>control</span> <span class='word'>statements</span> <span class='word'>that</span> <span class='word'>operate</span> <span class='word'>on</span> <span class='word'>constant</span> <span class='word'>values</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>can</span> <span class='word'>identify</span> <span class='word'>some</span> <span class='word'>unreachable</span> <span class='word'>code</span> <span class='word'>segments</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>control</span> <span class='word'>statements</span> <span class='word'>that</span> <span class='word'>operate</span> <span class='word'>on</span> <span class='word'>constant</span> <span class='word'>values</span><span class='ignore'>,</span> <span class='word'>by</span> <span class='word'>utilising</span> <span class='word'>it's</span> <span class='word'>constant</span> <span class='word'>folding</span> <span class='word'>optimisation</span> <span class='word'>discussed</span> <span class='word'>previously</span><span class='ignore'>.</span> <span class='word'>By</span> <span class='word'>first</span> <span class='word'>running</span> <span class='word'>the</span> <span class='word'>constant</span> <span class='word'>folding</span> <span class='word'>optimisation</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>body</span> <span class='word'>of</span> <span class='word'>functions</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>optimiser</span> <span class='word'>looks</span> <span class='word'>at</span> <span class='word'>the</span> <span class='word'>conditions</span> <span class='word'>of</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>if</span><span class='ignore'>}</span> <span class='word'>statements</span><span class='ignore'>.</span> <span class='word'>If</span> <span class='word'>it's</span> <span class='word'>condition</span> <span class='word'>has</span> <span class='word'>been</span> <span class='word'>constant</span> <span class='word'>folded</span> <span class='word'>to</span> <span class='word'>a</span> <span class='word'>constant</span> <span class='word'>and</span> <span class='word'>is</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>true</span><span class='ignore'>}</span> <span class='ignore'>(</span><span class='word'>i.e</span><span class='ignore'>.</span> <span class='word'>not</span> <span class='word'>0</span><span class='ignore'>)</span> <span class='word'>then</span> <span class='word'>the</span> <span class='word'>AST</span> <span class='word'>tree</span> <span class='word'>can</span> <span class='word'>be</span> <span class='word'>replaced</span> <span class='word'>with</span> <span class='word'>the</span> <span class='word'>items</span> <span class='word'>in</span> <span class='word'>it's</span> <span class='word'>body</span><span class='ignore'>,</span> <span class='word'>effectively</span> <span class='word'>removing</span> <span class='word'>the</span> <span class='word'>condition</span> <span class='word'>check</span> <span class='word'>if</span> <span class='word'>it's</span> <span class='word'>always</span> <span class='word'>true</span><span class='ignore'>,</span> <span class='word'>or</span> <span class='word'>the</span> <span class='word'>whole</span> <span class='word'>structure</span> <span class='word'>if</span> <span class='word'>it's</span> <span class='word'>false</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Code</span> <span class='hword'>Generation</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>Code</span> <span class='word'>Generation</span> <span class='word'>stage</span> <span class='word'>converts</span> <span class='word'>the</span> <span class='word'>optimised</span> <span class='word'>AST</span> <span class='word'>into</span> <span class='word'>an</span> <span class='word'>intermediatary</span> <span class='word'>list</span> <span class='word'>of</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>struct</span> <span class='word'>prco</span><span class='ignore'>_</span><span class='word'>op</span><span class='ignore'>_</span><span class='word'>struct</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word'>It</span> <span class='word'>does</span> <span class='word'>this</span> <span class='word'>by</span> <span class='word'>iterating</span> <span class='word'>over</span> <span class='word'>each</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>struct</span> <span class='word'>ast</span><span class='ignore'>_</span><span class='word'>item</span><span class='ignore'>}</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>AST</span> <span class='word'>and</span> <span class='word'>checks</span> <span class='word'>whether</span> <span class='word'>the</span> <span class='word'>item</span> <span class='word'>requires</span> <span class='word'>code</span> <span class='word'>generation</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>an</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>struct</span> <span class='word'>ast</span><span class='ignore'>_</span><span class='word'>item</span><span class='ignore'>}</span> <span class='word'>with</span> <span class='word'>type</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>AST</span><span class='ignore'>_</span><span class='word'>FUNC</span><span class='ignore'>}</span> <span class='word'>is</span> <span class='word'>one</span> <span class='word'>which</span> <span class='word'>requires</span> <span class='word'>code</span> <span class='word'>generation</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>AST</span> <span class='word'>is</span> <span class='word'>then</span> <span class='word'>passed</span> <span class='word'>to</span> <span class='word'>the</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>void</span> <span class='word'>cg</span><span class='ignore'>_</span><span class='word'>func</span><span class='ignore'>_</span><span class='word'>prco</span><span class='ignore'>(</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='word'>function</span> <span class='word'>where</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>takes</span> <span class='word'>please</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>this</span> <span class='word'>type</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>stack</span> <span class='word'>frame</span> <span class='word'>header</span> <span class='word'>is</span> <span class='word'>generated</span> <span class='word'>first</span><span class='ignore'>,</span> <span class='word'>before</span> <span class='word'>the</span> <span class='word'>body</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>function</span><span class='ignore'>.</span> <span class='word'>At</span> <span class='word'>the</span> <span class='word'>end</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>function's</span> <span class='word'>body</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>stack</span> <span class='word'>frame</span> <span class='word'>end</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>routing</span> <span class='word'>is</span> <span class='word'>run</span><span class='ignore'>.</span><br>
<br>
<span class='word'>This</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>stage</span> <span class='word'>is</span> <span class='word'>named</span> <span class='word'>intermediatary</span> <span class='word'>because</span> <span class='word'>absolute</span> <span class='word'>addresses</span> <span class='word'>of</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>JMP</span><span class='cmd'>|</span> <span class='word'>instructions</span> <span class='word'>have</span> <span class='word'>not</span> <span class='word'>been</span> <span class='word'>calculated</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>calculation</span> <span class='word'>of</span> <span class='word'>these</span> <span class='word'>addresses</span> <span class='word'>is</span> <span class='word'>performed</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>Assembling</span> <span class='word'>stage</span><span class='ignore'>.</span> <span class='word'>In</span> <span class='word'>addition</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>location</span> <span class='ignore'>(</span><span class='word'>and</span> <span class='word'>offset's</span><span class='ignore'>)</span> <span class='word'>of</span> <span class='word'>functions</span> <span class='word'>may</span> <span class='word'>need</span> <span class='word'>to</span> <span class='word'>be</span> <span class='word'>rearranged</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Variables</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span><br>
<span class='word'>An</span> <span class='word'>initial</span> <span class='word'>requirement</span> <span class='word'>for</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>was</span> <span class='word'>to</span> <span class='word'>support</span> <span class='word'>three</span> <span class='word'>types</span> <span class='word'>of</span> <span class='word'>variables</span><span class='ignore'>:</span> <span class='word'>global</span><span class='ignore'>,</span> <span class='word'>local</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>parameter</span> <span class='word'>variables</span><span class='ignore'>.</span> <span class='word'>Due</span> <span class='word'>to</span> <span class='word'>time</span> <span class='word'>constraints</span> <span class='word'>and</span> <span class='word'>unforeseen</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>"</span><span class='word'>sleeper</span><span class='ignore'>"</span><span class='ignore'>}</span> <span class='word'>bugs</span> <span class='word'>only</span> <span class='word'>local</span> <span class='word'>variables</span> <span class='word'>have</span> <span class='word'>been</span> <span class='word'>implemented</span> <span class='word'>as</span> <span class='word'>of</span> <span class='word'>compiler</span> <span class='word'>version</span> <span class='word'>2.40</span> <span class='ignore'>(</span><span class='word'>05</span><span class='ignore'>/</span><span class='word'>04</span><span class='ignore'>/</span><span class='word'>2018</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word'>Global</span> <span class='word'>variable</span> <span class='word'>allocation</span> <span class='word'>has</span> <span class='word'>been</span> <span class='word'>implemented</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>assembler</span> <span class='word'>but</span> <span class='word'>declaring</span> <span class='word'>or</span> <span class='word'>referencing</span> <span class='word'>global</span> <span class='word'>variables</span> <span class='word'>has</span> <span class='word'>not</span> <span class='word'>been</span> <span class='word'>implemented</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Local</span> <span class='hword'>Variables</span><span class='ignore'>}</span><br>
<span class='word'>Similar</span> <span class='word'>to</span> <span class='word'>C89</span><span class='ignore'>,</span> <span class='word'>all</span> <span class='word'>local</span> <span class='word'>variables</span> <span class='word'>must</span> <span class='word'>be</span> <span class='word'>declared</span> <span class='word'>at</span> <span class='word'>the</span> <span class='word'>start</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>function</span> <span class='word'>before</span> <span class='word'>any</span> <span class='word'>logic</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>function</span> <span class='word'>calling</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>is</span> <span class='word'>because</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>will</span> <span class='word'>not</span> <span class='word'>rearrange</span> <span class='word'>the</span> <span class='word'>AST</span> <span class='word'>tree</span> <span class='word'>to</span> <span class='word'>move</span> <span class='word'>variable</span> <span class='word'>declarations</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>first</span> <span class='word'>child</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>function</span> <span class='word'>AST</span> <span class='word'>tree</span><span class='ignore'>.</span><br>
<br>
<span class='word'>When</span> <span class='word'>a</span> <span class='word'>local</span> <span class='word'>variable</span> <span class='word'>is</span> <span class='word'>declared</span><span class='ignore'>,</span> <span class='word'>stack</span> <span class='word'>space</span> <span class='word'>is</span> <span class='word'>immediately</span> <span class='word'>allocated</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>variable</span> <span class='word'>by</span> <span class='word'>subtracting</span> <span class='word'>the</span> <span class='word'>data</span> <span class='word'>type</span> <span class='word'>size</span> <span class='ignore'>(</span><span class='word'>1</span> <span class='word'>word</span><span class='ignore'>)</span> <span class='word'>from</span> <span class='word'>the</span> <span class='word'>Base</span> <span class='word'>Pointer</span> <span class='word'>variable</span><span class='ignore'>.</span> <span class='word'>Although</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>generator</span> <span class='word'>knows</span> <span class='word'>how</span> <span class='word'>many</span> <span class='word'>local</span> <span class='word'>variables</span> <span class='word'>are</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>function</span><span class='ignore'>,</span> <span class='word'>due</span> <span class='word'>to</span> <span class='word'>time</span> <span class='word'>constraints</span><span class='ignore'>,</span> <span class='word'>it</span> <span class='word'>will</span> <span class='word'>not</span> <span class='word'>reduce</span><span class='ignore'>/</span><span class='word'>fold</span> <span class='word'>multiple</span> <span class='word'>stack</span> <span class='word'>allocations</span> <span class='word'>into</span> <span class='word'>a</span> <span class='word'>single</span> <span class='word'>SUBI</span> <span class='word'>instruction</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>output</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>looks</span> <span class='word'>similar</span> <span class='word'>to</span> <span class='word'>Figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span> <span class='word'>below</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[!h]</span><br>
&nbsp;&nbsp;<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='option'>[linenos]</span><span class='ignore'>{</span><span class='ignore'>text</span><span class='ignore'>}</span><br>
<span class='ignore'>MOV</span>&nbsp;  <span class='comment'>%Bp, %Sp&nbsp; &nbsp;  1ee0 (STACK FRAME)</span><br>
<span class='ignore'>SUBI</span>&nbsp; <span class='comment'>%Sp, $1&nbsp; &nbsp; &nbsp; 5f01 (ALLOC a -3)</span><br>
<span class='ignore'>SUBI</span>&nbsp; <span class='comment'>%Sp, $1&nbsp; &nbsp; &nbsp; 5f01 (ALLOC b -2)</span><br>
<span class='ignore'>SUBI</span>&nbsp; <span class='comment'>%Sp, $1&nbsp; &nbsp; &nbsp; 5f01 (ALLOC c -1)</span><br>
<span class='ignore'>LW</span>&nbsp; &nbsp; <span class='comment'>%Ax, -3(%Bp) 08dd (REF a -3)</span><br>
<span class='ignore'>LW</span>&nbsp; &nbsp; <span class='comment'>%Ax, -2(%Bp) 08de (REF b -2)</span><br>
<span class='ignore'>LW</span>&nbsp; &nbsp; <span class='comment'>%Ax, -1(%Bp) 08df (REF c -1)</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Disassembly</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>output</span> <span class='ignore'>machine</span> <span class='ignore'>code</span> <span class='ignore'>for</span> <span class='ignore'>the</span> <span class='ignore'>high-level</span> <span class='ignore'>code</span> <span class='ignore'>(</span><span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>high</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>asm</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.05</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='exclcmd'>\hfill</span><span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='option'>[linenos]</span><span class='ignore'>{</span><span class='ignore'>python</span><span class='ignore'>}</span><br>
<span class='ignore'>def</span> <span class='ignore'>main</span><span class='ignore'>(</span><span class='ignore'>)</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>int</span> <span class='ignore'>a</span><span class='ignore'>;</span> <span class='ignore'>int</span> <span class='ignore'>b</span><span class='ignore'>;</span> <br>
&nbsp; &nbsp; <span class='ignore'>int</span> <span class='ignore'>c</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>a</span><span class='ignore'>;</span> <span class='ignore'>b</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>c</span><span class='ignore'>;</span><br>
<span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Input</span> <span class='ignore'>high-level</span> <span class='ignore'>code</span> <span class='ignore'>showing</span> <span class='ignore'>3</span> <span class='ignore'>variable</span> <span class='ignore'>declarations</span> <span class='ignore'>and</span> <span class='ignore'>references</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>high</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Example</span> <span class='ignore'>machine</span> <span class='ignore'>code</span> <span class='ignore'>generation</span> <span class='ignore'>for</span> <span class='ignore'>local</span> <span class='ignore'>variables</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='word'>Variables</span> <span class='word'>are</span> <span class='word'>then</span> <span class='word'>accessed</span> <span class='word'>using</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>LW</span><span class='cmd'>|</span> <span class='word'>instruction</span> <span class='word'>and</span> <span class='word'>passing</span> <span class='word'>a</span> <span class='word'>5-bit</span> <span class='word'>signed</span> <span class='word'>immediate</span> <span class='word'>constant</span> <span class='word'>as</span> <span class='word'>seen</span> <span class='word'>above</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>String</span> <span class='hword'>Variables</span><span class='ignore'>}</span><br>
<span class='word'>Strings</span> <span class='word'>are</span> <span class='word'>an</span> <span class='word'>extended</span> <span class='word'>deliverable</span> <span class='word'>for</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>compiler</span> <span class='word'>but</span> <span class='word'>was</span> <span class='word'>added</span> <span class='word'>to</span> <span class='word'>better</span> <span class='word'>demonstrate</span> <span class='word'>the</span> <span class='word'>capabilities</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>and</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>Strings</span> <span class='word'>in</span> <span class='word'>modern</span> <span class='word'>OS</span> <span class='word'>executable</span> <span class='word'>file</span> <span class='word'>formats</span><span class='ignore'>,</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>ELF</span> <span class='cmd'>\citep</span><span class='ignore'>{</span><span class='ignore'>elf</span><span class='ignore'>_</span><span class='ignore'>standard</span><span class='ignore'>}</span> <span class='word'>and</span> <span class='word'>Windows</span><span class='ignore'>'</span> <span class='word'>PE</span> <span class='cmd'>\citep</span> <span class='ignore'>{</span><span class='ignore'>winpe</span><span class='ignore'>_</span><span class='ignore'>standard</span><span class='ignore'>}</span> <span class='word'>formats</span><span class='ignore'>,</span> <span class='word'>store</span> <span class='word'>explicitly</span> <span class='word'>declared</span> <span class='word'>strings</span> <span class='word'>as</span> <span class='word'>null-terminated</span> <span class='word'>ASCII</span> <span class='ignore'>(</span><span class='word'>ASCIZ</span><span class='ignore'>)</span> <span class='word'>strings</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>String</span> <span class='word'>Table</span> <span class='word'>or</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>.text</span><span class='cmd'>|</span> <span class='word'>section</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>executable</span> <span class='word'>file</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>places</span> <span class='word'>strings</span> <span class='word'>and</span> <span class='word'>global</span> <span class='word'>values</span> <span class='word'>at</span> <span class='word'>the</span> <span class='word'>start</span> <span class='word'>of</span> <span class='word'>low</span> <span class='word'>memory</span><span class='ignore'>.</span> <span class='word'>As</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>starts</span> <span class='word'>executing</span> <span class='word'>instructions</span> <span class='word'>at</span> <span class='word'>address</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>0x00</span><span class='cmd'>|</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>must</span> <span class='word'>insert</span> <span class='word'>a</span> <span class='word'>jump</span> <span class='word'>instruction</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>address</span> <span class='word'>of</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>main</span><span class='cmd'>|</span> <span class='word'>function</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[!h]</span><br>
&nbsp;&nbsp;<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='option'>[linenos]</span><span class='ignore'>{</span><span class='ignore'>text</span><span class='ignore'>}</span><br>
<span class='ignore'>0x00</span> <span class='ignore'>MOVI</span>&nbsp;  <span class='exclmath'>$</span><span class='math'>6</span><span class='math'>,</span>&nbsp; <span class='math'>Bx</span>&nbsp; <span class='math'>2106</span> <span class='math'>(</span><span class='math'>ENTRY</span><span class='math'>)</span><br>
<span class='math'>0x01</span> <span class='math'>JMP</span>&nbsp; &nbsp; <span class='math'>Bx</span><span class='math'>,</span>&nbsp; <span class='math'>JUC</span> <span class='math'>6100</span> <br>
<span class='math'>0x02</span> <span class='math'>ASCII</span>&nbsp; <span class='math'>b</span>&nbsp; &nbsp; <span class='math'>1</span>&nbsp;  <span class='math'>0062</span> <br>
<span class='math'>0x03</span> <span class='math'>ASCII</span>&nbsp; <span class='math'>e</span>&nbsp; &nbsp; <span class='math'>0</span>&nbsp;  <span class='math'>0065</span> <br>
<span class='math'>0x04</span> <span class='math'>ASCII</span>&nbsp; <span class='math'>n</span>&nbsp; &nbsp; <span class='math'>0</span>&nbsp;  <span class='math'>006e</span> <br>
<span class='math'>0x05</span> <span class='math'>ASCII</span>&nbsp; &nbsp; &nbsp;  <span class='math'>0</span>&nbsp;  <span class='math'>0000</span> <br>
<span class='math'>0x06</span> <span class='math'>ADDI</span>&nbsp;  <span class='exclmath'>$</span><span class='ignore'>-</span><span class='ignore'>1</span><span class='ignore'>,</span> <span class='ignore'>Sp</span>&nbsp; <span class='ignore'>4fff</span> <span class='ignore'>(</span><span class='ignore'>FUNC</span><span class='ignore'>)</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Disassembly</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>output</span> <span class='ignore'>machine</span> <span class='ignore'>code</span> <span class='ignore'>for</span> <span class='ignore'>the</span> <span class='ignore'>high-level</span> <span class='ignore'>code</span><span class='ignore'>.</span> <span class='ignore'>Local</span> <span class='ignore'>variable</span> <span class='ignore'>declaration</span> <span class='ignore'>'</span><span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>a</span><span class='ignore'>}</span><span class='ignore'>'</span> <span class='ignore'>is</span> <span class='ignore'>assigned</span> <span class='ignore'>the</span> <span class='ignore'>value</span> <span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>0x02</span><span class='ignore'>}</span> <span class='ignore'>which</span> <span class='ignore'>is</span> <span class='ignore'>the</span> <span class='ignore'>address</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>first</span> <span class='ignore'>byte</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>ASCIZ</span> <span class='ignore'>string</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>asm</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.05</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='exclcmd'>\hfill</span><span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='option'>[linenos]</span><span class='ignore'>{</span><span class='ignore'>python</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>def</span> <span class='ignore'>main</span><span class='ignore'>(</span><span class='ignore'>)</span> <br>
<span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>int</span> <span class='ignore'>a</span> <span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>ben</span><span class='ignore'>"</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>.</span><br>
<span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Input</span> <span class='ignore'>high-level</span> <span class='ignore'>code</span> <span class='ignore'>showing</span> <span class='ignore'>a</span> <span class='ignore'>string</span> <span class='ignore'>variable</span> <span class='ignore'>declaration</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>high</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Example</span> <span class='ignore'>machine</span> <span class='ignore'>code</span> <span class='ignore'>generation</span> <span class='ignore'>for</span> <span class='ignore'>string</span> <span class='ignore'>variables</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<span class='cmd'>\subsubsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Pointers</span> <span class='hword'>and</span> <span class='hword'>Value</span> <span class='hword'>Dereferencing</span><span class='ignore'>}</span><br>
<span class='word'>With</span> <span class='word'>the</span> <span class='word'>implementation</span> <span class='word'>of</span> <span class='word'>string</span> <span class='word'>variables</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>concepts</span> <span class='word'>of</span> <span class='word'>pointers</span> <span class='word'>and</span> <span class='word'>dereferencing</span> <span class='word'>is</span> <span class='word'>implicitly</span> <span class='word'>introduced</span><span class='ignore'>.</span> <br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[!h]</span><br>
&nbsp;&nbsp;<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='option'>[linenos]</span><span class='ignore'>{</span><span class='ignore'>c</span><span class='ignore'>}</span><br>
<span class='ignore'>void</span> <span class='ignore'>strlen</span><span class='ignore'>(</span><span class='ignore'>)</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>char</span> <span class='ignore'>*</span><span class='ignore'>str</span> <span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>testing</span><span class='ignore'>"</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>int</span> <span class='ignore'>length</span> <span class='ignore'>=</span> <span class='ignore'>0</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class='ignore'>while</span><span class='ignore'>(</span> <span class='ignore'>*</span><span class='ignore'>(</span><span class='ignore'>str</span> <span class='ignore'>+</span> <span class='ignore'>length</span><span class='ignore'>)</span> <span class='ignore'>)</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='ignore'>length</span><span class='ignore'>+</span><span class='ignore'>+</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>}</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class='ignore'>printf</span><span class='ignore'>(</span><span class='ignore'>"</span><span class='comment'>%d", length);</span><br>
<span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>C</span> <span class='ignore'>function</span> <span class='ignore'>to</span> <span class='ignore'>calculate</span> <span class='ignore'>the</span> <span class='ignore'>length</span> <span class='ignore'>of</span> <span class='ignore'>a</span> <span class='ignore'>string</span> <span class='ignore'>and</span> <span class='ignore'>print</span> <span class='ignore'>to</span> <span class='ignore'>console</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>asm</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.05</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='exclcmd'>\hfill</span><span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='option'>[linenos]</span><span class='ignore'>{</span><span class='ignore'>python</span><span class='ignore'>}</span><br>
<span class='ignore'>def</span> <span class='ignore'>strlen</span><span class='ignore'>(</span><span class='ignore'>)</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>int</span> <span class='ignore'>str</span> <span class='ignore'>=</span> <span class='ignore'>"</span><span class='ignore'>testing</span><span class='ignore'>"</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>int</span> <span class='ignore'>length</span> <span class='ignore'>=</span> <span class='ignore'>0</span><span class='ignore'>;</span><br>
<br>
&nbsp; &nbsp; <span class='ignore'>while</span><span class='ignore'>(</span> <span class='ignore'>@</span><span class='ignore'>(</span><span class='ignore'>str</span> <span class='ignore'>+</span> <span class='ignore'>length</span><span class='ignore'>)</span> <span class='ignore'>)</span> <span class='ignore'>{</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='ignore'>length</span> <span class='ignore'>=</span> <span class='ignore'>length</span> <span class='ignore'>+</span> <span class='ignore'>1</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>}</span><br>
<br>
&nbsp; &nbsp; <span class='ignore'>UART1</span><span class='ignore'>(</span><span class='ignore'>length</span> <span class='ignore'>+</span> <span class='ignore'>48</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
<span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Equivalent</span> <span class='ignore'>function</span> <span class='ignore'>to</span> <span class='ignore'>print</span> <span class='ignore'>the</span> <span class='ignore'>length</span> <span class='ignore'>of</span> <span class='ignore'>a</span> <span class='ignore'>string</span> <span class='ignore'>to</span> <span class='ignore'>UART</span> <span class='ignore'>in</span> <span class='ignore'>the</span> <span class='exclcmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='ignore'>programming</span> <span class='ignore'>language</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>_</span><span class='ignore'>high</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Example</span> <span class='ignore'>machine</span> <span class='ignore'>code</span> <span class='ignore'>generation</span> <span class='ignore'>for</span> <span class='ignore'>value</span> <span class='ignore'>dereferencing</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>vars</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>PUSH</span> <span class='hword'>and</span> <span class='hword'>POP</span><span class='ignore'>}</span><br>
<span class='cmd'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>}</span><br>
<span class='word'>Due</span> <span class='word'>to</span> <span class='word'>limitations</span> <span class='word'>of</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor's</span> <span class='word'>instruction</span> <span class='word'>set</span><span class='ignore'>,</span> <span class='word'>high-level</span> <span class='word'>instructions</span> <span class='word'>such</span> <span class='word'>as</span> <span class='word'>PUSH</span> <span class='word'>and</span> <span class='word'>POP</span> <span class='word'>cannot</span> <span class='word'>be</span> <span class='word'>performed</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>single</span> <span class='word'>instruction</span><span class='ignore'>.</span> <span class='word'>Instead</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>able</span> <span class='word'>to</span> <span class='word'>replicate</span> <span class='word'>the</span> <span class='word'>behaviour</span> <span class='word'>of</span> <span class='word'>these</span> <span class='word'>high</span> <span class='word'>level</span> <span class='word'>instructions</span> <span class='word'>by</span> <span class='word'>emitting</span> <span class='word'>multiple</span> <span class='word'>primitive</span> <span class='word'>instructions</span><span class='ignore'>.</span> <span class='word'>Figure</span> <span class='cmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>}</span> <span class='word'>below</span> <span class='word'>details</span> <span class='word'>how</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>emulates</span> <span class='word'>these</span> <span class='word'>high-level</span> <span class='word'>instructions</span><span class='ignore'>.</span><br>
<br>
<span class='envir'>\begin</span><span class='envir'>{figure}</span><span class='option'>[!h]</span><br>
&nbsp;&nbsp;<span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><br>
<span class='ignore'>void</span> <span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>prco</span><span class='ignore'>(</span><span class='ignore'>enum</span> <span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>reg</span> <span class='ignore'>rd</span><span class='ignore'>)</span><br>
<span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>(</span><span class='ignore'>opcode</span><span class='ignore'>_</span><span class='ignore'>add</span><span class='ignore'>_</span><span class='ignore'>ri</span><span class='ignore'>(</span><span class='ignore'>Sp</span><span class='ignore'>,</span> <span class='ignore'>-</span><span class='ignore'>1</span><span class='ignore'>)</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>(</span><span class='ignore'>opcode</span><span class='ignore'>_</span><span class='ignore'>sw</span><span class='ignore'>(</span><span class='ignore'>rd</span><span class='ignore'>,</span> <span class='ignore'>Sp</span><span class='ignore'>,</span> <span class='ignore'>0</span><span class='ignore'>)</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>comment</span><span class='ignore'>(</span><span class='ignore'>"</span><span class='ignore'>PUSH</span><span class='ignore'>"</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
<span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>PUSH</span> <span class='ignore'>emulation</span><span class='ignore'>.</span> <span class='ignore'>The</span> <span class='ignore'>Stack</span> <span class='ignore'>Pointer</span> <span class='ignore'>is</span> <span class='ignore'>subtracted</span> <span class='ignore'>the</span> <span class='ignore'>amount</span> <span class='ignore'>to</span> <span class='ignore'>store</span> <span class='ignore'>on</span> <span class='ignore'>the</span> <span class='ignore'>stack</span> <span class='ignore'>(</span><span class='ignore'>1</span> <span class='ignore'>word</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='ignore'>followed</span> <span class='ignore'>by</span> <span class='ignore'>storing</span> <span class='ignore'>the</span> <span class='ignore'>destination</span> <span class='ignore'>register</span> <span class='ignore'>(</span><span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>rd</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='ignore'>at</span> <span class='ignore'>the</span> <span class='ignore'>new</span> <span class='ignore'>Stack</span> <span class='ignore'>Pointer</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\begin</span><span class='exclenv'>{minipage}</span><span class='ignore'>{</span><span class='ignore'>0.5</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclcmd'>\centering</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='exclenv'>\begin</span><span class='exclenv'>{minted}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><br>
<span class='ignore'>void</span> <span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>_</span><span class='ignore'>prco</span><span class='ignore'>(</span><span class='ignore'>enum</span> <span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>reg</span> <span class='ignore'>rd</span><span class='ignore'>)</span><br>
<span class='ignore'>{</span><br>
&nbsp; &nbsp; <span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>(</span><span class='ignore'>opcode</span><span class='ignore'>_</span><span class='ignore'>lw</span><span class='ignore'>(</span><span class='ignore'>rd</span><span class='ignore'>,</span> <span class='ignore'>Sp</span><span class='ignore'>,</span> <span class='ignore'>0</span><span class='ignore'>)</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>comment</span><span class='ignore'>(</span><span class='ignore'>"</span><span class='ignore'>POP</span><span class='ignore'>"</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
&nbsp; &nbsp; <span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>(</span><span class='ignore'>opcode</span><span class='ignore'>_</span><span class='ignore'>add</span><span class='ignore'>_</span><span class='ignore'>ri</span><span class='ignore'>(</span><span class='ignore'>Sp</span><span class='ignore'>,</span> <span class='ignore'>1</span><span class='ignore'>)</span><span class='ignore'>)</span><span class='ignore'>;</span><br>
<span class='ignore'>}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minted}</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>POP</span> <span class='ignore'>emulation</span><span class='ignore'>.</span> <span class='ignore'>The</span> <span class='ignore'>value</span> <span class='ignore'>pointed</span> <span class='ignore'>to</span> <span class='ignore'>by</span> <span class='ignore'>the</span> <span class='ignore'>Stack</span> <span class='ignore'>Pointer</span> <span class='ignore'>is</span> <span class='ignore'>loaded</span> <span class='ignore'>in</span> <span class='ignore'>the</span> <span class='ignore'>destination</span> <span class='ignore'>register</span> <span class='ignore'>(</span><span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>rd</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='ignore'>followed</span> <span class='ignore'>by</span> <span class='ignore'>incrementing</span> <span class='ignore'>the</span> <span class='ignore'>Stack</span> <span class='ignore'>Pointer</span> <span class='ignore'>the</span> <span class='ignore'>size</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>data</span> <span class='ignore'>type</span> <span class='ignore'>(</span><span class='ignore'>1</span> <span class='ignore'>word</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclenv'>\end</span><span class='exclenv'>{minipage}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\captionof</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>PUSH</span> <span class='ignore'>and</span> <span class='ignore'>POP</span> <span class='ignore'>emulation</span> <span class='ignore'>functions</span> <span class='ignore'>used</span> <span class='ignore'>by</span> <span class='ignore'>the</span> <span class='exclcmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='ignore'>compiler</span> <span class='ignore'>(</span><span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>arch</span><span class='ignore'>/</span><span class='ignore'>prco</span><span class='exclcmd'>\_</span><span class='ignore'>impl.c</span><span class='ignore'>:</span><span class='ignore'>255</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='ignore'>Example</span> <span class='ignore'>of</span> <span class='ignore'>use</span><span class='ignore'>:</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\mintinline</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>prco</span><span class='ignore'>(</span><span class='ignore'>Ax</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>to</span> <span class='ignore'>push</span> <span class='ignore'>register</span> <span class='ignore'>Ax</span> <span class='ignore'>to</span> <span class='ignore'>the</span> <span class='ignore'>stack</span><span class='ignore'>;</span> <span class='exclcmd'>\mintinline</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>_</span><span class='ignore'>prco</span><span class='ignore'>(</span><span class='ignore'>Ax</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>to</span> <span class='ignore'>pop</span> <span class='ignore'>stack</span> <span class='ignore'>into</span> <span class='ignore'>Ax</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
&nbsp; &nbsp; <span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cg</span><span class='ignore'>_</span><span class='ignore'>push</span><span class='ignore'>_</span><span class='ignore'>pop</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{figure}</span><br>
<br>
<br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Assembling</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='word'>final</span> <span class='word'>stage</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>assembling</span> <span class='word'>stage</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>stage</span> <span class='word'>takes</span> <span class='word'>the</span> <span class='word'>list</span> <span class='word'>of</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>struct</span> <span class='word'>prco</span><span class='ignore'>_</span><span class='word'>op</span><span class='ignore'>_</span><span class='word'>struct</span><span class='ignore'>}</span> <span class='word'>and</span> <span class='word'>outputs</span> <span class='word'>a</span> <span class='word'>list</span> <span class='word'>of</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>instructions</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>assembler</span> <span class='word'>accomplishes</span> <span class='word'>this</span> <span class='word'>by</span> <span class='word'>calculating</span> <span class='word'>offsets</span> <span class='word'>and</span> <span class='word'>addresses</span> <span class='word'>of</span> <span class='word'>functions</span><span class='ignore'>,</span> <span class='word'>branching</span> <span class='word'>instructions</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>global</span> <span class='word'>variable</span> <span class='word'>addresses</span><span class='ignore'>.</span> <span class='word'>It</span> <span class='word'>may</span> <span class='word'>also</span> <span class='word'>rearrange</span> <span class='word'>function</span> <span class='word'>locations</span> <span class='word'>so</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>main</span> <span class='word'>function</span> <span class='word'>is</span> <span class='word'>the</span> <span class='word'>first</span> <span class='word'>instruction</span> <span class='word'>to</span> <span class='word'>be</span> <span class='word'>emitted</span><span class='ignore'>.</span><br>
<br>
<span class='word'>Assembling</span> <span class='word'>code</span> <span class='word'>is</span> <span class='word'>found</span> <span class='word'>in</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>assembler_labels()</span><span class='cmd'>|</span> <span class='word'>at</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>arch/template_impl.c:38</span><span class='cmd'>|</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Executable</span> <span class='hword'>Layout</span><span class='ignore'>}</span><br>
<span class='comment'>%\begin{figure}[H]</span><br>
<span class='envir'>\begin</span><span class='envir'>{wrapfigure}</span><span class='ignore'>{</span><span class='ignore'>r</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0.3</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{center}</span><br>
<span class='exclcmd'>\includegraphics</span><span class='option'>[scale=0.4]</span><span class='ignore'>{</span><span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>memory</span><span class='ignore'>_</span><span class='ignore'>layout</span><span class='ignore'>}</span><br>
<span class='exclenv'>\end</span><span class='exclenv'>{center}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='oword'>memory</span> <span class='oword'>layout</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>asm</span><span class='ignore'>_</span><span class='ignore'>mem</span><span class='ignore'>_</span><span class='ignore'>layout</span><span class='ignore'>}</span><br>
<span class='comment'>%\end{figure}</span><br>
<span class='envir'>\end</span><span class='envir'>{wrapfigure}</span><br>
<br>
<span class='word'>Another</span> <span class='word'>role</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>assembler</span> <span class='word'>in</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span> <span class='word'>is</span> <span class='word'>to</span> <span class='word'>output</span> <span class='word'>the</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>in</span> <span class='word'>a</span> <span class='word'>format</span> <span class='word'>that</span> <span class='word'>allows</span> <span class='word'>the</span> <span class='word'>widest</span> <span class='word'>range</span> <span class='word'>of</span> <span class='word'>programs</span> <span class='word'>to</span> <span class='word'>be</span> <span class='word'>run</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span><br>
<br>
<span class='word'>This</span> <span class='word'>format</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>enforced</span> <span class='word'>by</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>core</span> <span class='word'>and</span> <span class='word'>it's</span> <span class='word'>up</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>to</span> <span class='word'>lay</span> <span class='word'>out</span> <span class='word'>the</span> <span class='word'>processor's</span> <span class='word'>memory</span> <span class='word'>contents</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>only</span> <span class='word'>feature</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>states</span> <span class='word'>is</span> <span class='word'>that</span> <span class='word'>it</span> <span class='word'>will</span> <span class='word'>start</span> <span class='word'>reading</span> <span class='word'>instructions</span> <span class='word'>from</span> <span class='word'>address</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>0x00</span><span class='cmd'>|</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>compiler</span> <span class='word'>uses</span> <span class='word'>this</span> <span class='word'>information</span> <span class='word'>to</span> <span class='word'>structure</span> <span class='word'>the</span> <span class='word'>output</span> <span class='word'>program</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>first</span> <span class='word'>two</span> <span class='word'>words</span> <span class='word'>of</span> <span class='word'>memory</span> <span class='ignore'>(</span><span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>0x00</span><span class='cmd'>|</span> <span class='word'>and</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>0x01</span><span class='cmd'>|</span><span class='ignore'>)</span> <span class='word'>contain</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>MOVI</span><span class='cmd'>|</span> <span class='word'>and</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>JMP</span><span class='cmd'>|</span> <span class='word'>instructions</span> <span class='word'>to</span> <span class='word'>jump</span> <span class='word'>the</span> <span class='word'>processor</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>address</span> <span class='word'>of</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>main()</span><span class='cmd'>|</span> <span class='word'>function</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Limitations</span><span class='ignore'>}</span><br>
<span class='word'>Due</span> <span class='word'>to</span> <span class='word'>time</span> <span class='word'>constraints</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>assembler</span> <span class='word'>introduces</span> <span class='word'>many</span> <span class='word'>constraints</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>output</span> <span class='word'>program</span> <span class='word'>that</span> <span class='word'>are</span> <span class='word'>not</span> <span class='word'>explicitly</span> <span class='word'>identified</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>high-level</span> <span class='word'>code</span><span class='ignore'>.</span><br>
<br>
<span class='word'>The</span> <span class='word'>most</span> <span class='word'>prominent</span> <span class='word'>limitation</span> <span class='word'>is</span> <span class='word'>that</span> <span class='word'>the</span> <span class='word'>assembler</span> <span class='word'>can</span> <span class='word'>only</span> <span class='word'>address</span> <span class='word'>255</span> <span class='word'>words</span> <span class='word'>of</span> <span class='word'>memory</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>is</span> <span class='word'>because</span> <span class='word'>the</span> <span class='word'>assembler</span> <span class='word'>only</span> <span class='word'>builds</span> <span class='word'>up</span> <span class='word'>instruction</span> <span class='word'>addresses</span> <span class='word'>using</span> <span class='word'>a</span> <span class='word'>single</span> <span class='word'>MOVI</span> <span class='word'>instruction</span><span class='ignore'>,</span> <span class='word'>which</span> <span class='word'>is</span> <span class='word'>limited</span> <span class='word'>to</span> <span class='word'>an</span> <span class='word'>8-bit</span> <span class='word'>immediate</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>is</span> <span class='word'>easily</span> <span class='word'>fixable</span> <span class='word'>as</span> <span class='word'>the</span> <span class='word'>assembler</span> <span class='word'>could</span> <span class='word'>insert</span> <span class='word'>additional</span> <span class='word'>instructions</span> <span class='word'>to</span> <span class='word'>build</span> <span class='word'>up</span> <span class='word'>16-bit</span> <span class='word'>addresses</span> <span class='word'>to</span> <span class='word'>use</span><span class='ignore'>.</span> <span class='word'>For</span> <span class='word'>example</span><span class='ignore'>,</span> <span class='word'>to</span> <span class='word'>build</span> <span class='word'>a</span> <span class='word'>16-bit</span> <span class='word'>address</span><span class='ignore'>,</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>0xFECA</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>following</span> <span class='word'>instructions</span> <span class='word'>could</span> <span class='word'>be</span> <span class='word'>used</span><span class='ignore'>:</span><br>
<span class='tc'>%TC:ignore</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>minted</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>asm</span><span class='ignore'>}</span><br>
<span class='ignore'>MOVI</span><span class='ignore'>&nbsp; </span><span class='ignore'>$</span><span class='ignore'>0xFE</span><span class='ignore'>,</span><span class='ignore'>&nbsp;  </span><span class='comment'>%Ax</span><br>
<span class='ignore'>LSHF</span><span class='ignore'>&nbsp; </span><span class='comment'>%Ax,&nbsp; &nbsp;  $8</span><br>
<span class='ignore'>ORI</span><span class='ignore'>&nbsp;  </span><span class='comment'>%Ax,&nbsp; &nbsp;  $0xCA</span><br>
<span class='ignore'>JMP</span><span class='ignore'>&nbsp;  </span><span class='comment'>%Ax,&nbsp; &nbsp;  JE_UC (unconditional)</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>minted</span><span class='ignore'>}</span><br>
<span class='tc'>%TC:endignore</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Testing</span> <span class='hword'>and</span> <span class='hword'>Verification</span><span class='ignore'>}</span><br>
<span class='word'>Verifying</span> <span class='word'>the</span> <span class='word'>output</span> <span class='word'>assembly</span> <span class='word'>is</span> <span class='word'>a</span> <span class='word'>bit</span> <span class='word'>more</span> <span class='word'>involved</span> <span class='word'>as</span> <span class='word'>there</span> <span class='word'>are</span> <span class='word'>multiple</span> <span class='word'>layers</span> <span class='word'>of</span> <span class='word'>tests</span> <span class='word'>required</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>output</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>must</span> <span class='word'>be</span> <span class='word'>tested</span> <span class='word'>for</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{itemize}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='ignore'>(</span><span class='word'>A</span><span class='ignore'>)</span> <span class='word'>Correct</span> <span class='word'>instruction</span> <span class='word'>and</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>building</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='ignore'>(</span><span class='word'>B</span><span class='ignore'>)</span> <span class='word'>Correct</span> <span class='word'>instruction</span> <span class='word'>sequences</span> <span class='word'>for</span> <span class='word'>different</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>routines</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='ignore'>(</span><span class='word'>C</span><span class='ignore'>)</span> <span class='word'>Correct</span> <span class='word'>and</span> <span class='word'>complete</span> <span class='word'>flow</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>output</span> <span class='word'>program</span> <span class='word'>and</span> <span class='word'>any</span> <span class='word'>divergent</span> <span class='word'>paths</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{itemize}</span><br>
<br>
<span class='cmd'>\subsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Unit</span> <span class='hword'>Testing</span><span class='ignore'>}</span><br>
<span class='word'>For</span> <span class='ignore'>(</span><span class='word'>A</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word'>a</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>routine</span> <span class='word'>refers</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>function</span> <span class='word'>used</span> <span class='word'>to</span> <span class='word'>produce</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>for</span> <span class='word'>a</span> <span class='word'>specific</span> <span class='word'>structure</span><span class='ignore'>,</span> <span class='word'>for</span> <span class='word'>example</span> <span class='word'>a</span> <span class='word'>function</span> <span class='word'>or</span> <span class='word'>assignment</span> <span class='word'>expression</span><span class='ignore'>.</span> <span class='word'>When</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>instructions</span> <span class='word'>are</span> <span class='word'>emitted</span> <span class='word'>from</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>routines</span><span class='ignore'>,</span> <span class='word'>they</span> <span class='word'>are</span> <span class='word'>pushed</span> <span class='word'>to</span> <span class='word'>a</span> <span class='word'>list</span> <span class='word'>of</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>struct</span> <span class='word'>prco</span><span class='ignore'>_</span><span class='word'>op</span><span class='ignore'>_</span><span class='word'>struct</span><span class='ignore'>}</span> <span class='word'>containing</span> <span class='word'>information</span> <span class='word'>about</span> <span class='word'>the</span> <span class='word'>emitted</span> <span class='word'>instruction</span><span class='ignore'>.</span> <span class='word'>Using</span> <span class='word'>this</span> <span class='word'>information</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>final</span> <span class='word'>output</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>word</span> <span class='ignore'>(</span><span class='word'>e.g</span><span class='ignore'>.</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>0x2020</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='word'>is</span> <span class='word'>rebuilt</span> <span class='word'>into</span> <span class='word'>an</span> <span class='word'>equivalent</span> <span class='cmd'>\mintinline</span><span class='ignore'>{</span><span class='word'>c</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>struct</span> <span class='word'>prco</span><span class='ignore'>_</span><span class='word'>op</span><span class='ignore'>_</span><span class='word'>struct</span><span class='ignore'>}</span> <span class='word'>structure</span> <span class='word'>and</span> <span class='word'>compared</span> <span class='word'>against</span> <span class='word'>the</span> <span class='word'>original</span><span class='ignore'>.</span> <span class='word'>If</span> <span class='word'>they</span> <span class='word'>are</span> <span class='word'>the</span> <span class='word'>same</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>encoded</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>word</span> <span class='word'>is</span> <span class='word'>considered</span> <span class='word'>correct</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>check</span> <span class='word'>happens</span> <span class='word'>every</span> <span class='word'>time</span> <span class='word'>an</span> <span class='word'>instruction</span> <span class='word'>is</span> <span class='word'>emitted</span> <span class='word'>from</span> <span class='word'>the</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>routines</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\subsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Real</span> <span class='hword'>Hardware</span> <span class='hword'>Tests</span><span class='ignore'>}</span><br>
<span class='word'>The</span> <span class='cmd'>\textit</span><span class='ignore'>{</span><span class='word'>best</span><span class='ignore'>}</span> <span class='word'>approach</span> <span class='word'>to</span> <span class='word'>verifying</span> <span class='word'>output</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>is</span> <span class='word'>to</span> <span class='word'>run</span> <span class='word'>it</span> <span class='word'>directly</span> <span class='word'>on</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>However</span><span class='ignore'>,</span> <span class='word'>this</span> <span class='word'>requires</span> <span class='word'>rebuilding</span> <span class='word'>the</span> <span class='word'>FPGA</span> <span class='word'>design</span> <span class='word'>with</span> <span class='word'>the</span> <span class='word'>new</span> <span class='word'>program</span> <span class='word'>code</span> <span class='word'>which</span> <span class='word'>is</span> <span class='word'>time</span> <span class='word'>consuming</span> <span class='word'>and</span> <span class='word'>not</span> <span class='word'>always</span> <span class='word'>practical</span><span class='ignore'>.</span> <span class='word'>In</span> <span class='word'>addition</span><span class='ignore'>,</span> <span class='word'>viewing</span> <span class='word'>of</span> <span class='word'>internal</span> <span class='word'>registers</span> <span class='word'>and</span> <span class='word'>signals</span> <span class='word'>is</span> <span class='word'>much</span> <span class='word'>more</span> <span class='word'>difficult</span> <span class='word'>due</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>lack</span> <span class='word'>of</span> <span class='word'>a</span> <span class='word'>debugging</span> <span class='word'>interface</span> <span class='word'>on</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span><br>
 <br>
<span class='cmd'>\subsection</span><span class='option'>*</span><span class='ignore'>{</span><span class='hword'>Emulation</span><span class='ignore'>}</span><br>
<span class='word'>During</span> <span class='word'>the</span> <span class='word'>later</span> <span class='word'>stages</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>project</span><span class='ignore'>,</span> <span class='word'>it</span> <span class='word'>was</span> <span class='word'>decided</span> <span class='word'>to</span> <span class='word'>build</span> <span class='word'>a</span> <span class='word'>software</span> <span class='word'>emulator</span> <span class='word'>for</span> <span class='word'>the</span> <span class='cmd'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>emulator</span><span class='ignore'>,</span> <span class='word'>found</span> <span class='word'>at</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>prco_compiler/emu/emu.c</span><span class='cmd'>|</span><span class='ignore'>,</span> <span class='word'>would</span> <span class='word'>utilise</span> <span class='word'>structures</span> <span class='word'>used</span> <span class='word'>in</span> <span class='word'>the</span> <span class='word'>compiler's</span> <span class='word'>assembling</span> <span class='word'>stage</span> <span class='word'>to</span> <span class='word'>rebuild</span> <span class='word'>instructions</span> <span class='word'>and</span> <span class='word'>their</span> <span class='word'>contents</span> <span class='word'>from</span> <span class='word'>raw</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>words</span><span class='ignore'>.</span> <span class='word'>Due</span> <span class='word'>to</span> <span class='word'>the</span> <span class='word'>late</span> <span class='word'>development</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>emulator</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>it</span> <span class='word'>not</span> <span class='word'>being</span> <span class='word'>a</span> <span class='word'>deliverable</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>only</span> <span class='word'>developed</span> <span class='word'>as</span> <span class='word'>an</span> <span class='word'>alternate</span> <span class='word'>means</span> <span class='word'>to</span> <span class='word'>test</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>emulator</span> <span class='word'>is</span> <span class='word'>not</span> <span class='word'>a</span> <span class='word'>full</span> <span class='word'>emulation</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>emulator</span> <span class='word'>implements</span> <span class='word'>most</span> <span class='word'>features</span> <span class='word'>of</span> <span class='word'>the</span> <span class='word'>processor</span><span class='ignore'>,</span> <span class='word'>including</span> <span class='word'>registers</span><span class='ignore'>,</span> <span class='word'>memory</span><span class='ignore'>,</span> <span class='word'>ALU</span> <span class='word'>operations</span><span class='ignore'>,</span> <span class='word'>and</span> <span class='word'>most</span> <span class='word'>instructions</span><span class='ignore'>.</span> <span class='word'>It</span> <span class='word'>is</span> <span class='word'>capable</span> <span class='word'>of</span> <span class='word'>emulating</span> <span class='word'>all</span> <span class='word'>the</span> <span class='word'>test</span> <span class='word'>programs</span> <span class='ignore'>(</span><span class='word'>found</span> <span class='word'>in</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>proc_compiler/tests/*.prcp</span><span class='cmd'>|</span><span class='ignore'>)</span> <span class='word'>except</span> <span class='word'>the</span> <span class='cmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>control_for_*</span><span class='cmd'>|</span> <span class='word'>programs</span><span class='ignore'>.</span><br>
<br>
<span class='word'>If</span> <span class='word'>extra</span> <span class='word'>time</span> <span class='word'>was</span> <span class='word'>allowed</span><span class='ignore'>,</span> <span class='word'>the</span> <span class='word'>emulator</span> <span class='word'>could</span> <span class='word'>be</span> <span class='word'>integrated</span> <span class='word'>with</span> <span class='word'>the</span> <span class='word'>unit</span> <span class='word'>tests</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>would</span> <span class='word'>allow</span> <span class='word'>for</span> <span class='word'>the</span> <span class='word'>dynamic</span> <span class='word'>compilation</span> <span class='word'>of</span> <span class='word'>high-level</span> <span class='word'>code</span> <span class='word'>test</span> <span class='word'>programs</span> <span class='word'>and</span> <span class='word'>analysing</span> <span class='word'>their</span> <span class='word'>behaviour</span> <span class='word'>during</span> <span class='word'>emulation</span> <span class='word'>against</span> <span class='word'>expected</span> <span class='word'>values</span><span class='ignore'>.</span> <span class='word'>This</span> <span class='word'>would</span> <span class='word'>greatly</span> <span class='word'>speed</span> <span class='word'>up</span> <span class='word'>compiler</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>development</span> <span class='word'>times</span><span class='ignore'>.</span><br>
<br>
<span class='cmd'>\newpage</span><br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Sub-project</span> <span class='hword'>Review</span><span class='ignore'>}</span><br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Core</span> <span class='hword'>Deliverables</span><span class='ignore'>}</span><br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[H]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Compiler</span> <span class='oword'>Core</span> <span class='oword'>Deliverables</span> <span class='oword'>Review</span><span class='ignore'>}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{4cm}</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Deliverable</span> <span class='ignore'>&amp;</span> <span class='ignore'>Implemented</span> <span class='ignore'>&amp;</span> <span class='ignore'>Version</span> <span class='ignore'>&amp;</span> <span class='ignore'>Comment</span> <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
<span class='ignore'>CFG</span> <span class='ignore'>Text</span> <span class='ignore'>Parser</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.00</span> <span class='ignore'>&amp;</span> <span class='ignore'>Recursive</span> <span class='ignore'>descent</span> <span class='ignore'>parser</span><span class='ignore'>.</span><span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>AST</span> <span class='ignore'>Intermediate</span> <span class='ignore'>Representation</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.00</span> <span class='ignore'>&amp;</span>&nbsp; <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Basic</span> <span class='ignore'>arithmetic</span> <span class='ignore'>Operators</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.10</span> <span class='ignore'>&amp;</span>&nbsp; <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>IF</span> <span class='ignore'>statements</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.30</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>if ( &lt;expr&gt; ) { ... }</span><span class='cmd'>|</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>IF</span> <span class='ignore'>ELSE</span> <span class='ignore'>statements</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.30</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>if ( &lt;expr&gt; ) { ... } else { ... }</span><span class='cmd'>|</span><span class='ignore'>.</span> <span class='ignore'>Else</span> <span class='ignore'>must</span> <span class='ignore'>be</span> <span class='ignore'>followed</span> <span class='ignore'>by</span> <span class='ignore'>an</span> <span class='ignore'>opening</span> <span class='ignore'>bracket</span> <span class='ignore'>character</span> <span class='ignore'>so</span> <span class='ignore'>no</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>else if</span><span class='cmd'>|</span> <span class='ignore'>statements</span><span class='ignore'>,</span> <span class='ignore'>although</span> <span class='ignore'>you</span> <span class='ignore'>can</span> <span class='ignore'>nest</span> <span class='ignore'>them</span> <span class='ignore'>instead</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>FOR</span> <span class='ignore'>statements</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.30</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Functions</span>&nbsp; 	<span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.20</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'></span><span class='cmd'>|</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Variables</span>&nbsp; 	<span class='ignore'>&amp;</span> <span class='ignore'>Limited</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.50</span> <span class='ignore'>&amp;</span> <span class='ignore'>Only</span> <span class='ignore'>local</span> <span class='ignore'>variables</span><span class='ignore'>.</span> <span class='ignore'>No</span> <span class='ignore'>global</span> <span class='ignore'>or</span> <span class='ignore'>parameter</span> <span class='ignore'>variables</span><span class='ignore'>.</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Code</span> <span class='ignore'>generation</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.30</span> <span class='ignore'>&amp;</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
<span class='ignore'>Assembling</span>&nbsp; 	<span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>1.40</span> <span class='ignore'>&amp;</span> <span class='ignore'>Basic</span> <span class='ignore'>offset</span> <span class='ignore'>calculation</span> <span class='ignore'>and</span> <span class='ignore'>re-encoding</span><span class='ignore'>.</span><span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\hline</span> <br>
<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Extended</span> <span class='hword'>Deliverables</span><span class='ignore'>}</span><br>
<span class='envir'>\begin</span><span class='envir'>{table}</span><span class='option'>[H]</span><br>
<span class='exclcmd'>\def</span><span class='exclcmd'>\arraystretch</span><span class='ignore'>{</span><span class='ignore'>1.5</span><span class='ignore'>}</span><br>
<span class='cmd'>\caption</span><span class='ignore'>{</span><span class='oword'>Compiler</span> <span class='oword'>Extended</span> <span class='oword'>Deliverables</span> <span class='oword'>Review</span><span class='ignore'>}</span><br>
<span class='exclenv'>\begin</span><span class='exclenv'>{tabularx}</span><span class='ignore'>{</span><span class='exclcmd'>\textwidth</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>|</span><span class='ignore'>p{4cm}</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>c</span><span class='ignore'>|</span><span class='ignore'>X</span><span class='ignore'>|</span><span class='ignore'>}</span><br>
<span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Deliverable</span> <span class='ignore'>&amp;</span> <span class='ignore'>Implemented</span> <span class='ignore'>&amp;</span> <span class='ignore'>Version</span> <span class='ignore'>&amp;</span> <span class='ignore'>Comment</span> <span class='exclcmd'>\\</span> <br>
<span class='exclcmd'>\specialrule</span><span class='ignore'>{</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2pt</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>0pt</span><span class='ignore'>}</span><br>
<span class='ignore'>Assembly</span> <span class='ignore'>text</span> <span class='ignore'>parsing</span> <span class='ignore'>&amp;</span> <span class='ignore'>No</span> <span class='ignore'>&amp;</span> <span class='ignore'>X</span> <span class='ignore'>&amp;</span> <span class='ignore'>Only</span> <span class='ignore'>the</span> <span class='ignore'>CFG</span> <span class='ignore'>text</span> <span class='ignore'>parser</span> <span class='ignore'>for</span> <span class='ignore'>the</span> <span class='ignore'>grammar</span> <span class='ignore'>described</span> <span class='ignore'>in</span> <span class='ignore'>section</span> <span class='exclcmd'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>grammar</span><span class='ignore'>}</span> <span class='ignore'>is</span> <span class='ignore'>present</span><span class='ignore'>.</span> <span class='ignore'>This</span> <span class='ignore'>would</span> <span class='ignore'>be</span> <span class='ignore'>a</span> <span class='ignore'>desirable</span> <span class='ignore'>feature</span> <span class='ignore'>for</span> <span class='ignore'>implementing</span> <span class='ignore'>features</span> <span class='ignore'>the</span> <span class='ignore'>compiler</span> <span class='ignore'>is</span> <span class='ignore'>not</span> <span class='ignore'>able</span> <span class='ignore'>to</span><span class='ignore'>.</span><br>
<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Optimisation</span><span class='ignore'>:</span> <span class='ignore'>Constant</span> <span class='ignore'>Folding</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.00</span> <span class='ignore'>&amp;</span> <span class='ignore'>Limited</span> <span class='ignore'>to</span> <span class='ignore'>compile</span> <span class='ignore'>time</span> <span class='ignore'>constants</span><span class='ignore'>.</span> <br>
<span class='ignore'>See</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>prco_compiler/libprco/opt.c:9</span><span class='cmd'>|</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Optimisation</span><span class='ignore'>:</span> <span class='ignore'>Unreachable-code</span> <span class='ignore'>elimination</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.00</span> <span class='ignore'>&amp;</span> <span class='ignore'>Limited</span> <span class='ignore'>to</span> <span class='ignore'>IF</span> <span class='ignore'>statement</span> <span class='ignore'>constants</span><span class='ignore'>.</span> <br>
<span class='ignore'>See</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>prco_compiler/libprco/opt.c:33</span><span class='cmd'>|</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span><br>
<span class='ignore'>String</span> <span class='ignore'>variables</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Limited</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.10</span> <span class='ignore'>&amp;</span> <span class='ignore'>All</span> <span class='ignore'>strings</span> <span class='ignore'>are</span> <span class='ignore'>placed</span> <span class='ignore'>in</span> <span class='ignore'>low</span> <span class='ignore'>memory</span><span class='ignore'>,</span> <span class='ignore'>not</span> <span class='ignore'>on</span> <span class='ignore'>stack</span><span class='ignore'>.</span> <span class='ignore'>Limited</span> <span class='ignore'>to</span> <span class='ignore'>alphanumeric</span> <span class='ignore'>identities</span> <span class='ignore'>(</span><span class='ignore'>easily</span> <span class='ignore'>fixable</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Dereferencing</span>&nbsp; &nbsp; &nbsp; &nbsp;  <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.10</span> <span class='ignore'>&amp;</span> <span class='ignore'>Uses</span> <span class='ignore'>low</span> <span class='ignore'>precedence</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>@</span><span class='cmd'>|</span> <span class='ignore'>symbol</span><span class='ignore'>.</span> <span class='ignore'>Unsafe</span> <span class='ignore'>like</span> <span class='ignore'>C's</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>*</span><span class='cmd'>|</span> <span class='ignore'>dereferencing</span> <span class='ignore'>functionality</span><span class='ignore'>.</span> <span class='ignore'>See</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>prco_compiler/test/tests/control_for_3.prco</span><span class='cmd'>|</span><span class='ignore'>.</span> <span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>Pointer</span><span class='ignore'>}</span> <span class='ignore'>arithmetic</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.10</span> <span class='ignore'>&amp;</span> <span class='ignore'>Inferred</span> <span class='ignore'>by</span> <span class='ignore'>dereferencing</span> <span class='ignore'>implementation</span><span class='ignore'>.</span> <br>
<span class='ignore'>E.g</span><span class='ignore'>.</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>@(a+1)</span><span class='cmd'>|</span> <span class='ignore'>returns</span> <span class='ignore'>contents</span> <span class='ignore'>of</span> <span class='ignore'>memory</span> <span class='ignore'>address</span> <span class='ignore'>at</span> <span class='ignore'>value</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>a+1</span><span class='cmd'>|</span><span class='ignore'>.</span> <br>
<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='ignore'>Assembler</span> <span class='ignore'>memory</span> <span class='ignore'>layout</span> <span class='ignore'>&amp;</span> <span class='ignore'>Yes</span> <span class='ignore'>&amp;</span> <span class='ignore'>2.10</span> <span class='ignore'>&amp;</span> <span class='ignore'>First</span> <span class='ignore'>instructions</span> <span class='ignore'>(</span><span class='ignore'>low</span> <span class='ignore'>memory</span><span class='ignore'>)</span> <span class='ignore'>jump</span> <span class='ignore'>into</span> <span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>middle</span><span class='ignore'>}</span> <span class='ignore'>memory</span> <span class='ignore'>where</span> <span class='exclcmd'>\verb</span><span class='cmd'>|</span><span class='ignore'>main</span><span class='cmd'>|</span> <span class='ignore'>function</span> <span class='ignore'>is</span> <span class='ignore'>located</span><span class='ignore'>.</span> <span class='ignore'>Low</span> <span class='ignore'>memory</span> <span class='ignore'>consists</span> <span class='ignore'>of</span> <span class='exclcmd'>\textit</span><span class='ignore'>{</span><span class='ignore'>global</span> <span class='ignore'>values</span><span class='ignore'>}</span> <span class='ignore'>(</span><span class='ignore'>like</span> <span class='ignore'>strings</span> <span class='ignore'>and</span> <span class='ignore'>global</span> <span class='ignore'>variables</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='ignore'>High</span> <span class='ignore'>memory</span> <span class='ignore'>is</span> <span class='ignore'>reserved</span> <span class='ignore'>for</span> <span class='ignore'>stack</span> <span class='ignore'>management</span><span class='ignore'>.</span> <br>
<span class='exclcmd'>\\</span> <span class='exclcmd'>\hline</span> <br>
<span class='exclenv'>\end</span><span class='exclenv'>{tabularx}</span><br>
<span class='envir'>\end</span><span class='envir'>{table}</span><br>
<br>
<span class='cmd'>\chapter</span><span class='ignore'>{</span><span class='hword'>Post-Project</span><span class='ignore'>}</span><br>
<span class='ignore'>{</span><span class='cmd'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='cmd'>\startcontents</span><span class='option'>[chapters]</span><br>
<span class='cmd'>\printcontents</span><span class='option'>[chapters]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='word'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Project</span> <span class='hword'>Post-mortem</span><span class='ignore'>}</span><br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Project</span> <span class='hword'>Objectives</span><span class='ignore'>}</span><br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Development</span> <span class='hword'>Process</span><span class='ignore'>}</span><br>
<span class='cmd'>\subsection</span><span class='ignore'>{</span><span class='hword'>Personal</span> <span class='hword'>Contributions</span><span class='ignore'>}</span><br>
<br>
<br>
<br>
<br>
<span class='cmd'>\section</span><span class='ignore'>{</span><span class='hword'>Conclusion</span><span class='ignore'>}</span><br>
<span class='word'>This</span> <span class='word'>project</span> <span class='word'>aimed</span> <span class='word'>at</span> <span class='word'>producing</span> <span class='word'>two</span> <span class='word'>complex</span> <span class='word'>technical</span> <span class='word'>systems</span><span class='ignore'>:</span> <span class='word'>an</span> <span class='word'>embedded</span> <span class='word'>processor</span> <span class='word'>and</span> <span class='word'>a</span> <span class='word'>compiler</span><span class='ignore'>.</span> <span class='word'>Both</span> <span class='word'>systems</span> <span class='word'>were</span> <span class='word'>developed</span> <span class='word'>and</span> <span class='word'>the</span> <span class='word'>output</span> <span class='word'>is</span> <span class='word'>an</span> <span class='word'>extremely</span> <span class='word'>valuable</span> <span class='word'>educational</span> <span class='word'>resource</span><span class='ignore'>.</span> <span class='word'>The</span> <span class='word'>technologies</span> <span class='word'>created</span> <span class='word'>from</span> <span class='word'>this</span> <span class='word'>project</span> <span class='word'>spawning</span> <span class='word'>from</span> <span class='word'>the</span> <span class='word'>compiler</span> <span class='word'>include</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{itemize}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>an</span> <span class='word'>easily</span> <span class='word'>extendible</span> <span class='word'>recursive-descent</span> <span class='word'>text</span> <span class='word'>parser</span><span class='ignore'>;</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>an</span> <span class='word'>AST</span> <span class='word'>optimiser</span> <span class='word'>for</span> <span class='word'>constant-folding</span> <span class='word'>and</span> <span class='word'>unreachable</span> <span class='word'>code</span> <span class='word'>elimination</span><span class='ignore'>;</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>a</span> <span class='word'>machine</span> <span class='word'>code</span> <span class='word'>generator</span> <span class='word'>and</span> <span class='word'>assembler</span><span class='ignore'>;</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>and</span> <span class='word'>an</span> <span class='word'>emulator</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{itemize}</span><br>
<span class='word'>And</span> <span class='word'>from</span> <span class='word'>the</span> <span class='word'>embedded</span> <span class='word'>processor</span><span class='ignore'>:</span><br>
<span class='envir'>\begin</span><span class='envir'>{itemize}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>a</span> <span class='word'>16-bit</span> <span class='word'>instruction</span> <span class='word'>set</span> <span class='word'>and</span> <span class='word'>it's</span> <span class='word'>implementation</span><span class='ignore'>;</span><span class='ignore'>}</span><br>
<span class='cmd'>\item</span><span class='ignore'>{</span><span class='word'>and</span> <span class='word'>a</span> <span class='word'>feed-forward</span> <span class='word'>pipeline</span> <span class='word'>architecture</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='envir'>\end</span><span class='envir'>{itemize}</span><br>
<span class='word'>I</span> <span class='word'>believe</span> <span class='word'>these</span> <span class='word'>technologies</span> <span class='word'>and</span> <span class='word'>their</span> <span class='word'>implementation</span> <span class='word'>details</span> <span class='word'>should</span> <span class='word'>be</span> <span class='word'>shared</span> <span class='word'>as</span> <span class='word'>an</span> <span class='word'>open</span><span class='ignore'>,</span> <span class='word'>educational</span> <span class='word'>resource</span> <span class='word'>for</span> <span class='word'>future</span> <span class='word'>projects</span> <span class='word'>and</span> <span class='word'>people</span> <span class='word'>interested</span> <span class='word'>in</span> <span class='word'>low-level</span> <span class='word'>code</span> <span class='word'>generation</span> <span class='word'>and</span> <span class='word'>embedded</span> <span class='word'>processor</span> <span class='word'>architecture</span><span class='ignore'>.</span><br>
<br>
<br>
<br>
<br>
<br>
<br>
<span class='cmd'>\newpage</span><br>
<span class='cmd'>\bibliography</span><span class='ignore'>{</span><span class='ignore'>prco304</span><span class='ignore'>}</span><br>
<br>
<br>
<br>
<br>
<span class='cmd'>\newpage</span><br>
<span class='tc'>%TC:ignore</span><br>
<span class='ignore'>\chapter</span><span class='ignore'>{</span><span class='ignore'>Appendices</span><span class='ignore'>}</span><br>
<span class='ignore'>{</span><span class='ignore'>\hypersetup</span><span class='ignore'>{</span><span class='ignore'>linkcolor</span><span class='ignore'>=</span><span class='ignore'>black</span><span class='ignore'>}</span><br>
<span class='ignore'>\startcontents</span><span class='ignore'>[</span><span class='ignore'>chapters</span><span class='ignore'>]</span><br>
<span class='ignore'>\printcontents</span><span class='ignore'>[</span><span class='ignore'>chapters</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>}</span><br>
<br>
<span class='ignore'>\section</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'> </span><span class='ignore'>A</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>User</span><span class='ignore'> </span><span class='ignore'>Guides</span><span class='ignore'>}</span><br>
<span class='ignore'>\subsection</span><span class='ignore'>{</span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>Core</span><span class='ignore'> </span><span class='ignore'>Reference</span><span class='ignore'> </span><span class='ignore'>Guide</span><span class='ignore'>}</span><br>
<span class='ignore'>\subsubsection</span><span class='ignore'>*</span><span class='ignore'>{</span><span class='ignore'>Instantiating</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>core</span><span class='ignore'> </span><span class='ignore'>in</span><span class='ignore'> </span><span class='ignore'>your</span><span class='ignore'> </span><span class='ignore'>FPGA</span><span class='ignore'> </span><span class='ignore'>design</span><span class='ignore'>}</span><br>
<span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>processor</span><span class='ignore'> </span><span class='ignore'>core</span><span class='ignore'> </span><span class='ignore'>can</span><span class='ignore'> </span><span class='ignore'>be</span><span class='ignore'> </span><span class='ignore'>instantiated</span><span class='ignore'> </span><span class='ignore'>in</span><span class='ignore'> </span><span class='ignore'>your</span><span class='ignore'> </span><span class='ignore'>FPGA</span><span class='ignore'> </span><span class='ignore'>design</span><span class='ignore'> </span><span class='ignore'>with</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>following</span><span class='ignore'> </span><span class='ignore'>code</span><span class='ignore'> </span><span class='ignore'>snippet</span><span class='ignore'>:</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>minted</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>verilog</span><span class='ignore'>}</span><br>
<span class='ignore'>/</span><span class='ignore'>/</span><span class='ignore'> </span><span class='ignore'>Instantiate</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>processor</span><span class='ignore'> </span><span class='ignore'>core</span><br>
<span class='ignore'>prco</span><span class='ignore'>_</span><span class='ignore'>core</span><span class='ignore'> </span><span class='ignore'>inst</span><span class='ignore'>_</span><span class='ignore'>core</span><span class='ignore'> </span><span class='ignore'>(</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>i</span><span class='ignore'>_</span><span class='ignore'>clk</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><span class='ignore'> </span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>i</span><span class='ignore'>_</span><span class='ignore'>en</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><span class='ignore'> </span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>i</span><span class='ignore'>_</span><span class='ignore'>reset</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>/</span><span class='ignore'>/</span><span class='ignore'> </span><span class='ignore'>Operating</span><span class='ignore'> </span><span class='ignore'>mode</span><span class='ignore'> </span><span class='ignore'>(</span><span class='ignore'>HIGH</span><span class='ignore'>=</span><span class='ignore'>single-step</span><span class='ignore'>)</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>i</span><span class='ignore'>_</span><span class='ignore'>mode</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>/</span><span class='ignore'>/</span><span class='ignore'> </span><span class='ignore'>Single-step</span><span class='ignore'> </span><span class='ignore'>pulse</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>i</span><span class='ignore'>_</span><span class='ignore'>step</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>/</span><span class='ignore'>/</span><span class='ignore'> </span><span class='ignore'>UART</span><span class='ignore'> </span><span class='ignore'>comms</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>i</span><span class='ignore'>_</span><span class='ignore'>rx</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>q</span><span class='ignore'>_</span><span class='ignore'>tx</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>q</span><span class='ignore'>_</span><span class='ignore'>tx</span><span class='ignore'>_</span><span class='ignore'>byte</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>/</span><span class='ignore'>/</span><span class='ignore'> </span><span class='ignore'>Debug</span><span class='ignore'> </span><span class='ignore'>outputs</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>q</span><span class='ignore'>_</span><span class='ignore'>debug</span><span class='ignore'>_</span><span class='ignore'>instr</span><span class='ignore'>_</span><span class='ignore'>clk</span><span class='ignore'>(</span><span class='ignore'>)</span><span class='ignore'>,</span><br>
<span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>.</span><span class='ignore'>q</span><span class='ignore'>_</span><span class='ignore'>debug</span><span class='ignore'>(</span><span class='ignore'>)</span><br>
<span class='ignore'>)</span><span class='ignore'>;</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>minted</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='ignore'>\subsection</span><span class='ignore'>{</span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>Compiler</span><span class='ignore'> </span><span class='ignore'>Reference</span><span class='ignore'> </span><span class='ignore'>Guide</span><span class='ignore'>}</span><br>
<span class='ignore'>\subsubsection</span><span class='ignore'>*</span><span class='ignore'>{</span><span class='ignore'>Command</span><span class='ignore'> </span><span class='ignore'>Line</span><span class='ignore'> </span><span class='ignore'>Interface</span><span class='ignore'> </span><span class='ignore'>Arguments</span><span class='ignore'>}</span><br>
<span class='ignore'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>cli</span><span class='ignore'>}</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>description</span><span class='ignore'>}</span><span class='ignore'>[</span><span class='ignore'>style</span><span class='ignore'>=</span><span class='ignore'>nextline</span><span class='ignore'>]</span><br>
<span class='ignore'>\item</span><span class='ignore'> </span><span class='ignore'>[</span><span class='ignore'>Name</span><span class='ignore'>]</span><br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>cli</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>-</span><span class='ignore'> </span><span class='ignore'>compile</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>program</span><span class='ignore'> </span><span class='ignore'>into</span><span class='ignore'> </span><span class='ignore'>executable</span><span class='ignore'> </span><span class='ignore'>machine</span><span class='ignore'> </span><span class='ignore'>code</span><span class='ignore'> </span><span class='ignore'>for</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>processor</span><span class='ignore'>.</span><br>
<br>
<span class='ignore'>\item</span><span class='ignore'>[</span><span class='ignore'>Synopsis</span><span class='ignore'>]</span><br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>cli</span><span class='ignore'> </span><span class='ignore'>[</span><span class='ignore'>OPTION</span><span class='ignore'>]</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>-</span><span class='ignore'>i{FILE}</span><span class='ignore'>|</span><br>
<br>
<span class='ignore'>\item</span><span class='ignore'> </span><span class='ignore'>[</span><span class='ignore'>Description</span><span class='ignore'>]</span><br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>d</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Dump</span><span class='ignore'> </span><span class='ignore'>output</span><span class='ignore'> </span><span class='ignore'>machine</span><span class='ignore'> </span><span class='ignore'>code</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>file</span><br>
<br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>D{bits}</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Select</span><span class='ignore'> </span><span class='ignore'>debug</span><span class='ignore'> </span><span class='ignore'>printing</span><span class='ignore'> </span><span class='ignore'>level</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Example</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>use</span><span class='ignore'>:</span><span class='ignore'> </span><span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>D0xFF</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>enable</span><span class='ignore'> </span><span class='ignore'>all</span><span class='ignore'> </span><span class='ignore'>debug</span><span class='ignore'> </span><span class='ignore'>bits</span><span class='ignore'>.</span><span class='ignore'> </span><br>
<br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>i{file}</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Pass</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>input</span><span class='ignore'> </span><span class='ignore'>file</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>compiler</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Example</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>use</span><span class='ignore'>:</span><span class='ignore'> </span><span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>i</span><span class='ignore'> </span><span class='ignore'>code.prco</span><span class='ignore'>|</span><span class='ignore'>.</span><br>
<br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>O</span><span class='ignore'>{</span><span class='ignore'>0-1</span><span class='ignore'>}</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Enable</span><span class='ignore'> </span><span class='ignore'>optimisation</span><span class='ignore'> </span><span class='ignore'>levels</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>0</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>=</span><span class='ignore'> </span><span class='ignore'>no</span><span class='ignore'> </span><span class='ignore'>optimisations</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>&gt;</span><span class='ignore'>0</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>=</span><span class='ignore'> </span><span class='ignore'>constant</span><span class='ignore'> </span><span class='ignore'>folding</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>unreachable</span><span class='ignore'> </span><span class='ignore'>code</span><span class='ignore'> </span><span class='ignore'>elimination</span><span class='ignore'>.</span><br>
<br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>m{arch}</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Pass</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>target</span><span class='ignore'> </span><span class='ignore'>architecture</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>compiler</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Deprecated</span><span class='ignore'>.</span><br>
<br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>description</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='ignore'>\subsection</span><span class='ignore'>{</span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>Emulator</span><span class='ignore'> </span><span class='ignore'>Reference</span><span class='ignore'> </span><span class='ignore'>Guide</span><span class='ignore'>}</span><br>
<span class='ignore'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>emulator</span><span class='ignore'>_</span><span class='ignore'>cli</span><span class='ignore'>}</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>description</span><span class='ignore'>}</span><span class='ignore'>[</span><span class='ignore'>style</span><span class='ignore'>=</span><span class='ignore'>nextline</span><span class='ignore'>]</span><br>
<span class='ignore'>\item</span><span class='ignore'> </span><span class='ignore'>[</span><span class='ignore'>Name</span><span class='ignore'>]</span><br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>emu</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>-</span><span class='ignore'> </span><span class='ignore'>Disassemble</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>emulate</span><span class='ignore'> </span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>processor</span><span class='ignore'> </span><span class='ignore'>programs</span><span class='ignore'>.</span><br>
<br>
<span class='ignore'>\item</span><span class='ignore'>[</span><span class='ignore'>Synopsis</span><span class='ignore'>]</span><br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>emu</span><span class='ignore'> </span><span class='ignore'>[</span><span class='ignore'>OPTION</span><span class='ignore'>]</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>-</span><span class='ignore'>i{FILE}</span><span class='ignore'>|</span><br>
<br>
<span class='ignore'>\item</span><span class='ignore'> </span><span class='ignore'>[</span><span class='ignore'>Description</span><span class='ignore'>]</span><br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>i</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Input</span><span class='ignore'> </span><span class='ignore'>machine</span><span class='ignore'> </span><span class='ignore'>code</span><span class='ignore'> </span><span class='ignore'>file</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>1</span><span class='ignore'> </span><span class='ignore'>instruction</span><span class='ignore'> </span><span class='ignore'>word</span><span class='ignore'> </span><span class='ignore'>per</span><span class='ignore'> </span><span class='ignore'>line</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>CRLF</span><span class='ignore'>/</span><span class='ignore'>LF</span><span class='ignore'> </span><span class='ignore'>accepted</span><span class='ignore'>.</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>description</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>D{bits}</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>Select</span><span class='ignore'> </span><span class='ignore'>debug</span><span class='ignore'> </span><span class='ignore'>printing</span><span class='ignore'> </span><span class='ignore'>level</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Example</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>use</span><span class='ignore'>:</span><span class='ignore'> </span><span class='ignore'>\verb</span><span class='ignore'>|</span><span class='ignore'>-</span><span class='ignore'>D0xFF</span><span class='ignore'>|</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>enable</span><span class='ignore'> </span><span class='ignore'>all</span><span class='ignore'> </span><span class='ignore'>debug</span><span class='ignore'> </span><span class='ignore'>bits</span><span class='ignore'>.</span><span class='ignore'> </span><br>
<br>
<span class='ignore'>\subsection</span><span class='ignore'>*</span><span class='ignore'>{</span><span class='ignore'>Example</span><span class='ignore'> </span><span class='ignore'>Output</span><span class='ignore'>}</span><br>
<span class='ignore'>\inputminted</span><span class='ignore'>{</span><span class='ignore'>text</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>emu</span><span class='ignore'>_</span><span class='ignore'>output.tex</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>\newpage</span><br>
<span class='ignore'>\subsection</span><span class='ignore'>{</span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>Processor</span><span class='ignore'> </span><span class='ignore'>Instruction</span><span class='ignore'> </span><span class='ignore'>Set</span><span class='ignore'> </span><span class='ignore'>Architecture</span><span class='ignore'>}</span><br>
<span class='ignore'>\input</span><span class='ignore'>{</span><span class='ignore'>isa.tex</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>\newpage</span><br>
<span class='ignore'>\section</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'> </span><span class='ignore'>B</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Project</span><span class='ignore'> </span><span class='ignore'>Management</span><span class='ignore'> </span><span class='ignore'>Artefacts</span><span class='ignore'>}</span><br>
<span class='ignore'>\input</span><span class='ignore'>{</span><span class='ignore'>pid.tex</span><span class='ignore'>}</span><br>
<span class='ignore'>\newpage</span><br>
<span class='ignore'>\input</span><span class='ignore'>{</span><span class='ignore'>highlights.tex</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='ignore'>\newpage</span><br>
<span class='ignore'>\section</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'> </span><span class='ignore'>C</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Other</span><span class='ignore'> </span><span class='ignore'>Documents</span><span class='ignore'>}</span><br>
<span class='ignore'>\subsection</span><span class='ignore'>{</span><span class='ignore'>Compiler</span><span class='ignore'> </span><span class='ignore'>Functional</span><span class='ignore'> </span><span class='ignore'>Requirements</span><span class='ignore'>}</span><br>
<span class='ignore'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>func</span><span class='ignore'>_</span><span class='ignore'>req</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>[</span><span class='ignore'>H</span><span class='ignore'>]</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>center</span><span class='ignore'>}</span><br>
<span class='ignore'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>scale</span><span class='ignore'>=</span><span class='ignore'>0.5</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>dependencies</span><span class='ignore'>}</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>center</span><span class='ignore'>}</span><br>
<span class='ignore'>\caption</span><span class='ignore'>{</span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>compiler</span><span class='ignore'> </span><span class='ignore'>Functional</span><span class='ignore'> </span><span class='ignore'>requirements</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>their</span><span class='ignore'> </span><span class='ignore'>technical</span><span class='ignore'> </span><span class='ignore'>implementation</span><span class='ignore'> </span><span class='ignore'>requirements</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='ignore'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>dependencies</span><span class='ignore'>}</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>\subsection</span><span class='ignore'>{</span><span class='ignore'>Compiler</span><span class='ignore'> </span><span class='ignore'>Sequence</span><span class='ignore'> </span><span class='ignore'>Diagram</span><span class='ignore'>}</span><br>
<span class='ignore'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>seq</span><span class='ignore'>_</span><span class='ignore'>uml</span><span class='ignore'>}</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><span class='ignore'>[</span><span class='ignore'>H</span><span class='ignore'>]</span><br>
<span class='ignore'>\begin</span><span class='ignore'>{</span><span class='ignore'>center</span><span class='ignore'>}</span><br>
<span class='ignore'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>scale</span><span class='ignore'>=</span><span class='ignore'>0.4</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>_</span><span class='ignore'>compiler</span><span class='ignore'>_</span><span class='ignore'>uml</span><span class='ignore'>_</span><span class='ignore'>seq</span><span class='ignore'>}</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>center</span><span class='ignore'>}</span><br>
<span class='ignore'>\caption</span><span class='ignore'>{</span><span class='ignore'>UML</span><span class='ignore'> </span><span class='ignore'>sequence</span><span class='ignore'> </span><span class='ignore'>diagram</span><span class='ignore'> </span><span class='ignore'>for</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>\scname</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><span class='ignore'>compiler</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='ignore'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>hld</span><span class='ignore'>}</span><br>
<span class='ignore'>\end</span><span class='ignore'>{</span><span class='ignore'>figure</span><span class='ignore'>}</span><br>
<span class='tc'>%TC:endignore</span><br>
<br>
<br>
<span class='error'>Encountered \end without corresponding \begin</span><br>
<span class='cmd'>\end</span><span class='ignore'>{</span><span class='word'>document</span><span class='ignore'>}</span><br>
<span class='error'>Reached end of file while waiting for }.</span><br>
<span class='ignore'>}</span><br>
<span class='error'>Reached end of file while waiting for \end.</span><br>
<span class='envir'>}</span><br>
<span class='error'>Environment ended while waiting for nd{minted}.</span><br>
<br>
<span class='error'>Reached end of file while waiting for \end.</span><br>
<span class='envir'>}</span><br>
<span class='error'>Environment ended while waiting for nd{document}.</span><br>
</p></div>
<div class='count'>
<ul class='count'>
<li class='header'>File: Ben_Lancaster_10424877.tex</li>
<li>Encoding: utf8</li>
<li>Words in text: 4831</li>
<li>Words in headers: 144</li>
<li>Words outside text (captions, etc.): 239</li>
<li>Number of headers: 73</li>
<li>Number of floats/tables/figures: 26</li>
<li>Number of math inlines: 0</li>
<li>Number of math displayed: 0</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>1+0+0 (0/0/0/0) _top_</li>
  <li>0+2+2 (1/1/0/0) Section: Revision History</li>
  <li>2+1+0 (1/0/0/0) Chapter: Abstract</li>
  <li>35+2+0 (1/0/0/0) Subsection: Word Count</li>
  <li>1+2+0 (1/0/0/0) Chapter: Embedded Processors</li>
  <li>132+1+0 (1/0/0/0) Section: Introduction</li>
  <li>0+1+0 (1/0/0/0) Section: Background</li>
  <li>0+2+0 (1/0/0/0) Subsection: Current Implementations</li>
  <li>70+2+0 (1/0/0/0) Section: Project Overview</li>
  <li>87+2+0 (1/0/0/0) Subsection: Core Deliverables</li>
  <li>105+2+0 (1/0/0/0) Subsection: Extended Deliverables</li>
  <li>0+4+0 (1/0/0/0) Section: Legal and Ethical Considerations</li>
  <li>50+1+0 (1/0/0/0) Subsection: Privacy</li>
  <li>161+3+0 (1/0/0/0) Subsection: Fit for Purpose</li>
  <li>121+2+0 (1/0/0/0) Subsection: Third-party Libraries</li>
  <li>135+2+0 (1/0/0/0) Subsection: Generated Code</li>
  <li>1+2+0 (1/0/0/0) Chapter: Project Management</li>
  <li>0+2+0 (1/0/0/0) Section: Time Management</li>
  <li>50+2+0 (1/0/0/0) Section: Version Control</li>
  <li>98+3+0 (1/0/0/0) Section: Method of Approach</li>
  <li>0+1+0 (1/0/0/0) Section: Requirements</li>
  <li>303+3+9 (1/2/0/0) Section: Resources and Dependencies</li>
  <li>1+2+0 (1/0/0/0) Chapter: \scname{} Processor Design</li>
  <li>51+1+0 (1/0/0/0) Section: Introduction</li>
  <li>17+3+4 (1/1/0/0) Section: High Level Design</li>
  <li>19+1+0 (1/0/0/0) Section: Registers</li>
  <li>72+3+3 (1/1/0/0) Subsection: General Purpose Registers</li>
  <li>268+8+5 (4/2/0/0) Subsection: Special Registers</li>
  <li>9+3+0 (1/0/0/0) Section: Instruction Set Architecture</li>
  <li>0+2+9 (1/1/0/0) Subsection: Instruction Types</li>
  <li>0+1+5 (1/1/0/0) Subsection: Instructions</li>
  <li>18+2+4 (1/1/0/0) Subsection: Conditional Branching</li>
  <li>155+6+0 (3/0/0/0) Subsection: Design Considerations</li>
  <li>342+2+14 (1/2/0/0) Section: Pipeline Architecture</li>
  <li>261+3+23 (1/1/0/0) Section: Testing and Verification</li>
  <li>1+1+0 (1/0/0/0) Chapter: \scname{} Compiler</li>
  <li>77+1+0 (1/0/0/0) Section: Introduction</li>
  <li>224+2+0 (1/0/0/0) Section: Functional Requirements</li>
  <li>59+1+0 (1/0/0/0) Section: Implementation</li>
  <li>13+2+0 (1/0/0/0) Subsection: Program Operation</li>
  <li>47+3+0 (1/0/0/0) Subsection: Building the Compiler</li>
  <li>101+2+7 (1/1/0/0) Section: Text Grammar</li>
  <li>125+2+0 (1/0/0/0) Subsection: Text Parser</li>
  <li>41+2+120 (1/2/0/0) Section: AST Generation</li>
  <li>69+1+0 (1/0/0/0) Section: Optimisation</li>
  <li>142+2+24 (1/3/0/0) Subsection: Constant Folding</li>
  <li>126+3+0 (1/0/0/0) Subsection: Unreachable Code Elimination</li>
  <li>151+2+0 (1/0/0/0) Section: Code Generation</li>
  <li>291+9+0 (4/3/0/0) Subsection: Variables</li>
  <li>51+3+0 (1/1/0/0) Subsection: PUSH and POP</li>
  <li>70+1+0 (1/0/0/0) Section: Assembling</li>
  <li>98+2+2 (1/1/0/0) Subsection: Executable Layout</li>
  <li>91+1+0 (1/0/0/0) Subsection: Limitations</li>
  <li>54+3+0 (1/0/0/0) Section: Testing and Verification</li>
  <li>112+2+0 (1/0/0/0) Subsection: Unit Testing</li>
  <li>59+3+0 (1/0/0/0) Subsection: Real Hardware Tests</li>
  <li>152+1+0 (1/0/0/0) Subsection: Emulation</li>
  <li>0+2+0 (1/0/0/0) Section: Sub-project Review</li>
  <li>0+2+4 (1/1/0/0) Subsection: Core Deliverables</li>
  <li>0+2+4 (1/1/0/0) Subsection: Extended Deliverables</li>
  <li>1+1+0 (1/0/0/0) Chapter: Post-Project</li>
  <li>0+2+0 (1/0/0/0) Section: Project Post-mortem</li>
  <li>0+2+0 (1/0/0/0) Subsection: Project Objectives</li>
  <li>0+2+0 (1/0/0/0) Subsection: Development Process</li>
  <li>0+2+0 (1/0/0/0) Subsection: Personal Contributions</li>
  <li>111+1+0 (1/0/0/0) Section: Conclusion</li>
</span>
</ul>
</div>
</div>

<div class='error'><p>
There were 7 error(s) reported!
</p></div>
</body>

</html>
